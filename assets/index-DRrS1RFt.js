(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();function Fx(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var ob={exports:{}},Cl={};/**
* @license React
* react-jsx-runtime.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var lb;function Vx(){if(lb)return Cl;lb=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:u}}return Cl.Fragment=e,Cl.jsx=n,Cl.jsxs=n,Cl}var ub;function Ux(){return ub||(ub=1,ob.exports=Vx()),ob.exports}var w=Ux(),cb={exports:{}},xe={};/**
* @license React
* react.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var hb;function zx(){if(hb)return xe;hb=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),A=Symbol.iterator;function $(P){return P===null||typeof P!="object"?null:(P=A&&P[A]||P["@@iterator"],typeof P=="function"?P:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,K={};function ne(P,J,oe){this.props=P,this.context=J,this.refs=K,this.updater=oe||H}ne.prototype.isReactComponent={},ne.prototype.setState=function(P,J){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,J,"setState")},ne.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function se(){}se.prototype=ne.prototype;function W(P,J,oe){this.props=P,this.context=J,this.refs=K,this.updater=oe||H}var ce=W.prototype=new se;ce.constructor=W,B(ce,ne.prototype),ce.isPureReactComponent=!0;var we=Array.isArray;function re(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function N(P,J,oe){var ue=oe.ref;return{$$typeof:s,type:P,key:J,ref:ue!==void 0?ue:null,props:oe}}function O(P,J){return N(P.type,J,P.props)}function L(P){return typeof P=="object"&&P!==null&&P.$$typeof===s}function M(P){var J={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(oe){return J[oe]})}var _=/\/+/g;function Xe(P,J){return typeof P=="object"&&P!==null&&P.key!=null?M(""+P.key):J.toString(36)}function ut(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(re,re):(P.status="pending",P.then(function(J){P.status==="pending"&&(P.status="fulfilled",P.value=J)},function(J){P.status==="pending"&&(P.status="rejected",P.reason=J)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function Q(P,J,oe,ue,ke){var Ce=typeof P;(Ce==="undefined"||Ce==="boolean")&&(P=null);var Fe=!1;if(P===null)Fe=!0;else switch(Ce){case"bigint":case"string":case"number":Fe=!0;break;case"object":switch(P.$$typeof){case s:case e:Fe=!0;break;case k:return Fe=P._init,Q(Fe(P._payload),J,oe,ue,ke)}}if(Fe)return ke=ke(P),Fe=ue===""?"."+Xe(P,0):ue,we(ke)?(oe="",Fe!=null&&(oe=Fe.replace(_,"$&/")+"/"),Q(ke,J,oe,"",function(fa){return fa})):ke!=null&&(L(ke)&&(ke=O(ke,oe+(ke.key==null||P&&P.key===ke.key?"":(""+ke.key).replace(_,"$&/")+"/")+Fe)),J.push(ke)),1;Fe=0;var At=ue===""?".":ue+":";if(we(P))for(var it=0;it<P.length;it++)ue=P[it],Ce=At+Xe(ue,it),Fe+=Q(ue,J,oe,Ce,ke);else if(it=$(P),typeof it=="function")for(P=it.call(P),it=0;!(ue=P.next()).done;)ue=ue.value,Ce=At+Xe(ue,it++),Fe+=Q(ue,J,oe,Ce,ke);else if(Ce==="object"){if(typeof P.then=="function")return Q(ut(P),J,oe,ue,ke);throw J=String(P),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Fe}function ie(P,J,oe){if(P==null)return P;var ue=[],ke=0;return Q(P,ue,"","",function(Ce){return J.call(oe,Ce,ke++)}),ue}function me(P){if(P._status===-1){var J=P._result;J=J(),J.then(function(oe){(P._status===0||P._status===-1)&&(P._status=1,P._result=oe)},function(oe){(P._status===0||P._status===-1)&&(P._status=2,P._result=oe)}),P._status===-1&&(P._status=0,P._result=J)}if(P._status===1)return P._result.default;throw P._result}var Ue=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Ge={map:ie,forEach:function(P,J,oe){ie(P,function(){J.apply(this,arguments)},oe)},count:function(P){var J=0;return ie(P,function(){J++}),J},toArray:function(P){return ie(P,function(J){return J})||[]},only:function(P){if(!L(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return xe.Activity=E,xe.Children=Ge,xe.Component=ne,xe.Fragment=n,xe.Profiler=o,xe.PureComponent=W,xe.StrictMode=a,xe.Suspense=m,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,xe.__COMPILER_RUNTIME={__proto__:null,c:function(P){return C.H.useMemoCache(P)}},xe.cache=function(P){return function(){return P.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(P,J,oe){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ue=B({},P.props),ke=P.key;if(J!=null)for(Ce in J.key!==void 0&&(ke=""+J.key),J)!S.call(J,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&J.ref===void 0||(ue[Ce]=J[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=oe;else if(1<Ce){for(var Fe=Array(Ce),At=0;At<Ce;At++)Fe[At]=arguments[At+2];ue.children=Fe}return N(P.type,ke,ue)},xe.createContext=function(P){return P={$$typeof:d,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},xe.createElement=function(P,J,oe){var ue,ke={},Ce=null;if(J!=null)for(ue in J.key!==void 0&&(Ce=""+J.key),J)S.call(J,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ke[ue]=J[ue]);var Fe=arguments.length-2;if(Fe===1)ke.children=oe;else if(1<Fe){for(var At=Array(Fe),it=0;it<Fe;it++)At[it]=arguments[it+2];ke.children=At}if(P&&P.defaultProps)for(ue in Fe=P.defaultProps,Fe)ke[ue]===void 0&&(ke[ue]=Fe[ue]);return N(P,Ce,ke)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(P){return{$$typeof:p,render:P}},xe.isValidElement=L,xe.lazy=function(P){return{$$typeof:k,_payload:{_status:-1,_result:P},_init:me}},xe.memo=function(P,J){return{$$typeof:y,type:P,compare:J===void 0?null:J}},xe.startTransition=function(P){var J=C.T,oe={};C.T=oe;try{var ue=P(),ke=C.S;ke!==null&&ke(oe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(re,Ue)}catch(Ce){Ue(Ce)}finally{J!==null&&oe.types!==null&&(J.types=oe.types),C.T=J}},xe.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},xe.use=function(P){return C.H.use(P)},xe.useActionState=function(P,J,oe){return C.H.useActionState(P,J,oe)},xe.useCallback=function(P,J){return C.H.useCallback(P,J)},xe.useContext=function(P){return C.H.useContext(P)},xe.useDebugValue=function(){},xe.useDeferredValue=function(P,J){return C.H.useDeferredValue(P,J)},xe.useEffect=function(P,J){return C.H.useEffect(P,J)},xe.useEffectEvent=function(P){return C.H.useEffectEvent(P)},xe.useId=function(){return C.H.useId()},xe.useImperativeHandle=function(P,J,oe){return C.H.useImperativeHandle(P,J,oe)},xe.useInsertionEffect=function(P,J){return C.H.useInsertionEffect(P,J)},xe.useLayoutEffect=function(P,J){return C.H.useLayoutEffect(P,J)},xe.useMemo=function(P,J){return C.H.useMemo(P,J)},xe.useOptimistic=function(P,J){return C.H.useOptimistic(P,J)},xe.useReducer=function(P,J,oe){return C.H.useReducer(P,J,oe)},xe.useRef=function(P){return C.H.useRef(P)},xe.useState=function(P){return C.H.useState(P)},xe.useSyncExternalStore=function(P,J,oe){return C.H.useSyncExternalStore(P,J,oe)},xe.useTransition=function(){return C.H.useTransition()},xe.version="19.2.4",xe}var db;function Kp(){return db||(db=1,cb.exports=zx()),cb.exports}var U=Kp();const Hx=Fx(U);var ep={exports:{}},Nl={},fb={exports:{}},pb={};/**
* @license React
* scheduler.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var mb;function $x(){return mb||(mb=1,(function(s){function e(Q,ie){var me=Q.length;Q.push(ie);e:for(;0<me;){var Ue=me-1>>>1,Ge=Q[Ue];if(0<o(Ge,ie))Q[Ue]=ie,Q[me]=Ge,me=Ue;else break e}}function n(Q){return Q.length===0?null:Q[0]}function a(Q){if(Q.length===0)return null;var ie=Q[0],me=Q.pop();if(me!==ie){Q[0]=me;e:for(var Ue=0,Ge=Q.length,P=Ge>>>1;Ue<P;){var J=2*(Ue+1)-1,oe=Q[J],ue=J+1,ke=Q[ue];if(0>o(oe,me))ue<Ge&&0>o(ke,oe)?(Q[Ue]=ke,Q[ue]=me,Ue=ue):(Q[Ue]=oe,Q[J]=me,Ue=J);else if(ue<Ge&&0>o(ke,me))Q[Ue]=ke,Q[ue]=me,Ue=ue;else break e}}return ie}function o(Q,ie){var me=Q.sortIndex-ie.sortIndex;return me!==0?me:Q.id-ie.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var m=[],y=[],k=1,E=null,A=3,$=!1,H=!1,B=!1,K=!1,ne=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function ce(Q){for(var ie=n(y);ie!==null;){if(ie.callback===null)a(y);else if(ie.startTime<=Q)a(y),ie.sortIndex=ie.expirationTime,e(m,ie);else break;ie=n(y)}}function we(Q){if(B=!1,ce(Q),!H)if(n(m)!==null)H=!0,re||(re=!0,M());else{var ie=n(y);ie!==null&&ut(we,ie.startTime-Q)}}var re=!1,C=-1,S=5,N=-1;function O(){return K?!0:!(s.unstable_now()-N<S)}function L(){if(K=!1,re){var Q=s.unstable_now();N=Q;var ie=!0;try{e:{H=!1,B&&(B=!1,se(C),C=-1),$=!0;var me=A;try{t:{for(ce(Q),E=n(m);E!==null&&!(E.expirationTime>Q&&O());){var Ue=E.callback;if(typeof Ue=="function"){E.callback=null,A=E.priorityLevel;var Ge=Ue(E.expirationTime<=Q);if(Q=s.unstable_now(),typeof Ge=="function"){E.callback=Ge,ce(Q),ie=!0;break t}E===n(m)&&a(m),ce(Q)}else a(m);E=n(m)}if(E!==null)ie=!0;else{var P=n(y);P!==null&&ut(we,P.startTime-Q),ie=!1}}break e}finally{E=null,A=me,$=!1}ie=void 0}}finally{ie?M():re=!1}}}var M;if(typeof W=="function")M=function(){W(L)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,Xe=_.port2;_.port1.onmessage=L,M=function(){Xe.postMessage(null)}}else M=function(){ne(L,0)};function ut(Q,ie){C=ne(function(){Q(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Q){Q.callback=null},s.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Q?Math.floor(1e3/Q):5},s.unstable_getCurrentPriorityLevel=function(){return A},s.unstable_next=function(Q){switch(A){case 1:case 2:case 3:var ie=3;break;default:ie=A}var me=A;A=ie;try{return Q()}finally{A=me}},s.unstable_requestPaint=function(){K=!0},s.unstable_runWithPriority=function(Q,ie){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var me=A;A=Q;try{return ie()}finally{A=me}},s.unstable_scheduleCallback=function(Q,ie,me){var Ue=s.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ue+me:Ue):me=Ue,Q){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=me+Ge,Q={id:k++,callback:ie,priorityLevel:Q,startTime:me,expirationTime:Ge,sortIndex:-1},me>Ue?(Q.sortIndex=me,e(y,Q),n(m)===null&&Q===n(y)&&(B?(se(C),C=-1):B=!0,ut(we,me-Ue))):(Q.sortIndex=Ge,e(m,Q),H||$||(H=!0,re||(re=!0,M()))),Q},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(Q){var ie=A;return function(){var me=A;A=ie;try{return Q.apply(this,arguments)}finally{A=me}}}})(pb)),pb}var gb;function qx(){return gb||(gb=1,fb.exports=$x()),fb.exports}var tp={exports:{}},Qt={};/**
* @license React
* react-dom.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var yb;function Gx(){if(yb)return Qt;yb=1;var s=Kp();function e(m){var y="https://react.dev/errors/"+m;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var k=2;k<arguments.length;k++)y+="&args[]="+encodeURIComponent(arguments[k])}return"Minified React error #"+m+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,y,k){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:m,containerInfo:y,implementation:k}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,y){if(m==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Qt.createPortal=function(m,y){var k=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(m,y,null,k)},Qt.flushSync=function(m){var y=d.T,k=a.p;try{if(d.T=null,a.p=2,m)return m()}finally{d.T=y,a.p=k,a.d.f()}},Qt.preconnect=function(m,y){typeof m=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(m,y))},Qt.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},Qt.preinit=function(m,y){if(typeof m=="string"&&y&&typeof y.as=="string"){var k=y.as,E=p(k,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,$=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;k==="style"?a.d.S(m,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:$}):k==="script"&&a.d.X(m,{crossOrigin:E,integrity:A,fetchPriority:$,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Qt.preinitModule=function(m,y){if(typeof m=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var k=p(y.as,y.crossOrigin);a.d.M(m,{crossOrigin:k,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(m)},Qt.preload=function(m,y){if(typeof m=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var k=y.as,E=p(k,y.crossOrigin);a.d.L(m,k,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Qt.preloadModule=function(m,y){if(typeof m=="string")if(y){var k=p(y.as,y.crossOrigin);a.d.m(m,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:k,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(m)},Qt.requestFormReset=function(m){a.d.r(m)},Qt.unstable_batchedUpdates=function(m,y){return m(y)},Qt.useFormState=function(m,y,k){return d.H.useFormState(m,y,k)},Qt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qt.version="19.2.4",Qt}var vb;function Bx(){if(vb)return tp.exports;vb=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),tp.exports=Gx(),tp.exports}/**
* @license React
* react-dom-client.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var bb;function Kx(){if(bb)return Nl;bb=1;var s=qx(),e=Kp(),n=Bx();function a(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)r+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,i=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(i=r.return),t=r.return;while(t)}return r.tag===3?i:null}function d(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(a(188))}function y(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(a(188));return r!==t?null:t}for(var i=t,l=r;;){var h=i.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){i=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===i)return m(h),t;if(f===l)return m(h),r;f=f.sibling}throw Error(a(188))}if(i.return!==l.return)i=h,l=f;else{for(var v=!1,x=h.child;x;){if(x===i){v=!0,i=h,l=f;break}if(x===l){v=!0,l=h,i=f;break}x=x.sibling}if(!v){for(x=f.child;x;){if(x===i){v=!0,i=f,l=h;break}if(x===l){v=!0,l=f,i=h;break}x=x.sibling}if(!v)throw Error(a(189))}}if(i.alternate!==l)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?t:r}function k(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=k(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),$=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),se=Symbol.for("react.consumer"),W=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),we=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=L&&t[L]||t["@@iterator"],typeof t=="function"?t:null)}var _=Symbol.for("react.client.reference");function Xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===_?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case ne:return"Profiler";case K:return"StrictMode";case we:return"Suspense";case re:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case W:return t.displayName||"Context";case se:return(t._context.displayName||"Context")+".Consumer";case ce:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return r=t.displayName||null,r!==null?r:Xe(t.type)||"Memo";case S:r=t._payload,t=t._init;try{return Xe(t(r))}catch{}}return null}var ut=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ue=[],Ge=-1;function P(t){return{current:t}}function J(t){0>Ge||(t.current=Ue[Ge],Ue[Ge]=null,Ge--)}function oe(t,r){Ge++,Ue[Ge]=t.current,t.current=r}var ue=P(null),ke=P(null),Ce=P(null),Fe=P(null);function At(t,r){switch(oe(Ce,r),oe(ke,t),oe(ue,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Av(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Av(r),t=Rv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(ue),oe(ue,t)}function it(){J(ue),J(ke),J(Ce)}function fa(t){t.memoizedState!==null&&oe(Fe,t);var r=ue.current,i=Rv(r,t.type);r!==i&&(oe(ke,t),oe(ue,i))}function ai(t){ke.current===t&&(J(ue),J(ke)),Fe.current===t&&(J(Fe),El._currentValue=me)}var ii,oi;function sr(t){if(ii===void 0)try{throw Error()}catch(i){var r=i.stack.trim().match(/\n( *(at )?)/);ii=r&&r[1]||"",oi=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ii+t+oi}var Eo=!1;function pa(t,r){if(!t||Eo)return"";Eo=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(G){var z=G}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(G){z=G}t.call(Z.prototype)}}else{try{throw Error()}catch(G){z=G}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(G){if(G&&z&&typeof G.stack=="string")return[G.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],x=f[1];if(v&&x){var I=v.split(`
`),V=x.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<V.length&&!V[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===V.length)for(l=I.length-1,h=V.length-1;1<=l&&0<=h&&I[l]!==V[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==V[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==V[h]){var X=`
`+I[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{Eo=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?sr(i):""}function xo(t,r){switch(t.tag){case 26:case 27:case 5:return sr(t.type);case 16:return sr("Lazy");case 13:return t.child!==r&&r!==null?sr("Suspense Fallback"):sr("Suspense");case 19:return sr("SuspenseList");case 0:case 15:return pa(t.type,!1);case 11:return pa(t.type.render,!1);case 1:return pa(t.type,!0);case 31:return sr("Activity");default:return""}}function To(t){try{var r="",i=null;do r+=xo(t,i),i=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,Rt=s.unstable_scheduleCallback,fs=s.unstable_cancelCallback,td=s.unstable_shouldYield,du=s.unstable_requestPaint,en=s.unstable_now,ma=s.unstable_getCurrentPriorityLevel,So=s.unstable_ImmediatePriority,Co=s.unstable_UserBlockingPriority,ps=s.unstable_NormalPriority,nd=s.unstable_LowPriority,fu=s.unstable_IdlePriority,pu=s.log,mu=s.unstable_setDisableYieldValue,Fn=null,Vt=null;function En(t){if(typeof pu=="function"&&mu(t),Vt&&typeof Vt.setStrictMode=="function")try{Vt.setStrictMode(Fn,t)}catch{}}var pt=Math.clz32?Math.clz32:yu,gu=Math.log,li=Math.LN2;function yu(t){return t>>>=0,t===0?32:31-(gu(t)/li|0)|0}var ar=256,ga=262144,wt=4194304;function ir(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function or(t,r,i){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var x=l&134217727;return x!==0?(l=x&~f,l!==0?h=ir(l):(v&=x,v!==0?h=ir(v):i||(i=x&~t,i!==0&&(h=ir(i))))):(x=l&~f,x!==0?h=ir(x):v!==0?h=ir(v):i||(i=l&~t,i!==0&&(h=ir(i)))),h===0?0:r!==0&&r!==h&&(r&f)===0&&(f=h&-h,i=r&-r,f>=i||f===32&&(i&4194048)!==0)?r:h}function Vn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function rd(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vu(){var t=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),t}function lr(t){for(var r=[],i=0;31>i;i++)r.push(t);return r}function ya(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function sd(t,r,i,l,h,f){var v=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var x=t.entanglements,I=t.expirationTimes,V=t.hiddenUpdates;for(i=v&~i;0<i;){var X=31-pt(i),Z=1<<X;x[X]=0,I[X]=-1;var z=V[X];if(z!==null)for(V[X]=null,X=0;X<z.length;X++){var G=z[X];G!==null&&(G.lane&=-536870913)}i&=~Z}l!==0&&va(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~r))}function va(t,r,i){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-pt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|i&261930}function No(t,r){var i=t.entangledLanes|=r;for(t=t.entanglements;i;){var l=31-pt(i),h=1<<l;h&r|t[l]&r&&(t[l]|=r),i&=~h}}function _o(t,r){var i=r&-r;return i=(i&42)!==0?1:ba(i),(i&(t.suspendedLanes|r))!==0?0:i}function ba(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Vr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function bu(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:eb(t.type))}function Un(t,r){var i=ie.p;try{return ie.p=t,r()}finally{ie.p=i}}var zn=Math.random().toString(36).slice(2),kt="__reactFiber$"+zn,Dt="__reactProps$"+zn,ur="__reactContainer$"+zn,ui="__reactEvents$"+zn,ad="__reactListeners$"+zn,wu="__reactHandles$"+zn,ku="__reactResources$"+zn,cr="__reactMarker$"+zn;function ci(t){delete t[kt],delete t[Dt],delete t[ui],delete t[ad],delete t[wu]}function hr(t){var r=t[kt];if(r)return r;for(var i=t.parentNode;i;){if(r=i[ur]||i[kt]){if(i=r.alternate,r.child!==null||i!==null&&i.child!==null)for(t=Fv(t);t!==null;){if(i=t[kt])return i;t=Fv(t)}return r}t=i,i=t.parentNode}return null}function xn(t){if(t=t[kt]||t[ur]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function dn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(a(33))}function dr(t){var r=t[ku];return r||(r=t[ku]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Et(t){t[cr]=!0}var Io=new Set,Ao={};function fr(t,r){pr(t,r),pr(t+"Capture",r)}function pr(t,r){for(Ao[t]=r,t=0;t<r.length;t++)Io.add(r[t])}var Ro=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lo={},Po={};function Eu(t){return bt.call(Po,t)?!0:bt.call(Lo,t)?!1:Ro.test(t)?Po[t]=!0:(Lo[t]=!0,!1)}function hi(t,r,i){if(Eu(r))if(i===null)t.removeAttribute(r);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+i)}}function fn(t,r,i){if(i===null)t.removeAttribute(r);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+i)}}function xt(t,r,i,l){if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(r,i,""+l)}}function Mt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ms(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Oo(t,r,i){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){i=""+v,f.call(this,v)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return i},setValue:function(v){i=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Be(t){if(!t._valueTracker){var r=ms(t)?"checked":"value";t._valueTracker=Oo(t,r,""+t[r])}}function wa(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var i=r.getValue(),l="";return t&&(l=ms(t)?t.checked?"true":"false":t.value),t=l,t!==i?(r.setValue(t),!0):!1}function mr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ka=/[\n"\\]/g;function pn(t){return t.replace(ka,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function di(t,r,i,l,h,f,v,x){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Mt(r)):t.value!==""+Mt(r)&&(t.value=""+Mt(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?Do(t,v,Mt(r)):i!=null?Do(t,v,Mt(i)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Mt(x):t.removeAttribute("name")}function xu(t,r,i,l,h,f,v,x){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),r!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||r!=null)){Be(t);return}i=i!=null?""+Mt(i):"",r=r!=null?""+Mt(r):i,x||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=x?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Be(t)}function Do(t,r,i){r==="number"&&mr(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function gs(t,r,i,l){if(t=t.options,r){r={};for(var h=0;h<i.length;h++)r["$"+i[h]]=!0;for(i=0;i<t.length;i++)h=r.hasOwnProperty("$"+t[i].value),t[i].selected!==h&&(t[i].selected=h),h&&l&&(t[i].defaultSelected=!0)}else{for(i=""+Mt(i),r=null,h=0;h<t.length;h++){if(t[h].value===i){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Tu(t,r,i){if(r!=null&&(r=""+Mt(r),r!==t.value&&(t.value=r),i==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=i!=null?""+Mt(i):""}function ys(t,r,i,l){if(r==null){if(l!=null){if(i!=null)throw Error(a(92));if(ut(l)){if(1<l.length)throw Error(a(93));l=l[0]}i=l}i==null&&(i=""),r=i}i=Mt(r),t.defaultValue=i,l=t.textContent,l===i&&l!==""&&l!==null&&(t.value=l),Be(t)}function rn(t,r){if(r){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=r;return}}t.textContent=r}var Su=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mo(t,r,i){var l=r.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,i):typeof i!="number"||i===0||Su.has(r)?r==="float"?t.cssFloat=i:t[r]=(""+i).trim():t[r]=i+"px"}function jo(t,r,i){if(r!=null&&typeof r!="object")throw Error(a(62));if(t=t.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&i[h]!==l&&Mo(t,h,l)}else for(var f in r)r.hasOwnProperty(f)&&Mo(t,f,r[f])}function fi(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pi(t){return vs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Hn(){}var Fo=null;function Tn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bs=null,gr=null;function Ea(t){var r=xn(t);if(r&&(t=r.stateNode)){var i=t[Dt]||null;e:switch(t=r.stateNode,r.type){case"input":if(di(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),r=i.name,i.type==="radio"&&r!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+pn(""+r)+'"][type="radio"]'),r=0;r<i.length;r++){var l=i[r];if(l!==t&&l.form===t.form){var h=l[Dt]||null;if(!h)throw Error(a(90));di(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<i.length;r++)l=i[r],l.form===t.form&&wa(l)}break e;case"textarea":Tu(t,i.value,i.defaultValue);break e;case"select":r=i.value,r!=null&&gs(t,!!i.multiple,r,!1)}}}var mi=!1;function ws(t,r,i){if(mi)return t(r,i);mi=!0;try{var l=t(r);return l}finally{if(mi=!1,(bs!==null||gr!==null)&&(bc(),bs&&(r=bs,t=gr,gr=bs=null,Ea(r),t)))for(r=0;r<t.length;r++)Ea(t[r])}}function $n(t,r){var i=t.stateNode;if(i===null)return null;var l=i[Dt]||null;if(l===null)return null;i=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(a(231,r,typeof i));return i}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xa=!1;if(Sn)try{var Ye={};Object.defineProperty(Ye,"passive",{get:function(){xa=!0}}),window.addEventListener("test",Ye,Ye),window.removeEventListener("test",Ye,Ye)}catch{xa=!1}var yr=null,Vo=null,Ta=null;function Uo(){if(Ta)return Ta;var t,r=Vo,i=r.length,l,h="value"in yr?yr.value:yr.textContent,f=h.length;for(t=0;t<i&&r[t]===h[t];t++);var v=i-t;for(l=1;l<=v&&r[i-l]===h[f-l];l++);return Ta=h.slice(t,1<l?1-l:void 0)}function Sa(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Ur(){return!0}function qn(){return!1}function Ut(t){function r(i,l,h,f,v){this._reactName=i,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(i=t[x],this[x]=i?i(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ur:qn,this.isPropagationStopped=qn,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ur)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ur)},persist:function(){},isPersistent:Ur}),r}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vr=Ut(zr),ks=E({},zr,{view:0,detail:0}),zo=Ut(ks),Es,gi,br,yi=E({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==br&&(br&&t.type==="mousemove"?(Es=t.screenX-br.screenX,gi=t.screenY-br.screenY):gi=Es=0,br=t),Es)},movementY:function(t){return"movementY"in t?t.movementY:gi}}),Ho=Ut(yi),Ca=E({},yi,{dataTransfer:0}),Nu=Ut(Ca),_u=E({},ks,{relatedTarget:0}),Na=Ut(_u),$o=E({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),Iu=Ut($o),vi=E({},zr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Au=Ut(vi),Ru=E({},zr,{data:0}),wr=Ut(Ru),Lu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ou[t])?!!r[t]:!1}function xs(){return Du}var tn=E({},ks,{key:function(t){if(t.key){var r=Lu[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Sa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Pu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xs,charCode:function(t){return t.type==="keypress"?Sa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mu=Ut(tn),ju=E({},yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hr=Ut(ju),c=E({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xs}),g=Ut(c),b=E({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Ut(b),j=E({},yi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Ut(j),ae=E({},zr,{newState:0,oldState:0}),Ne=Ut(ae),mt=[9,13,27,32],Ke=Sn&&"CompositionEvent"in window,ot=null;Sn&&"documentMode"in document&&(ot=document.documentMode);var Cn=Sn&&"TextEvent"in window&&!ot,$r=Sn&&(!Ke||ot&&8<ot&&11>=ot),Gn=" ",Bn=!1;function _a(t,r){switch(t){case"keyup":return mt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bi(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wi=!1;function lE(t,r){switch(t){case"compositionend":return bi(r);case"keypress":return r.which!==32?null:(Bn=!0,Gn);case"textInput":return t=r.data,t===Gn&&Bn?null:t;default:return null}}function uE(t,r){if(wi)return t==="compositionend"||!Ke&&_a(t,r)?(t=Uo(),Ta=Vo=yr=null,wi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return $r&&r.locale!=="ko"?null:r.data;default:return null}}var cE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zm(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!cE[t.type]:r==="textarea"}function Hm(t,r,i,l){bs?gr?gr.push(l):gr=[l]:bs=l,r=Cc(r,"onChange"),0<r.length&&(i=new vr("onChange","change",null,i,l),t.push({event:i,listeners:r}))}var qo=null,Go=null;function hE(t){Tv(t,0)}function Fu(t){var r=dn(t);if(wa(r))return t}function $m(t,r){if(t==="change")return r}var qm=!1;if(Sn){var id;if(Sn){var od="oninput"in document;if(!od){var Gm=document.createElement("div");Gm.setAttribute("oninput","return;"),od=typeof Gm.oninput=="function"}id=od}else id=!1;qm=id&&(!document.documentMode||9<document.documentMode)}function Bm(){qo&&(qo.detachEvent("onpropertychange",Km),Go=qo=null)}function Km(t){if(t.propertyName==="value"&&Fu(Go)){var r=[];Hm(r,Go,t,Tn(t)),ws(hE,r)}}function dE(t,r,i){t==="focusin"?(Bm(),qo=r,Go=i,qo.attachEvent("onpropertychange",Km)):t==="focusout"&&Bm()}function fE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fu(Go)}function pE(t,r){if(t==="click")return Fu(r)}function mE(t,r){if(t==="input"||t==="change")return Fu(r)}function gE(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var mn=typeof Object.is=="function"?Object.is:gE;function Bo(t,r){if(mn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var i=Object.keys(t),l=Object.keys(r);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var h=i[l];if(!bt.call(r,h)||!mn(t[h],r[h]))return!1}return!0}function Wm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qm(t,r){var i=Wm(t);t=0;for(var l;i;){if(i.nodeType===3){if(l=t+i.textContent.length,t<=r&&l>=r)return{node:i,offset:r-t};t=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Wm(i)}}function Xm(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Xm(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Ym(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=mr(t.document);r instanceof t.HTMLIFrameElement;){try{var i=typeof r.contentWindow.location.href=="string"}catch{i=!1}if(i)t=r.contentWindow;else break;r=mr(t.document)}return r}function ld(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var yE=Sn&&"documentMode"in document&&11>=document.documentMode,ki=null,ud=null,Ko=null,cd=!1;function Jm(t,r,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;cd||ki==null||ki!==mr(l)||(l=ki,"selectionStart"in l&&ld(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ko&&Bo(Ko,l)||(Ko=l,l=Cc(ud,"onSelect"),0<l.length&&(r=new vr("onSelect","select",null,r,i),t.push({event:r,listeners:l}),r.target=ki)))}function Ia(t,r){var i={};return i[t.toLowerCase()]=r.toLowerCase(),i["Webkit"+t]="webkit"+r,i["Moz"+t]="moz"+r,i}var Ei={animationend:Ia("Animation","AnimationEnd"),animationiteration:Ia("Animation","AnimationIteration"),animationstart:Ia("Animation","AnimationStart"),transitionrun:Ia("Transition","TransitionRun"),transitionstart:Ia("Transition","TransitionStart"),transitioncancel:Ia("Transition","TransitionCancel"),transitionend:Ia("Transition","TransitionEnd")},hd={},Zm={};Sn&&(Zm=document.createElement("div").style,"AnimationEvent"in window||(delete Ei.animationend.animation,delete Ei.animationiteration.animation,delete Ei.animationstart.animation),"TransitionEvent"in window||delete Ei.transitionend.transition);function Aa(t){if(hd[t])return hd[t];if(!Ei[t])return t;var r=Ei[t],i;for(i in r)if(r.hasOwnProperty(i)&&i in Zm)return hd[t]=r[i];return t}var eg=Aa("animationend"),tg=Aa("animationiteration"),ng=Aa("animationstart"),vE=Aa("transitionrun"),bE=Aa("transitionstart"),wE=Aa("transitioncancel"),rg=Aa("transitionend"),sg=new Map,dd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dd.push("scrollEnd");function Kn(t,r){sg.set(t,r),fr(r,[t])}var Vu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Nn=[],xi=0,fd=0;function Uu(){for(var t=xi,r=fd=xi=0;r<t;){var i=Nn[r];Nn[r++]=null;var l=Nn[r];Nn[r++]=null;var h=Nn[r];Nn[r++]=null;var f=Nn[r];if(Nn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&ag(i,h,f)}}function zu(t,r,i,l){Nn[xi++]=t,Nn[xi++]=r,Nn[xi++]=i,Nn[xi++]=l,fd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function pd(t,r,i,l){return zu(t,r,i,l),Hu(t)}function Ra(t,r){return zu(t,null,null,r),Hu(t)}function ag(t,r,i){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i);for(var h=!1,f=t.return;f!==null;)f.childLanes|=i,l=f.alternate,l!==null&&(l.childLanes|=i),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&r!==null&&(h=31-pt(i),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=i|536870912),f):null}function Hu(t){if(50<ml)throw ml=0,Tf=null,Error(a(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ti={};function kE(t,r,i,l){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,r,i,l){return new kE(t,r,i,l)}function md(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qr(t,r){var i=t.alternate;return i===null?(i=gn(t.tag,r,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=r,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,r=t.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function ig(t,r){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,r=i.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function $u(t,r,i,l,h,f){var v=0;if(l=t,typeof t=="function")md(t)&&(v=1);else if(typeof t=="string")v=Cx(t,i,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=gn(31,i,r,h),t.elementType=N,t.lanes=f,t;case B:return La(i.children,h,f,r);case K:v=8,h|=24;break;case ne:return t=gn(12,i,r,h|2),t.elementType=ne,t.lanes=f,t;case we:return t=gn(13,i,r,h),t.elementType=we,t.lanes=f,t;case re:return t=gn(19,i,r,h),t.elementType=re,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case W:v=10;break e;case se:v=9;break e;case ce:v=11;break e;case C:v=14;break e;case S:v=16,l=null;break e}v=29,i=Error(a(130,t===null?"null":typeof t,"")),l=null}return r=gn(v,i,r,h),r.elementType=t,r.type=l,r.lanes=f,r}function La(t,r,i,l){return t=gn(7,t,l,r),t.lanes=i,t}function gd(t,r,i){return t=gn(6,t,null,r),t.lanes=i,t}function og(t){var r=gn(18,null,null,0);return r.stateNode=t,r}function yd(t,r,i){return r=gn(4,t.children!==null?t.children:[],t.key,r),r.lanes=i,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var lg=new WeakMap;function _n(t,r){if(typeof t=="object"&&t!==null){var i=lg.get(t);return i!==void 0?i:(r={value:t,source:r,stack:To(r)},lg.set(t,r),r)}return{value:t,source:r,stack:To(r)}}var Si=[],Ci=0,qu=null,Wo=0,In=[],An=0,Ts=null,kr=1,Er="";function Gr(t,r){Si[Ci++]=Wo,Si[Ci++]=qu,qu=t,Wo=r}function ug(t,r,i){In[An++]=kr,In[An++]=Er,In[An++]=Ts,Ts=t;var l=kr;t=Er;var h=32-pt(l)-1;l&=~(1<<h),i+=1;var f=32-pt(r)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,kr=1<<32-pt(r)+h|i<<h|l,Er=f+t}else kr=1<<f|i<<h|l,Er=t}function vd(t){t.return!==null&&(Gr(t,1),ug(t,1,0))}function bd(t){for(;t===qu;)qu=Si[--Ci],Si[Ci]=null,Wo=Si[--Ci],Si[Ci]=null;for(;t===Ts;)Ts=In[--An],In[An]=null,Er=In[--An],In[An]=null,kr=In[--An],In[An]=null}function cg(t,r){In[An++]=kr,In[An++]=Er,In[An++]=Ts,kr=r.id,Er=r.overflow,Ts=t}var zt=null,nt=null,je=!1,Ss=null,Rn=!1,wd=Error(a(519));function Cs(t){var r=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qo(_n(r,t)),wd}function hg(t){var r=t.stateNode,i=t.type,l=t.memoizedProps;switch(r[kt]=t,r[Dt]=l,i){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(i=0;i<yl.length;i++)Re(yl[i],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":Re("invalid",r),xu(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Re("invalid",r);break;case"textarea":Re("invalid",r),ys(r,l.value,l.defaultValue,l.children)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||r.textContent===""+i||l.suppressHydrationWarning===!0||_v(r.textContent,i)?(l.popover!=null&&(Re("beforetoggle",r),Re("toggle",r)),l.onScroll!=null&&Re("scroll",r),l.onScrollEnd!=null&&Re("scrollend",r),l.onClick!=null&&(r.onclick=Hn),r=!0):r=!1,r||Cs(t,!0)}function dg(t){for(zt=t.return;zt;)switch(zt.tag){case 5:case 31:case 13:Rn=!1;return;case 27:case 3:Rn=!0;return;default:zt=zt.return}}function Ni(t){if(t!==zt)return!1;if(!je)return dg(t),je=!0,!1;var r=t.tag,i;if((i=r!==3&&r!==27)&&((i=r===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||Vf(t.type,t.memoizedProps)),i=!i),i&&nt&&Cs(t),dg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));nt=jv(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));nt=jv(t)}else r===27?(r=nt,Us(t.type)?(t=qf,qf=null,nt=t):nt=r):nt=zt?Ln(t.stateNode.nextSibling):null;return!0}function Pa(){nt=zt=null,je=!1}function kd(){var t=Ss;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),Ss=null),t}function Qo(t){Ss===null?Ss=[t]:Ss.push(t)}var Ed=P(null),Oa=null,Br=null;function Ns(t,r,i){oe(Ed,r._currentValue),r._currentValue=i}function Kr(t){t._currentValue=Ed.current,J(Ed)}function xd(t,r,i){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===i)break;t=t.return}}function Td(t,r,i,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;e:for(;f!==null;){var x=f;f=h;for(var I=0;I<r.length;I++)if(x.context===r[I]){f.lanes|=i,x=f.alternate,x!==null&&(x.lanes|=i),xd(f.return,i,t),l||(v=null);break e}f=x.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(a(341));v.lanes|=i,f=v.alternate,f!==null&&(f.lanes|=i),xd(v,i,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function _i(t,r,i,l){t=null;for(var h=r,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var x=h.type;mn(h.pendingProps.value,v.value)||(t!==null?t.push(x):t=[x])}}else if(h===Fe.current){if(v=h.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(El):t=[El])}h=h.return}t!==null&&Td(r,t,i,l),r.flags|=262144}function Gu(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Da(t){Oa=t,Br=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return fg(Oa,t)}function Bu(t,r){return Oa===null&&Da(t),fg(t,r)}function fg(t,r){var i=r._currentValue;if(r={context:r,memoizedValue:i,next:null},Br===null){if(t===null)throw Error(a(308));Br=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Br=Br.next=r;return i}var EE=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(i,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(i){return i()})}},xE=s.unstable_scheduleCallback,TE=s.unstable_NormalPriority,Tt={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sd(){return{controller:new EE,data:new Map,refCount:0}}function Xo(t){t.refCount--,t.refCount===0&&xE(TE,function(){t.controller.abort()})}var Yo=null,Cd=0,Ii=0,Ai=null;function SE(t,r){if(Yo===null){var i=Yo=[];Cd=0,Ii=Af(),Ai={status:"pending",value:void 0,then:function(l){i.push(l)}}}return Cd++,r.then(pg,pg),r}function pg(){if(--Cd===0&&Yo!==null){Ai!==null&&(Ai.status="fulfilled");var t=Yo;Yo=null,Ii=0,Ai=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function CE(t,r){var i=[],l={status:"pending",value:null,reason:null,then:function(h){i.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<i.length;h++)(0,i[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<i.length;h++)(0,i[h])(void 0)}),l}var mg=Q.S;Q.S=function(t,r){Jy=en(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&SE(t,r),mg!==null&&mg(t,r)};var Ma=P(null);function Nd(){var t=Ma.current;return t!==null?t:tt.pooledCache}function Ku(t,r){r===null?oe(Ma,Ma.current):oe(Ma,r.pool)}function gg(){var t=Nd();return t===null?null:{parent:Tt._currentValue,pool:t}}var Ri=Error(a(460)),_d=Error(a(474)),Wu=Error(a(542)),Qu={then:function(){}};function yg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function vg(t,r,i){switch(i=t[i],i===void 0?t.push(r):i!==r&&(r.then(Hn,Hn),r=i),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,wg(t),t;default:if(typeof r.status=="string")r.then(Hn,Hn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,wg(t),t}throw Fa=r,Ri}}function ja(t){try{var r=t._init;return r(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Fa=i,Ri):i}}var Fa=null;function bg(){if(Fa===null)throw Error(a(459));var t=Fa;return Fa=null,t}function wg(t){if(t===Ri||t===Wu)throw Error(a(483))}var Li=null,Jo=0;function Xu(t){var r=Jo;return Jo+=1,Li===null&&(Li=[]),vg(Li,t,r)}function Zo(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Yu(t,r){throw r.$$typeof===A?Error(a(525)):(t=Object.prototype.toString.call(r),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function kg(t){function r(D,R){if(t){var F=D.deletions;F===null?(D.deletions=[R],D.flags|=16):F.push(R)}}function i(D,R){if(!t)return null;for(;R!==null;)r(D,R),R=R.sibling;return null}function l(D){for(var R=new Map;D!==null;)D.key!==null?R.set(D.key,D):R.set(D.index,D),D=D.sibling;return R}function h(D,R){return D=qr(D,R),D.index=0,D.sibling=null,D}function f(D,R,F){return D.index=F,t?(F=D.alternate,F!==null?(F=F.index,F<R?(D.flags|=67108866,R):F):(D.flags|=67108866,R)):(D.flags|=1048576,R)}function v(D){return t&&D.alternate===null&&(D.flags|=67108866),D}function x(D,R,F,Y){return R===null||R.tag!==6?(R=gd(F,D.mode,Y),R.return=D,R):(R=h(R,F),R.return=D,R)}function I(D,R,F,Y){var pe=F.type;return pe===B?X(D,R,F.props.children,Y,F.key):R!==null&&(R.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===S&&ja(pe)===R.type)?(R=h(R,F.props),Zo(R,F),R.return=D,R):(R=$u(F.type,F.key,F.props,null,D.mode,Y),Zo(R,F),R.return=D,R)}function V(D,R,F,Y){return R===null||R.tag!==4||R.stateNode.containerInfo!==F.containerInfo||R.stateNode.implementation!==F.implementation?(R=yd(F,D.mode,Y),R.return=D,R):(R=h(R,F.children||[]),R.return=D,R)}function X(D,R,F,Y,pe){return R===null||R.tag!==7?(R=La(F,D.mode,Y,pe),R.return=D,R):(R=h(R,F),R.return=D,R)}function Z(D,R,F){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=gd(""+R,D.mode,F),R.return=D,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case $:return F=$u(R.type,R.key,R.props,null,D.mode,F),Zo(F,R),F.return=D,F;case H:return R=yd(R,D.mode,F),R.return=D,R;case S:return R=ja(R),Z(D,R,F)}if(ut(R)||M(R))return R=La(R,D.mode,F,null),R.return=D,R;if(typeof R.then=="function")return Z(D,Xu(R),F);if(R.$$typeof===W)return Z(D,Bu(D,R),F);Yu(D,R)}return null}function z(D,R,F,Y){var pe=R!==null?R.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return pe!==null?null:x(D,R,""+F,Y);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case $:return F.key===pe?I(D,R,F,Y):null;case H:return F.key===pe?V(D,R,F,Y):null;case S:return F=ja(F),z(D,R,F,Y)}if(ut(F)||M(F))return pe!==null?null:X(D,R,F,Y,null);if(typeof F.then=="function")return z(D,R,Xu(F),Y);if(F.$$typeof===W)return z(D,R,Bu(D,F),Y);Yu(D,F)}return null}function G(D,R,F,Y,pe){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return D=D.get(F)||null,x(R,D,""+Y,pe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case $:return D=D.get(Y.key===null?F:Y.key)||null,I(R,D,Y,pe);case H:return D=D.get(Y.key===null?F:Y.key)||null,V(R,D,Y,pe);case S:return Y=ja(Y),G(D,R,F,Y,pe)}if(ut(Y)||M(Y))return D=D.get(F)||null,X(R,D,Y,pe,null);if(typeof Y.then=="function")return G(D,R,F,Xu(Y),pe);if(Y.$$typeof===W)return G(D,R,F,Bu(R,Y),pe);Yu(R,Y)}return null}function he(D,R,F,Y){for(var pe=null,ze=null,de=R,_e=R=0,Pe=null;de!==null&&_e<F.length;_e++){de.index>_e?(Pe=de,de=null):Pe=de.sibling;var He=z(D,de,F[_e],Y);if(He===null){de===null&&(de=Pe);break}t&&de&&He.alternate===null&&r(D,de),R=f(He,R,_e),ze===null?pe=He:ze.sibling=He,ze=He,de=Pe}if(_e===F.length)return i(D,de),je&&Gr(D,_e),pe;if(de===null){for(;_e<F.length;_e++)de=Z(D,F[_e],Y),de!==null&&(R=f(de,R,_e),ze===null?pe=de:ze.sibling=de,ze=de);return je&&Gr(D,_e),pe}for(de=l(de);_e<F.length;_e++)Pe=G(de,D,_e,F[_e],Y),Pe!==null&&(t&&Pe.alternate!==null&&de.delete(Pe.key===null?_e:Pe.key),R=f(Pe,R,_e),ze===null?pe=Pe:ze.sibling=Pe,ze=Pe);return t&&de.forEach(function(Gs){return r(D,Gs)}),je&&Gr(D,_e),pe}function ye(D,R,F,Y){if(F==null)throw Error(a(151));for(var pe=null,ze=null,de=R,_e=R=0,Pe=null,He=F.next();de!==null&&!He.done;_e++,He=F.next()){de.index>_e?(Pe=de,de=null):Pe=de.sibling;var Gs=z(D,de,He.value,Y);if(Gs===null){de===null&&(de=Pe);break}t&&de&&Gs.alternate===null&&r(D,de),R=f(Gs,R,_e),ze===null?pe=Gs:ze.sibling=Gs,ze=Gs,de=Pe}if(He.done)return i(D,de),je&&Gr(D,_e),pe;if(de===null){for(;!He.done;_e++,He=F.next())He=Z(D,He.value,Y),He!==null&&(R=f(He,R,_e),ze===null?pe=He:ze.sibling=He,ze=He);return je&&Gr(D,_e),pe}for(de=l(de);!He.done;_e++,He=F.next())He=G(de,D,_e,He.value,Y),He!==null&&(t&&He.alternate!==null&&de.delete(He.key===null?_e:He.key),R=f(He,R,_e),ze===null?pe=He:ze.sibling=He,ze=He);return t&&de.forEach(function(jx){return r(D,jx)}),je&&Gr(D,_e),pe}function et(D,R,F,Y){if(typeof F=="object"&&F!==null&&F.type===B&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case $:e:{for(var pe=F.key;R!==null;){if(R.key===pe){if(pe=F.type,pe===B){if(R.tag===7){i(D,R.sibling),Y=h(R,F.props.children),Y.return=D,D=Y;break e}}else if(R.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===S&&ja(pe)===R.type){i(D,R.sibling),Y=h(R,F.props),Zo(Y,F),Y.return=D,D=Y;break e}i(D,R);break}else r(D,R);R=R.sibling}F.type===B?(Y=La(F.props.children,D.mode,Y,F.key),Y.return=D,D=Y):(Y=$u(F.type,F.key,F.props,null,D.mode,Y),Zo(Y,F),Y.return=D,D=Y)}return v(D);case H:e:{for(pe=F.key;R!==null;){if(R.key===pe)if(R.tag===4&&R.stateNode.containerInfo===F.containerInfo&&R.stateNode.implementation===F.implementation){i(D,R.sibling),Y=h(R,F.children||[]),Y.return=D,D=Y;break e}else{i(D,R);break}else r(D,R);R=R.sibling}Y=yd(F,D.mode,Y),Y.return=D,D=Y}return v(D);case S:return F=ja(F),et(D,R,F,Y)}if(ut(F))return he(D,R,F,Y);if(M(F)){if(pe=M(F),typeof pe!="function")throw Error(a(150));return F=pe.call(F),ye(D,R,F,Y)}if(typeof F.then=="function")return et(D,R,Xu(F),Y);if(F.$$typeof===W)return et(D,R,Bu(D,F),Y);Yu(D,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,R!==null&&R.tag===6?(i(D,R.sibling),Y=h(R,F),Y.return=D,D=Y):(i(D,R),Y=gd(F,D.mode,Y),Y.return=D,D=Y),v(D)):i(D,R)}return function(D,R,F,Y){try{Jo=0;var pe=et(D,R,F,Y);return Li=null,pe}catch(de){if(de===Ri||de===Wu)throw de;var ze=gn(29,de,null,D.mode);return ze.lanes=Y,ze.return=D,ze}finally{}}}var Va=kg(!0),Eg=kg(!1),_s=!1;function Id(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ad(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Is(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function As(t,r,i){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Hu(t),ag(t,null,i),r}return zu(t,l,r,i),Hu(t)}function el(t,r,i){if(r=r.updateQueue,r!==null&&(r=r.shared,(i&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,i|=l,r.lanes=i,No(t,i)}}function Rd(t,r){var i=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var h=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var v={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,i=i.next}while(i!==null);f===null?h=f=r:f=f.next=r}else h=f=r;i={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=r:t.next=r,i.lastBaseUpdate=r}var Ld=!1;function tl(){if(Ld){var t=Ai;if(t!==null)throw t}}function nl(t,r,i,l){Ld=!1;var h=t.updateQueue;_s=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var I=x,V=I.next;I.next=null,v===null?f=V:v.next=V,v=I;var X=t.alternate;X!==null&&(X=X.updateQueue,x=X.lastBaseUpdate,x!==v&&(x===null?X.firstBaseUpdate=V:x.next=V,X.lastBaseUpdate=I))}if(f!==null){var Z=h.baseState;v=0,X=V=I=null,x=f;do{var z=x.lane&-536870913,G=z!==x.lane;if(G?(Le&z)===z:(l&z)===z){z!==0&&z===Ii&&(Ld=!0),X!==null&&(X=X.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var he=t,ye=x;z=r;var et=i;switch(ye.tag){case 1:if(he=ye.payload,typeof he=="function"){Z=he.call(et,Z,z);break e}Z=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ye.payload,z=typeof he=="function"?he.call(et,Z,z):he,z==null)break e;Z=E({},Z,z);break e;case 2:_s=!0}}z=x.callback,z!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[z]:G.push(z))}else G={lane:z,tag:x.tag,payload:x.payload,callback:x.callback,next:null},X===null?(V=X=G,I=Z):X=X.next=G,v|=z;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;G=x,x=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);X===null&&(I=Z),h.baseState=I,h.firstBaseUpdate=V,h.lastBaseUpdate=X,f===null&&(h.shared.lanes=0),Ds|=v,t.lanes=v,t.memoizedState=Z}}function xg(t,r){if(typeof t!="function")throw Error(a(191,t));t.call(r)}function Tg(t,r){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)xg(i[t],r)}var Pi=P(null),Ju=P(0);function Sg(t,r){t=ns,oe(Ju,t),oe(Pi,r),ns=t|r.baseLanes}function Pd(){oe(Ju,ns),oe(Pi,Pi.current)}function Od(){ns=Ju.current,J(Pi),J(Ju)}var yn=P(null),Wn=null;function Rs(t){var r=t.alternate;oe(gt,gt.current&1),oe(yn,t),Wn===null&&(r===null||Pi.current!==null||r.memoizedState!==null)&&(Wn=t)}function Dd(t){oe(gt,gt.current),oe(yn,t),Wn===null&&(Wn=t)}function Cg(t){t.tag===22?(oe(gt,gt.current),oe(yn,t),Wn===null&&(Wn=t)):Ls()}function Ls(){oe(gt,gt.current),oe(yn,yn.current)}function vn(t){J(yn),Wn===t&&(Wn=null),J(gt)}var gt=P(0);function Zu(t){for(var r=t;r!==null;){if(r.tag===13){var i=r.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Hf(i)||$f(i)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Wr=0,Se=null,Je=null,St=null,ec=!1,Oi=!1,Ua=!1,tc=0,rl=0,Di=null,NE=0;function dt(){throw Error(a(321))}function Md(t,r){if(r===null)return!1;for(var i=0;i<r.length&&i<t.length;i++)if(!mn(t[i],r[i]))return!1;return!0}function jd(t,r,i,l,h,f){return Wr=f,Se=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=t===null||t.memoizedState===null?uy:Jd,Ua=!1,f=i(l,h),Ua=!1,Oi&&(f=_g(r,i,l,h)),Ng(t),f}function Ng(t){Q.H=il;var r=Je!==null&&Je.next!==null;if(Wr=0,St=Je=Se=null,ec=!1,rl=0,Di=null,r)throw Error(a(300));t===null||Ct||(t=t.dependencies,t!==null&&Gu(t)&&(Ct=!0))}function _g(t,r,i,l){Se=t;var h=0;do{if(Oi&&(Di=null),rl=0,Oi=!1,25<=h)throw Error(a(301));if(h+=1,St=Je=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=cy,f=r(i,l)}while(Oi);return f}function _E(){var t=Q.H,r=t.useState()[0];return r=typeof r.then=="function"?sl(r):r,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Se.flags|=1024),r}function Fd(){var t=tc!==0;return tc=0,t}function Vd(t,r,i){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~i}function Ud(t){if(ec){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}ec=!1}Wr=0,St=Je=Se=null,Oi=!1,rl=tc=0,Di=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Se.memoizedState=St=t:St=St.next=t,St}function yt(){if(Je===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var r=St===null?Se.memoizedState:St.next;if(r!==null)St=r,Je=t;else{if(t===null)throw Se.alternate===null?Error(a(467)):Error(a(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},St===null?Se.memoizedState=St=t:St=St.next=t}return St}function nc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(t){var r=rl;return rl+=1,Di===null&&(Di=[]),t=vg(Di,t,r),r=Se,(St===null?r.memoizedState:St.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?uy:Jd),t}function rc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sl(t);if(t.$$typeof===W)return Ht(t)}throw Error(a(438,String(t)))}function zd(t){var r=null,i=Se.updateQueue;if(i!==null&&(r=i.memoCache),r==null){var l=Se.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),i===null&&(i=nc(),Se.updateQueue=i),i.memoCache=r,i=r.data[r.index],i===void 0)for(i=r.data[r.index]=Array(t),l=0;l<t;l++)i[l]=O;return r.index++,i}function Qr(t,r){return typeof r=="function"?r(t):r}function sc(t){var r=yt();return Hd(r,Je,t)}function Hd(t,r,i){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=i;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}r.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{r=h.next;var x=v=null,I=null,V=r,X=!1;do{var Z=V.lane&-536870913;if(Z!==V.lane?(Le&Z)===Z:(Wr&Z)===Z){var z=V.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),Z===Ii&&(X=!0);else if((Wr&z)===z){V=V.next,z===Ii&&(X=!0);continue}else Z={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},I===null?(x=I=Z,v=f):I=I.next=Z,Se.lanes|=z,Ds|=z;Z=V.action,Ua&&i(f,Z),f=V.hasEagerState?V.eagerState:i(f,Z)}else z={lane:Z,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},I===null?(x=I=z,v=f):I=I.next=z,Se.lanes|=Z,Ds|=Z;V=V.next}while(V!==null&&V!==r);if(I===null?v=f:I.next=x,!mn(f,t.memoizedState)&&(Ct=!0,X&&(i=Ai,i!==null)))throw i;t.memoizedState=f,t.baseState=v,t.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function $d(t){var r=yt(),i=r.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=t;var l=i.dispatch,h=i.pending,f=r.memoizedState;if(h!==null){i.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);mn(f,r.memoizedState)||(Ct=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),i.lastRenderedState=f}return[f,l]}function Ig(t,r,i){var l=Se,h=yt(),f=je;if(f){if(i===void 0)throw Error(a(407));i=i()}else i=r();var v=!mn((Je||h).memoizedState,i);if(v&&(h.memoizedState=i,Ct=!0),h=h.queue,Bd(Lg.bind(null,l,h,t),[t]),h.getSnapshot!==r||v||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,Mi(9,{destroy:void 0},Rg.bind(null,l,h,i,r),null),tt===null)throw Error(a(349));f||(Wr&127)!==0||Ag(l,r,i)}return i}function Ag(t,r,i){t.flags|=16384,t={getSnapshot:r,value:i},r=Se.updateQueue,r===null?(r=nc(),Se.updateQueue=r,r.stores=[t]):(i=r.stores,i===null?r.stores=[t]:i.push(t))}function Rg(t,r,i,l){r.value=i,r.getSnapshot=l,Pg(r)&&Og(t)}function Lg(t,r,i){return i(function(){Pg(r)&&Og(t)})}function Pg(t){var r=t.getSnapshot;t=t.value;try{var i=r();return!mn(t,i)}catch{return!0}}function Og(t){var r=Ra(t,2);r!==null&&un(r,t,2)}function qd(t){var r=nn();if(typeof t=="function"){var i=t;if(t=i(),Ua){En(!0);try{i()}finally{En(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:t},r}function Dg(t,r,i,l){return t.baseState=i,Hd(t,Je,typeof l=="function"?l:Qr)}function IE(t,r,i,l,h){if(oc(t))throw Error(a(485));if(t=r.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};Q.T!==null?i(!0):f.isTransition=!1,l(f),i=r.pending,i===null?(f.next=r.pending=f,Mg(r,f)):(f.next=i.next,r.pending=i.next=f)}}function Mg(t,r){var i=r.action,l=r.payload,h=t.state;if(r.isTransition){var f=Q.T,v={};Q.T=v;try{var x=i(h,l),I=Q.S;I!==null&&I(v,x),jg(t,r,x)}catch(V){Gd(t,r,V)}finally{f!==null&&v.types!==null&&(f.types=v.types),Q.T=f}}else try{f=i(h,l),jg(t,r,f)}catch(V){Gd(t,r,V)}}function jg(t,r,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){Fg(t,r,l)},function(l){return Gd(t,r,l)}):Fg(t,r,i)}function Fg(t,r,i){r.status="fulfilled",r.value=i,Vg(r),t.state=i,r=t.pending,r!==null&&(i=r.next,i===r?t.pending=null:(i=i.next,r.next=i,Mg(t,i)))}function Gd(t,r,i){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=i,Vg(r),r=r.next;while(r!==l)}t.action=null}function Vg(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Ug(t,r){return r}function zg(t,r){if(je){var i=tt.formState;if(i!==null){e:{var l=Se;if(je){if(nt){t:{for(var h=nt,f=Rn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Ln(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){nt=Ln(h.nextSibling),l=h.data==="F!";break e}}Cs(l)}l=!1}l&&(r=i[0])}}return i=nn(),i.memoizedState=i.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ug,lastRenderedState:r},i.queue=l,i=iy.bind(null,Se,l),l.dispatch=i,l=qd(!1),f=Yd.bind(null,Se,!1,l.queue),l=nn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,i=IE.bind(null,Se,h,f,i),h.dispatch=i,l.memoizedState=t,[r,i,!1]}function Hg(t){var r=yt();return $g(r,Je,t)}function $g(t,r,i){if(r=Hd(t,r,Ug)[0],t=sc(Qr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=sl(r)}catch(v){throw v===Ri?Wu:v}else l=r;r=yt();var h=r.queue,f=h.dispatch;return i!==r.memoizedState&&(Se.flags|=2048,Mi(9,{destroy:void 0},AE.bind(null,h,i),null)),[l,f,t]}function AE(t,r){t.action=r}function qg(t){var r=yt(),i=Je;if(i!==null)return $g(r,i,t);yt(),r=r.memoizedState,i=yt();var l=i.queue.dispatch;return i.memoizedState=t,[r,l,!1]}function Mi(t,r,i,l){return t={tag:t,create:i,deps:l,inst:r,next:null},r=Se.updateQueue,r===null&&(r=nc(),Se.updateQueue=r),i=r.lastEffect,i===null?r.lastEffect=t.next=t:(l=i.next,i.next=t,t.next=l,r.lastEffect=t),t}function Gg(){return yt().memoizedState}function ac(t,r,i,l){var h=nn();Se.flags|=t,h.memoizedState=Mi(1|r,{destroy:void 0},i,l===void 0?null:l)}function ic(t,r,i,l){var h=yt();l=l===void 0?null:l;var f=h.memoizedState.inst;Je!==null&&l!==null&&Md(l,Je.memoizedState.deps)?h.memoizedState=Mi(r,f,i,l):(Se.flags|=t,h.memoizedState=Mi(1|r,f,i,l))}function Bg(t,r){ac(8390656,8,t,r)}function Bd(t,r){ic(2048,8,t,r)}function RE(t){Se.flags|=4;var r=Se.updateQueue;if(r===null)r=nc(),Se.updateQueue=r,r.events=[t];else{var i=r.events;i===null?r.events=[t]:i.push(t)}}function Kg(t){var r=yt().memoizedState;return RE({ref:r,nextImpl:t}),function(){if(($e&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}function Wg(t,r){return ic(4,2,t,r)}function Qg(t,r){return ic(4,4,t,r)}function Xg(t,r){if(typeof r=="function"){t=t();var i=r(t);return function(){typeof i=="function"?i():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Yg(t,r,i){i=i!=null?i.concat([t]):null,ic(4,4,Xg.bind(null,r,t),i)}function Kd(){}function Jg(t,r){var i=yt();r=r===void 0?null:r;var l=i.memoizedState;return r!==null&&Md(r,l[1])?l[0]:(i.memoizedState=[t,r],t)}function Zg(t,r){var i=yt();r=r===void 0?null:r;var l=i.memoizedState;if(r!==null&&Md(r,l[1]))return l[0];if(l=t(),Ua){En(!0);try{t()}finally{En(!1)}}return i.memoizedState=[l,r],l}function Wd(t,r,i){return i===void 0||(Wr&1073741824)!==0&&(Le&261930)===0?t.memoizedState=r:(t.memoizedState=i,t=ev(),Se.lanes|=t,Ds|=t,i)}function ey(t,r,i,l){return mn(i,r)?i:Pi.current!==null?(t=Wd(t,i,l),mn(t,r)||(Ct=!0),t):(Wr&42)===0||(Wr&1073741824)!==0&&(Le&261930)===0?(Ct=!0,t.memoizedState=i):(t=ev(),Se.lanes|=t,Ds|=t,r)}function ty(t,r,i,l,h){var f=ie.p;ie.p=f!==0&&8>f?f:8;var v=Q.T,x={};Q.T=x,Yd(t,!1,r,i);try{var I=h(),V=Q.S;if(V!==null&&V(x,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=CE(I,l);al(t,r,X,kn(t))}else al(t,r,l,kn(t))}catch(Z){al(t,r,{then:function(){},status:"rejected",reason:Z},kn())}finally{ie.p=f,v!==null&&x.types!==null&&(v.types=x.types),Q.T=v}}function LE(){}function Qd(t,r,i,l){if(t.tag!==5)throw Error(a(476));var h=ny(t).queue;ty(t,h,r,me,i===null?LE:function(){return ry(t),i(l)})}function ny(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:me},next:null};var i={};return r.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:i},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function ry(t){var r=ny(t);r.next===null&&(r=t.alternate.memoizedState),al(t,r.next.queue,{},kn())}function Xd(){return Ht(El)}function sy(){return yt().memoizedState}function ay(){return yt().memoizedState}function PE(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var i=kn();t=Is(i);var l=As(r,t,i);l!==null&&(un(l,r,i),el(l,r,i)),r={cache:Sd()},t.payload=r;return}r=r.return}}function OE(t,r,i){var l=kn();i={lane:l,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},oc(t)?oy(r,i):(i=pd(t,r,i,l),i!==null&&(un(i,t,l),ly(i,r,l)))}function iy(t,r,i){var l=kn();al(t,r,i,l)}function al(t,r,i,l){var h={lane:l,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(oc(t))oy(r,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var v=r.lastRenderedState,x=f(v,i);if(h.hasEagerState=!0,h.eagerState=x,mn(x,v))return zu(t,r,h,0),tt===null&&Uu(),!1}catch{}finally{}if(i=pd(t,r,h,l),i!==null)return un(i,t,l),ly(i,r,l),!0}return!1}function Yd(t,r,i,l){if(l={lane:2,revertLane:Af(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},oc(t)){if(r)throw Error(a(479))}else r=pd(t,i,l,2),r!==null&&un(r,t,2)}function oc(t){var r=t.alternate;return t===Se||r!==null&&r===Se}function oy(t,r){Oi=ec=!0;var i=t.pending;i===null?r.next=r:(r.next=i.next,i.next=r),t.pending=r}function ly(t,r,i){if((i&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,i|=l,r.lanes=i,No(t,i)}}var il={readContext:Ht,use:rc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};il.useEffectEvent=dt;var uy={readContext:Ht,use:rc,useCallback:function(t,r){return nn().memoizedState=[t,r===void 0?null:r],t},useContext:Ht,useEffect:Bg,useImperativeHandle:function(t,r,i){i=i!=null?i.concat([t]):null,ac(4194308,4,Xg.bind(null,r,t),i)},useLayoutEffect:function(t,r){return ac(4194308,4,t,r)},useInsertionEffect:function(t,r){ac(4,2,t,r)},useMemo:function(t,r){var i=nn();r=r===void 0?null:r;var l=t();if(Ua){En(!0);try{t()}finally{En(!1)}}return i.memoizedState=[l,r],l},useReducer:function(t,r,i){var l=nn();if(i!==void 0){var h=i(r);if(Ua){En(!0);try{i(r)}finally{En(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=OE.bind(null,Se,t),[l.memoizedState,t]},useRef:function(t){var r=nn();return t={current:t},r.memoizedState=t},useState:function(t){t=qd(t);var r=t.queue,i=iy.bind(null,Se,r);return r.dispatch=i,[t.memoizedState,i]},useDebugValue:Kd,useDeferredValue:function(t,r){var i=nn();return Wd(i,t,r)},useTransition:function(){var t=qd(!1);return t=ty.bind(null,Se,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,i){var l=Se,h=nn();if(je){if(i===void 0)throw Error(a(407));i=i()}else{if(i=r(),tt===null)throw Error(a(349));(Le&127)!==0||Ag(l,r,i)}h.memoizedState=i;var f={value:i,getSnapshot:r};return h.queue=f,Bg(Lg.bind(null,l,f,t),[t]),l.flags|=2048,Mi(9,{destroy:void 0},Rg.bind(null,l,f,i,r),null),i},useId:function(){var t=nn(),r=tt.identifierPrefix;if(je){var i=Er,l=kr;i=(l&~(1<<32-pt(l)-1)).toString(32)+i,r="_"+r+"R_"+i,i=tc++,0<i&&(r+="H"+i.toString(32)),r+="_"}else i=NE++,r="_"+r+"r_"+i.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Xd,useFormState:zg,useActionState:zg,useOptimistic:function(t){var r=nn();r.memoizedState=r.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=i,r=Yd.bind(null,Se,!0,i),i.dispatch=r,[t,r]},useMemoCache:zd,useCacheRefresh:function(){return nn().memoizedState=PE.bind(null,Se)},useEffectEvent:function(t){var r=nn(),i={impl:t};return r.memoizedState=i,function(){if(($e&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}},Jd={readContext:Ht,use:rc,useCallback:Jg,useContext:Ht,useEffect:Bd,useImperativeHandle:Yg,useInsertionEffect:Wg,useLayoutEffect:Qg,useMemo:Zg,useReducer:sc,useRef:Gg,useState:function(){return sc(Qr)},useDebugValue:Kd,useDeferredValue:function(t,r){var i=yt();return ey(i,Je.memoizedState,t,r)},useTransition:function(){var t=sc(Qr)[0],r=yt().memoizedState;return[typeof t=="boolean"?t:sl(t),r]},useSyncExternalStore:Ig,useId:sy,useHostTransitionStatus:Xd,useFormState:Hg,useActionState:Hg,useOptimistic:function(t,r){var i=yt();return Dg(i,Je,t,r)},useMemoCache:zd,useCacheRefresh:ay};Jd.useEffectEvent=Kg;var cy={readContext:Ht,use:rc,useCallback:Jg,useContext:Ht,useEffect:Bd,useImperativeHandle:Yg,useInsertionEffect:Wg,useLayoutEffect:Qg,useMemo:Zg,useReducer:$d,useRef:Gg,useState:function(){return $d(Qr)},useDebugValue:Kd,useDeferredValue:function(t,r){var i=yt();return Je===null?Wd(i,t,r):ey(i,Je.memoizedState,t,r)},useTransition:function(){var t=$d(Qr)[0],r=yt().memoizedState;return[typeof t=="boolean"?t:sl(t),r]},useSyncExternalStore:Ig,useId:sy,useHostTransitionStatus:Xd,useFormState:qg,useActionState:qg,useOptimistic:function(t,r){var i=yt();return Je!==null?Dg(i,Je,t,r):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:zd,useCacheRefresh:ay};cy.useEffectEvent=Kg;function Zd(t,r,i,l){r=t.memoizedState,i=i(l,r),i=i==null?r:E({},r,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var ef={enqueueSetState:function(t,r,i){t=t._reactInternals;var l=kn(),h=Is(l);h.payload=r,i!=null&&(h.callback=i),r=As(t,h,l),r!==null&&(un(r,t,l),el(r,t,l))},enqueueReplaceState:function(t,r,i){t=t._reactInternals;var l=kn(),h=Is(l);h.tag=1,h.payload=r,i!=null&&(h.callback=i),r=As(t,h,l),r!==null&&(un(r,t,l),el(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var i=kn(),l=Is(i);l.tag=2,r!=null&&(l.callback=r),r=As(t,l,i),r!==null&&(un(r,t,i),el(r,t,i))}};function hy(t,r,i,l,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):r.prototype&&r.prototype.isPureReactComponent?!Bo(i,l)||!Bo(h,f):!0}function dy(t,r,i,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(i,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(i,l),r.state!==t&&ef.enqueueReplaceState(r,r.state,null)}function za(t,r){var i=r;if("ref"in r){i={};for(var l in r)l!=="ref"&&(i[l]=r[l])}if(t=t.defaultProps){i===r&&(i=E({},i));for(var h in t)i[h]===void 0&&(i[h]=t[h])}return i}function fy(t){Vu(t)}function py(t){console.error(t)}function my(t){Vu(t)}function lc(t,r){try{var i=t.onUncaughtError;i(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function gy(t,r,i){try{var l=t.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function tf(t,r,i){return i=Is(i),i.tag=3,i.payload={element:null},i.callback=function(){lc(t,r)},i}function yy(t){return t=Is(t),t.tag=3,t}function vy(t,r,i,l){var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){gy(r,i,l)}}var v=i.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){gy(r,i,l),typeof h!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function DE(t,r,i,l,h){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=i.alternate,r!==null&&_i(r,i,h,!0),i=yn.current,i!==null){switch(i.tag){case 31:case 13:return Wn===null?wc():i.alternate===null&&ft===0&&(ft=3),i.flags&=-257,i.flags|=65536,i.lanes=h,l===Qu?i.flags|=16384:(r=i.updateQueue,r===null?i.updateQueue=new Set([l]):r.add(l),Nf(t,l,h)),!1;case 22:return i.flags|=65536,l===Qu?i.flags|=16384:(r=i.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=r):(i=r.retryQueue,i===null?r.retryQueue=new Set([l]):i.add(l)),Nf(t,l,h)),!1}throw Error(a(435,i.tag))}return Nf(t,l,h),wc(),!1}if(je)return r=yn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==wd&&(t=Error(a(422),{cause:l}),Qo(_n(t,i)))):(l!==wd&&(r=Error(a(423),{cause:l}),Qo(_n(r,i))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=_n(l,i),h=tf(t.stateNode,l,h),Rd(t,h),ft!==4&&(ft=2)),!1;var f=Error(a(520),{cause:l});if(f=_n(f,i),pl===null?pl=[f]:pl.push(f),ft!==4&&(ft=2),r===null)return!0;l=_n(l,i),i=r;do{switch(i.tag){case 3:return i.flags|=65536,t=h&-h,i.lanes|=t,t=tf(i.stateNode,l,t),Rd(i,t),!1;case 1:if(r=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ms===null||!Ms.has(f))))return i.flags|=65536,h&=-h,i.lanes|=h,h=yy(h),vy(h,t,i,l),Rd(i,h),!1}i=i.return}while(i!==null);return!1}var nf=Error(a(461)),Ct=!1;function $t(t,r,i,l){r.child=t===null?Eg(r,null,i,l):Va(r,t.child,i,l)}function by(t,r,i,l,h){i=i.render;var f=r.ref;if("ref"in l){var v={};for(var x in l)x!=="ref"&&(v[x]=l[x])}else v=l;return Da(r),l=jd(t,r,i,v,f,h),x=Fd(),t!==null&&!Ct?(Vd(t,r,h),Xr(t,r,h)):(je&&x&&vd(r),r.flags|=1,$t(t,r,l,h),r.child)}function wy(t,r,i,l,h){if(t===null){var f=i.type;return typeof f=="function"&&!md(f)&&f.defaultProps===void 0&&i.compare===null?(r.tag=15,r.type=f,ky(t,r,f,l,h)):(t=$u(i.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!hf(t,h)){var v=f.memoizedProps;if(i=i.compare,i=i!==null?i:Bo,i(v,l)&&t.ref===r.ref)return Xr(t,r,h)}return r.flags|=1,t=qr(f,l),t.ref=r.ref,t.return=r,r.child=t}function ky(t,r,i,l,h){if(t!==null){var f=t.memoizedProps;if(Bo(f,l)&&t.ref===r.ref)if(Ct=!1,r.pendingProps=l=f,hf(t,h))(t.flags&131072)!==0&&(Ct=!0);else return r.lanes=t.lanes,Xr(t,r,h)}return rf(t,r,i,l,h)}function Ey(t,r,i,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(f=f!==null?f.baseLanes|i:i,t!==null){for(l=r.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,r.child=null;return xy(t,r,f,i,l)}if((i&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ku(r,f!==null?f.cachePool:null),f!==null?Sg(r,f):Pd(),Cg(r);else return l=r.lanes=536870912,xy(t,r,f!==null?f.baseLanes|i:i,i,l)}else f!==null?(Ku(r,f.cachePool),Sg(r,f),Ls(),r.memoizedState=null):(t!==null&&Ku(r,null),Pd(),Ls());return $t(t,r,h,i),r.child}function ol(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function xy(t,r,i,l,h){var f=Nd();return f=f===null?null:{parent:Tt._currentValue,pool:f},r.memoizedState={baseLanes:i,cachePool:f},t!==null&&Ku(r,null),Pd(),Cg(r),t!==null&&_i(t,r,l,!0),r.childLanes=h,null}function uc(t,r){return r=hc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function Ty(t,r,i){return Va(r,t.child,null,i),t=uc(r,r.pendingProps),t.flags|=2,vn(r),r.memoizedState=null,t}function ME(t,r,i){var l=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(je){if(l.mode==="hidden")return t=uc(r,l),r.lanes=536870912,ol(null,t);if(Dd(r),(t=nt)?(t=Mv(t,Rn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Ts!==null?{id:kr,overflow:Er}:null,retryLane:536870912,hydrationErrors:null},i=og(t),i.return=r,r.child=i,zt=r,nt=null)):t=null,t===null)throw Cs(r);return r.lanes=536870912,null}return uc(r,l)}var f=t.memoizedState;if(f!==null){var v=f.dehydrated;if(Dd(r),h)if(r.flags&256)r.flags&=-257,r=Ty(t,r,i);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(a(558));else if(Ct||_i(t,r,i,!1),h=(i&t.childLanes)!==0,Ct||h){if(l=tt,l!==null&&(v=_o(l,i),v!==0&&v!==f.retryLane))throw f.retryLane=v,Ra(t,v),un(l,t,v),nf;wc(),r=Ty(t,r,i)}else t=f.treeContext,nt=Ln(v.nextSibling),zt=r,je=!0,Ss=null,Rn=!1,t!==null&&cg(r,t),r=uc(r,l),r.flags|=4096;return r}return t=qr(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function cc(t,r){var i=r.ref;if(i===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(t===null||t.ref!==i)&&(r.flags|=4194816)}}function rf(t,r,i,l,h){return Da(r),i=jd(t,r,i,l,void 0,h),l=Fd(),t!==null&&!Ct?(Vd(t,r,h),Xr(t,r,h)):(je&&l&&vd(r),r.flags|=1,$t(t,r,i,h),r.child)}function Sy(t,r,i,l,h,f){return Da(r),r.updateQueue=null,i=_g(r,l,i,h),Ng(t),l=Fd(),t!==null&&!Ct?(Vd(t,r,f),Xr(t,r,f)):(je&&l&&vd(r),r.flags|=1,$t(t,r,i,f),r.child)}function Cy(t,r,i,l,h){if(Da(r),r.stateNode===null){var f=Ti,v=i.contextType;typeof v=="object"&&v!==null&&(f=Ht(v)),f=new i(l,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ef,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=l,f.state=r.memoizedState,f.refs={},Id(r),v=i.contextType,f.context=typeof v=="object"&&v!==null?Ht(v):Ti,f.state=r.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(Zd(r,i,v,l),f.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&ef.enqueueReplaceState(f,f.state,null),nl(r,l,f,h),tl(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){f=r.stateNode;var x=r.memoizedProps,I=za(i,x);f.props=I;var V=f.context,X=i.contextType;v=Ti,typeof X=="object"&&X!==null&&(v=Ht(X));var Z=i.getDerivedStateFromProps;X=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",x=r.pendingProps!==x,X||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(x||V!==v)&&dy(r,f,l,v),_s=!1;var z=r.memoizedState;f.state=z,nl(r,l,f,h),tl(),V=r.memoizedState,x||z!==V||_s?(typeof Z=="function"&&(Zd(r,i,Z,l),V=r.memoizedState),(I=_s||hy(r,i,I,l,z,V,v))?(X||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=V),f.props=l,f.state=V,f.context=v,l=I):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{f=r.stateNode,Ad(t,r),v=r.memoizedProps,X=za(i,v),f.props=X,Z=r.pendingProps,z=f.context,V=i.contextType,I=Ti,typeof V=="object"&&V!==null&&(I=Ht(V)),x=i.getDerivedStateFromProps,(V=typeof x=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Z||z!==I)&&dy(r,f,l,I),_s=!1,z=r.memoizedState,f.state=z,nl(r,l,f,h),tl();var G=r.memoizedState;v!==Z||z!==G||_s||t!==null&&t.dependencies!==null&&Gu(t.dependencies)?(typeof x=="function"&&(Zd(r,i,x,l),G=r.memoizedState),(X=_s||hy(r,i,X,l,z,G,I)||t!==null&&t.dependencies!==null&&Gu(t.dependencies))?(V||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,G,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,G,I)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=G),f.props=l,f.state=G,f.context=I,l=X):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(r.flags|=1024),l=!1)}return f=l,cc(t,r),l=(r.flags&128)!==0,f||l?(f=r.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,t!==null&&l?(r.child=Va(r,t.child,null,h),r.child=Va(r,null,i,h)):$t(t,r,i,h),r.memoizedState=f.state,t=r.child):t=Xr(t,r,h),t}function Ny(t,r,i,l){return Pa(),r.flags|=256,$t(t,r,i,l),r.child}var sf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function af(t){return{baseLanes:t,cachePool:gg()}}function of(t,r,i){return t=t!==null?t.childLanes&~i:0,r&&(t|=wn),t}function _y(t,r,i){var l=r.pendingProps,h=!1,f=(r.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(je){if(h?Rs(r):Ls(),(t=nt)?(t=Mv(t,Rn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Ts!==null?{id:kr,overflow:Er}:null,retryLane:536870912,hydrationErrors:null},i=og(t),i.return=r,r.child=i,zt=r,nt=null)):t=null,t===null)throw Cs(r);return $f(t)?r.lanes=32:r.lanes=536870912,null}var x=l.children;return l=l.fallback,h?(Ls(),h=r.mode,x=hc({mode:"hidden",children:x},h),l=La(l,h,i,null),x.return=r,l.return=r,x.sibling=l,r.child=x,l=r.child,l.memoizedState=af(i),l.childLanes=of(t,v,i),r.memoizedState=sf,ol(null,l)):(Rs(r),lf(r,x))}var I=t.memoizedState;if(I!==null&&(x=I.dehydrated,x!==null)){if(f)r.flags&256?(Rs(r),r.flags&=-257,r=uf(t,r,i)):r.memoizedState!==null?(Ls(),r.child=t.child,r.flags|=128,r=null):(Ls(),x=l.fallback,h=r.mode,l=hc({mode:"visible",children:l.children},h),x=La(x,h,i,null),x.flags|=2,l.return=r,x.return=r,l.sibling=x,r.child=l,Va(r,t.child,null,i),l=r.child,l.memoizedState=af(i),l.childLanes=of(t,v,i),r.memoizedState=sf,r=ol(null,l));else if(Rs(r),$f(x)){if(v=x.nextSibling&&x.nextSibling.dataset,v)var V=v.dgst;v=V,l=Error(a(419)),l.stack="",l.digest=v,Qo({value:l,source:null,stack:null}),r=uf(t,r,i)}else if(Ct||_i(t,r,i,!1),v=(i&t.childLanes)!==0,Ct||v){if(v=tt,v!==null&&(l=_o(v,i),l!==0&&l!==I.retryLane))throw I.retryLane=l,Ra(t,l),un(v,t,l),nf;Hf(x)||wc(),r=uf(t,r,i)}else Hf(x)?(r.flags|=192,r.child=t.child,r=null):(t=I.treeContext,nt=Ln(x.nextSibling),zt=r,je=!0,Ss=null,Rn=!1,t!==null&&cg(r,t),r=lf(r,l.children),r.flags|=4096);return r}return h?(Ls(),x=l.fallback,h=r.mode,I=t.child,V=I.sibling,l=qr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,V!==null?x=qr(V,x):(x=La(x,h,i,null),x.flags|=2),x.return=r,l.return=r,l.sibling=x,r.child=l,ol(null,l),l=r.child,x=t.child.memoizedState,x===null?x=af(i):(h=x.cachePool,h!==null?(I=Tt._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=gg(),x={baseLanes:x.baseLanes|i,cachePool:h}),l.memoizedState=x,l.childLanes=of(t,v,i),r.memoizedState=sf,ol(t.child,l)):(Rs(r),i=t.child,t=i.sibling,i=qr(i,{mode:"visible",children:l.children}),i.return=r,i.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=i,r.memoizedState=null,i)}function lf(t,r){return r=hc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function hc(t,r){return t=gn(22,t,null,r),t.lanes=0,t}function uf(t,r,i){return Va(r,t.child,null,i),t=lf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Iy(t,r,i){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),xd(t.return,r,i)}function cf(t,r,i,l,h,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:h,treeForkCount:f}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=i,v.tailMode=h,v.treeForkCount=f)}function Ay(t,r,i){var l=r.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var v=gt.current,x=(v&2)!==0;if(x?(v=v&1|2,r.flags|=128):v&=1,oe(gt,v),$t(t,r,l,i),l=je?Wo:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Iy(t,i,r);else if(t.tag===19)Iy(t,i,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(i=r.child,h=null;i!==null;)t=i.alternate,t!==null&&Zu(t)===null&&(h=i),i=i.sibling;i=h,i===null?(h=r.child,r.child=null):(h=i.sibling,i.sibling=null),cf(r,!1,h,i,f,l);break;case"backwards":case"unstable_legacy-backwards":for(i=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Zu(t)===null){r.child=h;break}t=h.sibling,h.sibling=i,i=h,h=t}cf(r,!0,i,null,f,l);break;case"together":cf(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function Xr(t,r,i){if(t!==null&&(r.dependencies=t.dependencies),Ds|=r.lanes,(i&r.childLanes)===0)if(t!==null){if(_i(t,r,i,!1),(i&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(a(153));if(r.child!==null){for(t=r.child,i=qr(t,t.pendingProps),r.child=i,i.return=r;t.sibling!==null;)t=t.sibling,i=i.sibling=qr(t,t.pendingProps),i.return=r;i.sibling=null}return r.child}function hf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Gu(t)))}function jE(t,r,i){switch(r.tag){case 3:At(r,r.stateNode.containerInfo),Ns(r,Tt,t.memoizedState.cache),Pa();break;case 27:case 5:fa(r);break;case 4:At(r,r.stateNode.containerInfo);break;case 10:Ns(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Dd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Rs(r),r.flags|=128,null):(i&r.child.childLanes)!==0?_y(t,r,i):(Rs(r),t=Xr(t,r,i),t!==null?t.sibling:null);Rs(r);break;case 19:var h=(t.flags&128)!==0;if(l=(i&r.childLanes)!==0,l||(_i(t,r,i,!1),l=(i&r.childLanes)!==0),h){if(l)return Ay(t,r,i);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(gt,gt.current),l)break;return null;case 22:return r.lanes=0,Ey(t,r,i,r.pendingProps);case 24:Ns(r,Tt,t.memoizedState.cache)}return Xr(t,r,i)}function Ry(t,r,i){if(t!==null)if(t.memoizedProps!==r.pendingProps)Ct=!0;else{if(!hf(t,i)&&(r.flags&128)===0)return Ct=!1,jE(t,r,i);Ct=(t.flags&131072)!==0}else Ct=!1,je&&(r.flags&1048576)!==0&&ug(r,Wo,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=ja(r.elementType),r.type=t,typeof t=="function")md(t)?(l=za(t,l),r.tag=1,r=Cy(null,r,t,l,i)):(r.tag=0,r=rf(null,r,t,l,i));else{if(t!=null){var h=t.$$typeof;if(h===ce){r.tag=11,r=by(null,r,t,l,i);break e}else if(h===C){r.tag=14,r=wy(null,r,t,l,i);break e}}throw r=Xe(t)||t,Error(a(306,r,""))}}return r;case 0:return rf(t,r,r.type,r.pendingProps,i);case 1:return l=r.type,h=za(l,r.pendingProps),Cy(t,r,l,h,i);case 3:e:{if(At(r,r.stateNode.containerInfo),t===null)throw Error(a(387));l=r.pendingProps;var f=r.memoizedState;h=f.element,Ad(t,r),nl(r,l,null,i);var v=r.memoizedState;if(l=v.cache,Ns(r,Tt,l),l!==f.cache&&Td(r,[Tt],i,!0),tl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=Ny(t,r,l,i);break e}else if(l!==h){h=_n(Error(a(424)),r),Qo(h),r=Ny(t,r,l,i);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(nt=Ln(t.firstChild),zt=r,je=!0,Ss=null,Rn=!0,i=Eg(r,null,l,i),r.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Pa(),l===h){r=Xr(t,r,i);break e}$t(t,r,l,i)}r=r.child}return r;case 26:return cc(t,r),t===null?(i=Hv(r.type,null,r.pendingProps,null))?r.memoizedState=i:je||(i=r.type,t=r.pendingProps,l=Nc(Ce.current).createElement(i),l[kt]=r,l[Dt]=t,qt(l,i,t),Et(l),r.stateNode=l):r.memoizedState=Hv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return fa(r),t===null&&je&&(l=r.stateNode=Vv(r.type,r.pendingProps,Ce.current),zt=r,Rn=!0,h=nt,Us(r.type)?(qf=h,nt=Ln(l.firstChild)):nt=h),$t(t,r,r.pendingProps.children,i),cc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&je&&((h=l=nt)&&(l=fx(l,r.type,r.pendingProps,Rn),l!==null?(r.stateNode=l,zt=r,nt=Ln(l.firstChild),Rn=!1,h=!0):h=!1),h||Cs(r)),fa(r),h=r.type,f=r.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,Vf(h,f)?l=null:v!==null&&Vf(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=jd(t,r,_E,null,null,i),El._currentValue=h),cc(t,r),$t(t,r,l,i),r.child;case 6:return t===null&&je&&((t=i=nt)&&(i=px(i,r.pendingProps,Rn),i!==null?(r.stateNode=i,zt=r,nt=null,t=!0):t=!1),t||Cs(r)),null;case 13:return _y(t,r,i);case 4:return At(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Va(r,null,l,i):$t(t,r,l,i),r.child;case 11:return by(t,r,r.type,r.pendingProps,i);case 7:return $t(t,r,r.pendingProps,i),r.child;case 8:return $t(t,r,r.pendingProps.children,i),r.child;case 12:return $t(t,r,r.pendingProps.children,i),r.child;case 10:return l=r.pendingProps,Ns(r,r.type,l.value),$t(t,r,l.children,i),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Da(r),h=Ht(h),l=l(h),r.flags|=1,$t(t,r,l,i),r.child;case 14:return wy(t,r,r.type,r.pendingProps,i);case 15:return ky(t,r,r.type,r.pendingProps,i);case 19:return Ay(t,r,i);case 31:return ME(t,r,i);case 22:return Ey(t,r,i,r.pendingProps);case 24:return Da(r),l=Ht(Tt),t===null?(h=Nd(),h===null&&(h=tt,f=Sd(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=i),h=f),r.memoizedState={parent:l,cache:h},Id(r),Ns(r,Tt,h)):((t.lanes&i)!==0&&(Ad(t,r),nl(r,null,null,i),tl()),h=t.memoizedState,f=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Ns(r,Tt,l)):(l=f.cache,Ns(r,Tt,l),l!==h.cache&&Td(r,[Tt],i,!0))),$t(t,r,r.pendingProps.children,i),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function Yr(t){t.flags|=4}function df(t,r,i,l,h){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(sv())t.flags|=8192;else throw Fa=Qu,_d}else t.flags&=-16777217}function Ly(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Kv(r))if(sv())t.flags|=8192;else throw Fa=Qu,_d}function dc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?vu():536870912,t.lanes|=r,Ui|=r)}function ll(t,r){if(!je)switch(t.tailMode){case"hidden":r=t.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var r=t.alternate!==null&&t.alternate.child===t.child,i=0,l=0;if(r)for(var h=t.child;h!==null;)i|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)i|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=i,r}function FE(t,r,i){var l=r.pendingProps;switch(bd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(r),null;case 1:return rt(r),null;case 3:return i=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Kr(Tt),it(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Ni(r)?Yr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,kd())),rt(r),null;case 26:var h=r.type,f=r.memoizedState;return t===null?(Yr(r),f!==null?(rt(r),Ly(r,f)):(rt(r),df(r,h,null,l,i))):f?f!==t.memoizedState?(Yr(r),rt(r),Ly(r,f)):(rt(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&Yr(r),rt(r),df(r,h,t,l,i)),null;case 27:if(ai(r),i=Ce.current,h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Yr(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return rt(r),null}t=ue.current,Ni(r)?hg(r):(t=Vv(h,l,i),r.stateNode=t,Yr(r))}return rt(r),null;case 5:if(ai(r),h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Yr(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return rt(r),null}if(f=ue.current,Ni(r))hg(r);else{var v=Nc(Ce.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}f[kt]=r,f[Dt]=l;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=f;e:switch(qt(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Yr(r)}}return rt(r),df(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,i),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Yr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(a(166));if(t=Ce.current,Ni(r)){if(t=r.stateNode,i=r.memoizedProps,l=null,h=zt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[kt]=r,t=!!(t.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||_v(t.nodeValue,i)),t||Cs(r,!0)}else t=Nc(t).createTextNode(l),t[kt]=r,r.stateNode=t}return rt(r),null;case 31:if(i=r.memoizedState,t===null||t.memoizedState!==null){if(l=Ni(r),i!==null){if(t===null){if(!l)throw Error(a(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[kt]=r}else Pa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),t=!1}else i=kd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return r.flags&256?(vn(r),r):(vn(r),null);if((r.flags&128)!==0)throw Error(a(558))}return rt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ni(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[kt]=r}else Pa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),h=!1}else h=kd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(vn(r),r):(vn(r),null)}return vn(r),(r.flags&128)!==0?(r.lanes=i,r):(i=l!==null,t=t!==null&&t.memoizedState!==null,i&&(l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),i!==t&&i&&(r.child.flags|=8192),dc(r,r.updateQueue),rt(r),null);case 4:return it(),t===null&&Of(r.stateNode.containerInfo),rt(r),null;case 10:return Kr(r.type),rt(r),null;case 19:if(J(gt),l=r.memoizedState,l===null)return rt(r),null;if(h=(r.flags&128)!==0,f=l.rendering,f===null)if(h)ll(l,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(f=Zu(t),f!==null){for(r.flags|=128,ll(l,!1),t=f.updateQueue,r.updateQueue=t,dc(r,t),r.subtreeFlags=0,t=i,i=r.child;i!==null;)ig(i,t),i=i.sibling;return oe(gt,gt.current&1|2),je&&Gr(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&en()>yc&&(r.flags|=128,h=!0,ll(l,!1),r.lanes=4194304)}else{if(!h)if(t=Zu(f),t!==null){if(r.flags|=128,h=!0,t=t.updateQueue,r.updateQueue=t,dc(r,t),ll(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!je)return rt(r),null}else 2*en()-l.renderingStartTime>yc&&i!==536870912&&(r.flags|=128,h=!0,ll(l,!1),r.lanes=4194304);l.isBackwards?(f.sibling=r.child,r.child=f):(t=l.last,t!==null?t.sibling=f:r.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,i=gt.current,oe(gt,h?i&1|2:i&1),je&&Gr(r,l.treeForkCount),t):(rt(r),null);case 22:case 23:return vn(r),Od(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(i&536870912)!==0&&(r.flags&128)===0&&(rt(r),r.subtreeFlags&6&&(r.flags|=8192)):rt(r),i=r.updateQueue,i!==null&&dc(r,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==i&&(r.flags|=2048),t!==null&&J(Ma),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),r.memoizedState.cache!==i&&(r.flags|=2048),Kr(Tt),rt(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function VE(t,r){switch(bd(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Kr(Tt),it(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return ai(r),null;case 31:if(r.memoizedState!==null){if(vn(r),r.alternate===null)throw Error(a(340));Pa()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(vn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(a(340));Pa()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return J(gt),null;case 4:return it(),null;case 10:return Kr(r.type),null;case 22:case 23:return vn(r),Od(),t!==null&&J(Ma),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Kr(Tt),null;case 25:return null;default:return null}}function Py(t,r){switch(bd(r),r.tag){case 3:Kr(Tt),it();break;case 26:case 27:case 5:ai(r);break;case 4:it();break;case 31:r.memoizedState!==null&&vn(r);break;case 13:vn(r);break;case 19:J(gt);break;case 10:Kr(r.type);break;case 22:case 23:vn(r),Od(),t!==null&&J(Ma);break;case 24:Kr(Tt)}}function ul(t,r){try{var i=r.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var h=l.next;i=h;do{if((i.tag&t)===t){l=void 0;var f=i.create,v=i.inst;l=f(),v.destroy=l}i=i.next}while(i!==h)}}catch(x){Qe(r,r.return,x)}}function Ps(t,r,i){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var v=l.inst,x=v.destroy;if(x!==void 0){v.destroy=void 0,h=r;var I=i,V=x;try{V()}catch(X){Qe(h,I,X)}}}l=l.next}while(l!==f)}}catch(X){Qe(r,r.return,X)}}function Oy(t){var r=t.updateQueue;if(r!==null){var i=t.stateNode;try{Tg(r,i)}catch(l){Qe(t,t.return,l)}}}function Dy(t,r,i){i.props=za(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(l){Qe(t,r,l)}}function cl(t,r){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof i=="function"?t.refCleanup=i(l):i.current=l}}catch(h){Qe(t,r,h)}}function xr(t,r){var i=t.ref,l=t.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(h){Qe(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(h){Qe(t,r,h)}else i.current=null}function My(t){var r=t.type,i=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break e;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(h){Qe(t,t.return,h)}}function ff(t,r,i){try{var l=t.stateNode;ox(l,t.type,i,r),l[Dt]=r}catch(h){Qe(t,t.return,h)}}function jy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Us(t.type)||t.tag===4}function pf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Us(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mf(t,r,i){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,r):(r=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,r.appendChild(t),i=i._reactRootContainer,i!=null||r.onclick!==null||(r.onclick=Hn));else if(l!==4&&(l===27&&Us(t.type)&&(i=t.stateNode,r=null),t=t.child,t!==null))for(mf(t,r,i),t=t.sibling;t!==null;)mf(t,r,i),t=t.sibling}function fc(t,r,i){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?i.insertBefore(t,r):i.appendChild(t);else if(l!==4&&(l===27&&Us(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(fc(t,r,i),t=t.sibling;t!==null;)fc(t,r,i),t=t.sibling}function Fy(t){var r=t.stateNode,i=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);qt(r,l,i),r[kt]=t,r[Dt]=i}catch(f){Qe(t,t.return,f)}}var Jr=!1,Nt=!1,gf=!1,Vy=typeof WeakSet=="function"?WeakSet:Set,jt=null;function UE(t,r){if(t=t.containerInfo,jf=Oc,t=Ym(t),ld(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var v=0,x=-1,I=-1,V=0,X=0,Z=t,z=null;t:for(;;){for(var G;Z!==i||h!==0&&Z.nodeType!==3||(x=v+h),Z!==f||l!==0&&Z.nodeType!==3||(I=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(G=Z.firstChild)!==null;)z=Z,Z=G;for(;;){if(Z===t)break t;if(z===i&&++V===h&&(x=v),z===f&&++X===l&&(I=v),(G=Z.nextSibling)!==null)break;Z=z,z=Z.parentNode}Z=G}i=x===-1||I===-1?null:{start:x,end:I}}else i=null}i=i||{start:0,end:0}}else i=null;for(Ff={focusedElem:t,selectionRange:i},Oc=!1,jt=r;jt!==null;)if(r=jt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,jt=t;else for(;jt!==null;){switch(r=jt,f=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)h=t[i],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,i=r,h=f.memoizedProps,f=f.memoizedState,l=i.stateNode;try{var he=za(i.type,h);t=l.getSnapshotBeforeUpdate(he,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Qe(i,i.return,ye)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,i=t.nodeType,i===9)zf(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":zf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=r.sibling,t!==null){t.return=r.return,jt=t;break}jt=r.return}}function Uy(t,r,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:es(t,i),l&4&&ul(5,i);break;case 1:if(es(t,i),l&4)if(t=i.stateNode,r===null)try{t.componentDidMount()}catch(v){Qe(i,i.return,v)}else{var h=za(i.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Qe(i,i.return,v)}}l&64&&Oy(i),l&512&&cl(i,i.return);break;case 3:if(es(t,i),l&64&&(t=i.updateQueue,t!==null)){if(r=null,i.child!==null)switch(i.child.tag){case 27:case 5:r=i.child.stateNode;break;case 1:r=i.child.stateNode}try{Tg(t,r)}catch(v){Qe(i,i.return,v)}}break;case 27:r===null&&l&4&&Fy(i);case 26:case 5:es(t,i),r===null&&l&4&&My(i),l&512&&cl(i,i.return);break;case 12:es(t,i);break;case 31:es(t,i),l&4&&$y(t,i);break;case 13:es(t,i),l&4&&qy(t,i),l&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=QE.bind(null,i),mx(t,i))));break;case 22:if(l=i.memoizedState!==null||Jr,!l){r=r!==null&&r.memoizedState!==null||Nt,h=Jr;var f=Nt;Jr=l,(Nt=r)&&!f?ts(t,i,(i.subtreeFlags&8772)!==0):es(t,i),Jr=h,Nt=f}break;case 30:break;default:es(t,i)}}function zy(t){var r=t.alternate;r!==null&&(t.alternate=null,zy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&ci(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,sn=!1;function Zr(t,r,i){for(i=i.child;i!==null;)Hy(t,r,i),i=i.sibling}function Hy(t,r,i){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(Fn,i)}catch{}switch(i.tag){case 26:Nt||xr(i,r),Zr(t,r,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Nt||xr(i,r);var l=lt,h=sn;Us(i.type)&&(lt=i.stateNode,sn=!1),Zr(t,r,i),bl(i.stateNode),lt=l,sn=h;break;case 5:Nt||xr(i,r);case 6:if(l=lt,h=sn,lt=null,Zr(t,r,i),lt=l,sn=h,lt!==null)if(sn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(i.stateNode)}catch(f){Qe(i,r,f)}else try{lt.removeChild(i.stateNode)}catch(f){Qe(i,r,f)}break;case 18:lt!==null&&(sn?(t=lt,Ov(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),Wi(t)):Ov(lt,i.stateNode));break;case 4:l=lt,h=sn,lt=i.stateNode.containerInfo,sn=!0,Zr(t,r,i),lt=l,sn=h;break;case 0:case 11:case 14:case 15:Ps(2,i,r),Nt||Ps(4,i,r),Zr(t,r,i);break;case 1:Nt||(xr(i,r),l=i.stateNode,typeof l.componentWillUnmount=="function"&&Dy(i,r,l)),Zr(t,r,i);break;case 21:Zr(t,r,i);break;case 22:Nt=(l=Nt)||i.memoizedState!==null,Zr(t,r,i),Nt=l;break;default:Zr(t,r,i)}}function $y(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Wi(t)}catch(i){Qe(r,r.return,i)}}}function qy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Wi(t)}catch(i){Qe(r,r.return,i)}}function zE(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Vy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Vy),r;default:throw Error(a(435,t.tag))}}function pc(t,r){var i=zE(t);r.forEach(function(l){if(!i.has(l)){i.add(l);var h=XE.bind(null,t,l);l.then(h,h)}})}function an(t,r){var i=r.deletions;if(i!==null)for(var l=0;l<i.length;l++){var h=i[l],f=t,v=r,x=v;e:for(;x!==null;){switch(x.tag){case 27:if(Us(x.type)){lt=x.stateNode,sn=!1;break e}break;case 5:lt=x.stateNode,sn=!1;break e;case 3:case 4:lt=x.stateNode.containerInfo,sn=!0;break e}x=x.return}if(lt===null)throw Error(a(160));Hy(f,v,h),lt=null,sn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Gy(r,t),r=r.sibling}var Qn=null;function Gy(t,r){var i=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(r,t),on(t),l&4&&(Ps(3,t,t.return),ul(3,t),Ps(5,t,t.return));break;case 1:an(r,t),on(t),l&512&&(Nt||i===null||xr(i,i.return)),l&64&&Jr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var h=Qn;if(an(r,t),on(t),l&512&&(Nt||i===null||xr(i,i.return)),l&4){var f=i!==null?i.memoizedState:null;if(l=t.memoizedState,i===null)if(l===null)if(t.stateNode===null){e:{l=t.type,i=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[cr]||f[kt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),qt(f,l,i),f[kt]=t,Et(f),l=f;break e;case"link":var v=Gv("link","href",h).get(l+(i.href||""));if(v){for(var x=0;x<v.length;x++)if(f=v[x],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){v.splice(x,1);break t}}f=h.createElement(l),qt(f,l,i),h.head.appendChild(f);break;case"meta":if(v=Gv("meta","content",h).get(l+(i.content||""))){for(x=0;x<v.length;x++)if(f=v[x],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){v.splice(x,1);break t}}f=h.createElement(l),qt(f,l,i),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[kt]=t,Et(f),l=f}t.stateNode=l}else Bv(h,t.type,t.stateNode);else t.stateNode=qv(h,l,t.memoizedProps);else f!==l?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,l===null?Bv(h,t.type,t.stateNode):qv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ff(t,t.memoizedProps,i.memoizedProps)}break;case 27:an(r,t),on(t),l&512&&(Nt||i===null||xr(i,i.return)),i!==null&&l&4&&ff(t,t.memoizedProps,i.memoizedProps);break;case 5:if(an(r,t),on(t),l&512&&(Nt||i===null||xr(i,i.return)),t.flags&32){h=t.stateNode;try{rn(h,"")}catch(he){Qe(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ff(t,h,i!==null?i.memoizedProps:h)),l&1024&&(gf=!0);break;case 6:if(an(r,t),on(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,i=t.stateNode;try{i.nodeValue=l}catch(he){Qe(t,t.return,he)}}break;case 3:if(Ac=null,h=Qn,Qn=_c(r.containerInfo),an(r,t),Qn=h,on(t),l&4&&i!==null&&i.memoizedState.isDehydrated)try{Wi(r.containerInfo)}catch(he){Qe(t,t.return,he)}gf&&(gf=!1,By(t));break;case 4:l=Qn,Qn=_c(t.stateNode.containerInfo),an(r,t),on(t),Qn=l;break;case 12:an(r,t),on(t);break;case 31:an(r,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pc(t,l)));break;case 13:an(r,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(gc=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pc(t,l)));break;case 22:h=t.memoizedState!==null;var I=i!==null&&i.memoizedState!==null,V=Jr,X=Nt;if(Jr=V||h,Nt=X||I,an(r,t),Nt=X,Jr=V,on(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(i===null||I||Jr||Nt||Ha(t)),i=null,r=t;;){if(r.tag===5||r.tag===26){if(i===null){I=i=r;try{if(f=I.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{x=I.stateNode;var Z=I.memoizedProps.style,z=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;x.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(he){Qe(I,I.return,he)}}}else if(r.tag===6){if(i===null){I=r;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(he){Qe(I,I.return,he)}}}else if(r.tag===18){if(i===null){I=r;try{var G=I.stateNode;h?Dv(G,!0):Dv(I.stateNode,!1)}catch(he){Qe(I,I.return,he)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;i===r&&(i=null),r=r.return}i===r&&(i=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,pc(t,i))));break;case 19:an(r,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pc(t,l)));break;case 30:break;case 21:break;default:an(r,t),on(t)}}function on(t){var r=t.flags;if(r&2){try{for(var i,l=t.return;l!==null;){if(jy(l)){i=l;break}l=l.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var h=i.stateNode,f=pf(t);fc(t,f,h);break;case 5:var v=i.stateNode;i.flags&32&&(rn(v,""),i.flags&=-33);var x=pf(t);fc(t,x,v);break;case 3:case 4:var I=i.stateNode.containerInfo,V=pf(t);mf(t,V,I);break;default:throw Error(a(161))}}catch(X){Qe(t,t.return,X)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function By(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;By(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function es(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Uy(t,r.alternate,r),r=r.sibling}function Ha(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ps(4,r,r.return),Ha(r);break;case 1:xr(r,r.return);var i=r.stateNode;typeof i.componentWillUnmount=="function"&&Dy(r,r.return,i),Ha(r);break;case 27:bl(r.stateNode);case 26:case 5:xr(r,r.return),Ha(r);break;case 22:r.memoizedState===null&&Ha(r);break;case 30:Ha(r);break;default:Ha(r)}t=t.sibling}}function ts(t,r,i){for(i=i&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,f=r,v=f.flags;switch(f.tag){case 0:case 11:case 15:ts(h,f,i),ul(4,f);break;case 1:if(ts(h,f,i),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(V){Qe(l,l.return,V)}if(l=f,h=l.updateQueue,h!==null){var x=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)xg(I[h],x)}catch(V){Qe(l,l.return,V)}}i&&v&64&&Oy(f),cl(f,f.return);break;case 27:Fy(f);case 26:case 5:ts(h,f,i),i&&l===null&&v&4&&My(f),cl(f,f.return);break;case 12:ts(h,f,i);break;case 31:ts(h,f,i),i&&v&4&&$y(h,f);break;case 13:ts(h,f,i),i&&v&4&&qy(h,f);break;case 22:f.memoizedState===null&&ts(h,f,i),cl(f,f.return);break;case 30:break;default:ts(h,f,i)}r=r.sibling}}function yf(t,r){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&Xo(i))}function vf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Xo(t))}function Xn(t,r,i,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ky(t,r,i,l),r=r.sibling}function Ky(t,r,i,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Xn(t,r,i,l),h&2048&&ul(9,r);break;case 1:Xn(t,r,i,l);break;case 3:Xn(t,r,i,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Xo(t)));break;case 12:if(h&2048){Xn(t,r,i,l),t=r.stateNode;try{var f=r.memoizedProps,v=f.id,x=f.onPostCommit;typeof x=="function"&&x(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Qe(r,r.return,I)}}else Xn(t,r,i,l);break;case 31:Xn(t,r,i,l);break;case 13:Xn(t,r,i,l);break;case 23:break;case 22:f=r.stateNode,v=r.alternate,r.memoizedState!==null?f._visibility&2?Xn(t,r,i,l):hl(t,r):f._visibility&2?Xn(t,r,i,l):(f._visibility|=2,ji(t,r,i,l,(r.subtreeFlags&10256)!==0||!1)),h&2048&&yf(v,r);break;case 24:Xn(t,r,i,l),h&2048&&vf(r.alternate,r);break;default:Xn(t,r,i,l)}}function ji(t,r,i,l,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var f=t,v=r,x=i,I=l,V=v.flags;switch(v.tag){case 0:case 11:case 15:ji(f,v,x,I,h),ul(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?ji(f,v,x,I,h):hl(f,v):(X._visibility|=2,ji(f,v,x,I,h)),h&&V&2048&&yf(v.alternate,v);break;case 24:ji(f,v,x,I,h),h&&V&2048&&vf(v.alternate,v);break;default:ji(f,v,x,I,h)}r=r.sibling}}function hl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var i=t,l=r,h=l.flags;switch(l.tag){case 22:hl(i,l),h&2048&&yf(l.alternate,l);break;case 24:hl(i,l),h&2048&&vf(l.alternate,l);break;default:hl(i,l)}r=r.sibling}}var dl=8192;function Fi(t,r,i){if(t.subtreeFlags&dl)for(t=t.child;t!==null;)Wy(t,r,i),t=t.sibling}function Wy(t,r,i){switch(t.tag){case 26:Fi(t,r,i),t.flags&dl&&t.memoizedState!==null&&Nx(i,Qn,t.memoizedState,t.memoizedProps);break;case 5:Fi(t,r,i);break;case 3:case 4:var l=Qn;Qn=_c(t.stateNode.containerInfo),Fi(t,r,i),Qn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=dl,dl=16777216,Fi(t,r,i),dl=l):Fi(t,r,i));break;default:Fi(t,r,i)}}function Qy(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function fl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var i=0;i<r.length;i++){var l=r[i];jt=l,Yy(l,t)}Qy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xy(t),t=t.sibling}function Xy(t){switch(t.tag){case 0:case 11:case 15:fl(t),t.flags&2048&&Ps(9,t,t.return);break;case 3:fl(t);break;case 12:fl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,mc(t)):fl(t);break;default:fl(t)}}function mc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var i=0;i<r.length;i++){var l=r[i];jt=l,Yy(l,t)}Qy(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ps(8,r,r.return),mc(r);break;case 22:i=r.stateNode,i._visibility&2&&(i._visibility&=-3,mc(r));break;default:mc(r)}t=t.sibling}}function Yy(t,r){for(;jt!==null;){var i=jt;switch(i.tag){case 0:case 11:case 15:Ps(8,i,r);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Xo(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,jt=l;else e:for(i=t;jt!==null;){l=jt;var h=l.sibling,f=l.return;if(zy(l),l===i){jt=null;break e}if(h!==null){h.return=f,jt=h;break e}jt=f}}}var HE={getCacheForType:function(t){var r=Ht(Tt),i=r.data.get(t);return i===void 0&&(i=t(),r.data.set(t,i)),i},cacheSignal:function(){return Ht(Tt).controller.signal}},$E=typeof WeakMap=="function"?WeakMap:Map,$e=0,tt=null,Ae=null,Le=0,We=0,bn=null,Os=!1,Vi=!1,bf=!1,ns=0,ft=0,Ds=0,$a=0,wf=0,wn=0,Ui=0,pl=null,ln=null,kf=!1,gc=0,Jy=0,yc=1/0,vc=null,Ms=null,Lt=0,js=null,zi=null,rs=0,Ef=0,xf=null,Zy=null,ml=0,Tf=null;function kn(){return($e&2)!==0&&Le!==0?Le&-Le:Q.T!==null?Af():bu()}function ev(){if(wn===0)if((Le&536870912)===0||je){var t=ga;ga<<=1,(ga&3932160)===0&&(ga=262144),wn=t}else wn=536870912;return t=yn.current,t!==null&&(t.flags|=32),wn}function un(t,r,i){(t===tt&&(We===2||We===9)||t.cancelPendingCommit!==null)&&(Hi(t,0),Fs(t,Le,wn,!1)),ya(t,i),(($e&2)===0||t!==tt)&&(t===tt&&(($e&2)===0&&($a|=i),ft===4&&Fs(t,Le,wn,!1)),Tr(t))}function tv(t,r,i){if(($e&6)!==0)throw Error(a(327));var l=!i&&(r&127)===0&&(r&t.expiredLanes)===0||Vn(t,r),h=l?BE(t,r):Cf(t,r,!0),f=l;do{if(h===0){Vi&&!l&&Fs(t,r,0,!1);break}else{if(i=t.current.alternate,f&&!qE(i)){h=Cf(t,r,!1),f=!1;continue}if(h===2){if(f=r,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var x=t;h=pl;var I=x.current.memoizedState.isDehydrated;if(I&&(Hi(x,v).flags|=256),v=Cf(x,v,!1),v!==2){if(bf&&!I){x.errorRecoveryDisabledLanes|=f,$a|=f,h=4;break e}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){Hi(t,0),Fs(t,r,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:Fs(l,r,wn,!Os);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(h=gc+300-en(),10<h)){if(Fs(l,r,wn,!Os),or(l,0,!0)!==0)break e;rs=r,l.timeoutHandle=Lv(nv.bind(null,l,i,ln,vc,kf,r,wn,$a,Ui,Os,f,"Throttled",-0,0),h);break e}nv(l,i,ln,vc,kf,r,wn,$a,Ui,Os,f,null,-0,0)}}break}while(!0);Tr(t)}function nv(t,r,i,l,h,f,v,x,I,V,X,Z,z,G){if(t.timeoutHandle=-1,Z=r.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},Wy(r,f,Z);var he=(f&62914560)===f?gc-en():(f&4194048)===f?Jy-en():0;if(he=_x(Z,he),he!==null){rs=f,t.cancelPendingCommit=he(cv.bind(null,t,r,f,i,l,h,v,x,I,X,Z,null,z,G)),Fs(t,f,v,!V);return}}cv(t,r,f,i,l,h,v,x,I)}function qE(t){for(var r=t;;){var i=r.tag;if((i===0||i===11||i===15)&&r.flags&16384&&(i=r.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var h=i[l],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(i=r.child,r.subtreeFlags&16384&&i!==null)i.return=r,r=i;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Fs(t,r,i,l){r&=~wf,r&=~$a,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var f=31-pt(h),v=1<<f;l[f]=-1,h&=~v}i!==0&&va(t,i,r)}function bc(){return($e&6)===0?(gl(0),!1):!0}function Sf(){if(Ae!==null){if(We===0)var t=Ae.return;else t=Ae,Br=Oa=null,Ud(t),Li=null,Jo=0,t=Ae;for(;t!==null;)Py(t.alternate,t),t=t.return;Ae=null}}function Hi(t,r){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,cx(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),rs=0,Sf(),tt=t,Ae=i=qr(t.current,null),Le=r,We=0,bn=null,Os=!1,Vi=Vn(t,r),bf=!1,Ui=wn=wf=$a=Ds=ft=0,ln=pl=null,kf=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-pt(l),f=1<<h;r|=t[h],l&=~f}return ns=r,Uu(),i}function rv(t,r){Se=null,Q.H=il,r===Ri||r===Wu?(r=bg(),We=3):r===_d?(r=bg(),We=4):We=r===nf?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,bn=r,Ae===null&&(ft=1,lc(t,_n(r,t.current)))}function sv(){var t=yn.current;return t===null?!0:(Le&4194048)===Le?Wn===null:(Le&62914560)===Le||(Le&536870912)!==0?t===Wn:!1}function av(){var t=Q.H;return Q.H=il,t===null?il:t}function iv(){var t=Q.A;return Q.A=HE,t}function wc(){ft=4,Os||(Le&4194048)!==Le&&yn.current!==null||(Vi=!0),(Ds&134217727)===0&&($a&134217727)===0||tt===null||Fs(tt,Le,wn,!1)}function Cf(t,r,i){var l=$e;$e|=2;var h=av(),f=iv();(tt!==t||Le!==r)&&(vc=null,Hi(t,r)),r=!1;var v=ft;e:do try{if(We!==0&&Ae!==null){var x=Ae,I=bn;switch(We){case 8:Sf(),v=6;break e;case 3:case 2:case 9:case 6:yn.current===null&&(r=!0);var V=We;if(We=0,bn=null,$i(t,x,I,V),i&&Vi){v=0;break e}break;default:V=We,We=0,bn=null,$i(t,x,I,V)}}GE(),v=ft;break}catch(X){rv(t,X)}while(!0);return r&&t.shellSuspendCounter++,Br=Oa=null,$e=l,Q.H=h,Q.A=f,Ae===null&&(tt=null,Le=0,Uu()),v}function GE(){for(;Ae!==null;)ov(Ae)}function BE(t,r){var i=$e;$e|=2;var l=av(),h=iv();tt!==t||Le!==r?(vc=null,yc=en()+500,Hi(t,r)):Vi=Vn(t,r);e:do try{if(We!==0&&Ae!==null){r=Ae;var f=bn;t:switch(We){case 1:We=0,bn=null,$i(t,r,f,1);break;case 2:case 9:if(yg(f)){We=0,bn=null,lv(r);break}r=function(){We!==2&&We!==9||tt!==t||(We=7),Tr(t)},f.then(r,r);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:yg(f)?(We=0,bn=null,lv(r)):(We=0,bn=null,$i(t,r,f,7));break;case 5:var v=null;switch(Ae.tag){case 26:v=Ae.memoizedState;case 5:case 27:var x=Ae;if(v?Kv(v):x.stateNode.complete){We=0,bn=null;var I=x.sibling;if(I!==null)Ae=I;else{var V=x.return;V!==null?(Ae=V,kc(V)):Ae=null}break t}}We=0,bn=null,$i(t,r,f,5);break;case 6:We=0,bn=null,$i(t,r,f,6);break;case 8:Sf(),ft=6;break e;default:throw Error(a(462))}}KE();break}catch(X){rv(t,X)}while(!0);return Br=Oa=null,Q.H=l,Q.A=h,$e=i,Ae!==null?0:(tt=null,Le=0,Uu(),ft)}function KE(){for(;Ae!==null&&!td();)ov(Ae)}function ov(t){var r=Ry(t.alternate,t,ns);t.memoizedProps=t.pendingProps,r===null?kc(t):Ae=r}function lv(t){var r=t,i=r.alternate;switch(r.tag){case 15:case 0:r=Sy(i,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=Sy(i,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:Ud(r);default:Py(i,r),r=Ae=ig(r,ns),r=Ry(i,r,ns)}t.memoizedProps=t.pendingProps,r===null?kc(t):Ae=r}function $i(t,r,i,l){Br=Oa=null,Ud(r),Li=null,Jo=0;var h=r.return;try{if(DE(t,h,r,i,Le)){ft=1,lc(t,_n(i,t.current)),Ae=null;return}}catch(f){if(h!==null)throw Ae=h,f;ft=1,lc(t,_n(i,t.current)),Ae=null;return}r.flags&32768?(je||l===1?t=!0:Vi||(Le&536870912)!==0?t=!1:(Os=t=!0,(l===2||l===9||l===3||l===6)&&(l=yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),uv(r,t)):kc(r)}function kc(t){var r=t;do{if((r.flags&32768)!==0){uv(r,Os);return}t=r.return;var i=FE(r.alternate,r,ns);if(i!==null){Ae=i;return}if(r=r.sibling,r!==null){Ae=r;return}Ae=r=t}while(r!==null);ft===0&&(ft=5)}function uv(t,r){do{var i=VE(t.alternate,t);if(i!==null){i.flags&=32767,Ae=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!r&&(t=t.sibling,t!==null)){Ae=t;return}Ae=t=i}while(t!==null);ft=6,Ae=null}function cv(t,r,i,l,h,f,v,x,I){t.cancelPendingCommit=null;do Ec();while(Lt!==0);if(($e&6)!==0)throw Error(a(327));if(r!==null){if(r===t.current)throw Error(a(177));if(f=r.lanes|r.childLanes,f|=fd,sd(t,i,f,v,x,I),t===tt&&(Ae=tt=null,Le=0),zi=r,js=t,rs=i,Ef=f,xf=h,Zy=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,YE(ps,function(){return mv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=ie.p,ie.p=2,v=$e,$e|=4;try{UE(t,r,i)}finally{$e=v,ie.p=h,Q.T=l}}Lt=1,hv(),dv(),fv()}}function hv(){if(Lt===1){Lt=0;var t=js,r=zi,i=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||i){i=Q.T,Q.T=null;var l=ie.p;ie.p=2;var h=$e;$e|=4;try{Gy(r,t);var f=Ff,v=Ym(t.containerInfo),x=f.focusedElem,I=f.selectionRange;if(v!==x&&x&&x.ownerDocument&&Xm(x.ownerDocument.documentElement,x)){if(I!==null&&ld(x)){var V=I.start,X=I.end;if(X===void 0&&(X=V),"selectionStart"in x)x.selectionStart=V,x.selectionEnd=Math.min(X,x.value.length);else{var Z=x.ownerDocument||document,z=Z&&Z.defaultView||window;if(z.getSelection){var G=z.getSelection(),he=x.textContent.length,ye=Math.min(I.start,he),et=I.end===void 0?ye:Math.min(I.end,he);!G.extend&&ye>et&&(v=et,et=ye,ye=v);var D=Qm(x,ye),R=Qm(x,et);if(D&&R&&(G.rangeCount!==1||G.anchorNode!==D.node||G.anchorOffset!==D.offset||G.focusNode!==R.node||G.focusOffset!==R.offset)){var F=Z.createRange();F.setStart(D.node,D.offset),G.removeAllRanges(),ye>et?(G.addRange(F),G.extend(R.node,R.offset)):(F.setEnd(R.node,R.offset),G.addRange(F))}}}}for(Z=[],G=x;G=G.parentNode;)G.nodeType===1&&Z.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<Z.length;x++){var Y=Z[x];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Oc=!!jf,Ff=jf=null}finally{$e=h,ie.p=l,Q.T=i}}t.current=r,Lt=2}}function dv(){if(Lt===2){Lt=0;var t=js,r=zi,i=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||i){i=Q.T,Q.T=null;var l=ie.p;ie.p=2;var h=$e;$e|=4;try{Uy(t,r.alternate,r)}finally{$e=h,ie.p=l,Q.T=i}}Lt=3}}function fv(){if(Lt===4||Lt===3){Lt=0,du();var t=js,r=zi,i=rs,l=Zy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Lt=5:(Lt=0,zi=js=null,pv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ms=null),Vr(i),r=r.stateNode,Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(Fn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Q.T,h=ie.p,ie.p=2,Q.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var x=l[v];f(x.value,{componentStack:x.stack})}}finally{Q.T=r,ie.p=h}}(rs&3)!==0&&Ec(),Tr(t),h=t.pendingLanes,(i&261930)!==0&&(h&42)!==0?t===Tf?ml++:(ml=0,Tf=t):ml=0,gl(0)}}function pv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Xo(r)))}function Ec(){return hv(),dv(),fv(),mv()}function mv(){if(Lt!==5)return!1;var t=js,r=Ef;Ef=0;var i=Vr(rs),l=Q.T,h=ie.p;try{ie.p=32>i?32:i,Q.T=null,i=xf,xf=null;var f=js,v=rs;if(Lt=0,zi=js=null,rs=0,($e&6)!==0)throw Error(a(331));var x=$e;if($e|=4,Xy(f.current),Ky(f,f.current,v,i),$e=x,gl(0,!1),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(Fn,f)}catch{}return!0}finally{ie.p=h,Q.T=l,pv(t,r)}}function gv(t,r,i){r=_n(i,r),r=tf(t.stateNode,r,2),t=As(t,r,2),t!==null&&(ya(t,2),Tr(t))}function Qe(t,r,i){if(t.tag===3)gv(t,t,i);else for(;r!==null;){if(r.tag===3){gv(r,t,i);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ms===null||!Ms.has(l))){t=_n(i,t),i=yy(2),l=As(r,i,2),l!==null&&(vy(i,l,r,t),ya(l,2),Tr(l));break}}r=r.return}}function Nf(t,r,i){var l=t.pingCache;if(l===null){l=t.pingCache=new $E;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(i)||(bf=!0,h.add(i),t=WE.bind(null,t,r,i),r.then(t,t))}function WE(t,r,i){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,tt===t&&(Le&i)===i&&(ft===4||ft===3&&(Le&62914560)===Le&&300>en()-gc?($e&2)===0&&Hi(t,0):wf|=i,Ui===Le&&(Ui=0)),Tr(t)}function yv(t,r){r===0&&(r=vu()),t=Ra(t,r),t!==null&&(ya(t,r),Tr(t))}function QE(t){var r=t.memoizedState,i=0;r!==null&&(i=r.retryLane),yv(t,i)}function XE(t,r){var i=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(i=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(r),yv(t,i)}function YE(t,r){return Rt(t,r)}var xc=null,qi=null,_f=!1,Tc=!1,If=!1,Vs=0;function Tr(t){t!==qi&&t.next===null&&(qi===null?xc=qi=t:qi=qi.next=t),Tc=!0,_f||(_f=!0,ZE())}function gl(t,r){if(!If&&Tc){If=!0;do for(var i=!1,l=xc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,x=l.pingedLanes;f=(1<<31-pt(42|t)+1)-1,f&=h&~(v&~x),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,kv(l,f))}else f=Le,f=or(l,l===tt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Vn(l,f)||(i=!0,kv(l,f));l=l.next}while(i);If=!1}}function JE(){vv()}function vv(){Tc=_f=!1;var t=0;Vs!==0&&ux()&&(t=Vs);for(var r=en(),i=null,l=xc;l!==null;){var h=l.next,f=bv(l,r);f===0?(l.next=null,i===null?xc=h:i.next=h,h===null&&(qi=i)):(i=l,(t!==0||(f&3)!==0)&&(Tc=!0)),l=h}Lt!==0&&Lt!==5||gl(t),Vs!==0&&(Vs=0)}function bv(t,r){for(var i=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-pt(f),x=1<<v,I=h[v];I===-1?((x&i)===0||(x&l)!==0)&&(h[v]=rd(x,r)):I<=r&&(t.expiredLanes|=x),f&=~x}if(r=tt,i=Le,i=or(t,t===r?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,i===0||t===r&&(We===2||We===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&fs(l),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||Vn(t,i)){if(r=i&-i,r===t.callbackPriority)return r;switch(l!==null&&fs(l),Vr(i)){case 2:case 8:i=Co;break;case 32:i=ps;break;case 268435456:i=fu;break;default:i=ps}return l=wv.bind(null,t),i=Rt(i,l),t.callbackPriority=r,t.callbackNode=i,r}return l!==null&&l!==null&&fs(l),t.callbackPriority=2,t.callbackNode=null,2}function wv(t,r){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(Ec()&&t.callbackNode!==i)return null;var l=Le;return l=or(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(tv(t,l,r),bv(t,en()),t.callbackNode!=null&&t.callbackNode===i?wv.bind(null,t):null)}function kv(t,r){if(Ec())return null;tv(t,r,!0)}function ZE(){hx(function(){($e&6)!==0?Rt(So,JE):vv()})}function Af(){if(Vs===0){var t=Ii;t===0&&(t=ar,ar<<=1,(ar&261888)===0&&(ar=256)),Vs=t}return Vs}function Ev(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:pi(""+t)}function xv(t,r){var i=r.ownerDocument.createElement("input");return i.name=r.name,i.value=r.value,t.id&&i.setAttribute("form",t.id),r.parentNode.insertBefore(i,r),t=new FormData(t),i.parentNode.removeChild(i),t}function ex(t,r,i,l,h){if(r==="submit"&&i&&i.stateNode===h){var f=Ev((h[Dt]||null).action),v=l.submitter;v&&(r=(r=v[Dt]||null)?Ev(r.formAction):v.getAttribute("formAction"),r!==null&&(f=r,v=null));var x=new vr("action","action",null,l,h);t.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Vs!==0){var I=v?xv(h,v):new FormData(h);Qd(i,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(x.preventDefault(),I=v?xv(h,v):new FormData(h),Qd(i,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var Rf=0;Rf<dd.length;Rf++){var Lf=dd[Rf],tx=Lf.toLowerCase(),nx=Lf[0].toUpperCase()+Lf.slice(1);Kn(tx,"on"+nx)}Kn(eg,"onAnimationEnd"),Kn(tg,"onAnimationIteration"),Kn(ng,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(vE,"onTransitionRun"),Kn(bE,"onTransitionStart"),Kn(wE,"onTransitionCancel"),Kn(rg,"onTransitionEnd"),pr("onMouseEnter",["mouseout","mouseover"]),pr("onMouseLeave",["mouseout","mouseover"]),pr("onPointerEnter",["pointerout","pointerover"]),pr("onPointerLeave",["pointerout","pointerover"]),fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fr("onBeforeInput",["compositionend","keypress","textInput","paste"]),fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function Tv(t,r){r=(r&4)!==0;for(var i=0;i<t.length;i++){var l=t[i],h=l.event;l=l.listeners;e:{var f=void 0;if(r)for(var v=l.length-1;0<=v;v--){var x=l[v],I=x.instance,V=x.currentTarget;if(x=x.listener,I!==f&&h.isPropagationStopped())break e;f=x,h.currentTarget=V;try{f(h)}catch(X){Vu(X)}h.currentTarget=null,f=I}else for(v=0;v<l.length;v++){if(x=l[v],I=x.instance,V=x.currentTarget,x=x.listener,I!==f&&h.isPropagationStopped())break e;f=x,h.currentTarget=V;try{f(h)}catch(X){Vu(X)}h.currentTarget=null,f=I}}}}function Re(t,r){var i=r[ui];i===void 0&&(i=r[ui]=new Set);var l=t+"__bubble";i.has(l)||(Sv(r,t,2,!1),i.add(l))}function Pf(t,r,i){var l=0;r&&(l|=4),Sv(i,t,l,r)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function Of(t){if(!t[Sc]){t[Sc]=!0,Io.forEach(function(i){i!=="selectionchange"&&(rx.has(i)||Pf(i,!1,t),Pf(i,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Sc]||(r[Sc]=!0,Pf("selectionchange",!1,r))}}function Sv(t,r,i,l){switch(eb(r)){case 2:var h=Rx;break;case 8:h=Lx;break;default:h=Qf}i=h.bind(null,r,i,t),h=void 0,!xa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,i,{capture:!0,passive:h}):t.addEventListener(r,i,!0):h!==void 0?t.addEventListener(r,i,{passive:h}):t.addEventListener(r,i,!1)}function Df(t,r,i,l,h){var f=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var x=l.stateNode.containerInfo;if(x===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;x!==null;){if(v=hr(x),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=f=v;continue e}x=x.parentNode}}l=l.return}ws(function(){var V=f,X=Tn(i),Z=[];e:{var z=sg.get(t);if(z!==void 0){var G=vr,he=t;switch(t){case"keypress":if(Sa(i)===0)break e;case"keydown":case"keyup":G=Mu;break;case"focusin":he="focus",G=Na;break;case"focusout":he="blur",G=Na;break;case"beforeblur":case"afterblur":G=Na;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=g;break;case eg:case tg:case ng:G=Iu;break;case rg:G=T;break;case"scroll":case"scrollend":G=zo;break;case"wheel":G=q;break;case"copy":case"cut":case"paste":G=Au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Hr;break;case"toggle":case"beforetoggle":G=Ne}var ye=(r&4)!==0,et=!ye&&(t==="scroll"||t==="scrollend"),D=ye?z!==null?z+"Capture":null:z;ye=[];for(var R=V,F;R!==null;){var Y=R;if(F=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||F===null||D===null||(Y=$n(R,D),Y!=null&&ye.push(vl(R,Y,F))),et)break;R=R.return}0<ye.length&&(z=new G(z,he,null,i,X),Z.push({event:z,listeners:ye}))}}if((r&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",z&&i!==Fo&&(he=i.relatedTarget||i.fromElement)&&(hr(he)||he[ur]))break e;if((G||z)&&(z=X.window===X?X:(z=X.ownerDocument)?z.defaultView||z.parentWindow:window,G?(he=i.relatedTarget||i.toElement,G=V,he=he?hr(he):null,he!==null&&(et=u(he),ye=he.tag,he!==et||ye!==5&&ye!==27&&ye!==6)&&(he=null)):(G=null,he=V),G!==he)){if(ye=Ho,Y="onMouseLeave",D="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Hr,Y="onPointerLeave",D="onPointerEnter",R="pointer"),et=G==null?z:dn(G),F=he==null?z:dn(he),z=new ye(Y,R+"leave",G,i,X),z.target=et,z.relatedTarget=F,Y=null,hr(X)===V&&(ye=new ye(D,R+"enter",he,i,X),ye.target=F,ye.relatedTarget=et,Y=ye),et=Y,G&&he)t:{for(ye=sx,D=G,R=he,F=0,Y=D;Y;Y=ye(Y))F++;Y=0;for(var pe=R;pe;pe=ye(pe))Y++;for(;0<F-Y;)D=ye(D),F--;for(;0<Y-F;)R=ye(R),Y--;for(;F--;){if(D===R||R!==null&&D===R.alternate){ye=D;break t}D=ye(D),R=ye(R)}ye=null}else ye=null;G!==null&&Cv(Z,z,G,ye,!1),he!==null&&et!==null&&Cv(Z,et,he,ye,!0)}}e:{if(z=V?dn(V):window,G=z.nodeName&&z.nodeName.toLowerCase(),G==="select"||G==="input"&&z.type==="file")var ze=$m;else if(zm(z))if(qm)ze=mE;else{ze=fE;var de=dE}else G=z.nodeName,!G||G.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?V&&fi(V.elementType)&&(ze=$m):ze=pE;if(ze&&(ze=ze(t,V))){Hm(Z,ze,i,X);break e}de&&de(t,z,V),t==="focusout"&&V&&z.type==="number"&&V.memoizedProps.value!=null&&Do(z,"number",z.value)}switch(de=V?dn(V):window,t){case"focusin":(zm(de)||de.contentEditable==="true")&&(ki=de,ud=V,Ko=null);break;case"focusout":Ko=ud=ki=null;break;case"mousedown":cd=!0;break;case"contextmenu":case"mouseup":case"dragend":cd=!1,Jm(Z,i,X);break;case"selectionchange":if(yE)break;case"keydown":case"keyup":Jm(Z,i,X)}var _e;if(Ke)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else wi?_a(t,i)&&(Pe="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Pe="onCompositionStart");Pe&&($r&&i.locale!=="ko"&&(wi||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&wi&&(_e=Uo()):(yr=X,Vo="value"in yr?yr.value:yr.textContent,wi=!0)),de=Cc(V,Pe),0<de.length&&(Pe=new wr(Pe,t,null,i,X),Z.push({event:Pe,listeners:de}),_e?Pe.data=_e:(_e=bi(i),_e!==null&&(Pe.data=_e)))),(_e=Cn?lE(t,i):uE(t,i))&&(Pe=Cc(V,"onBeforeInput"),0<Pe.length&&(de=new wr("onBeforeInput","beforeinput",null,i,X),Z.push({event:de,listeners:Pe}),de.data=_e)),ex(Z,t,V,i,X)}Tv(Z,r)})}function vl(t,r,i){return{instance:t,listener:r,currentTarget:i}}function Cc(t,r){for(var i=r+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=$n(t,i),h!=null&&l.unshift(vl(t,h,f)),h=$n(t,r),h!=null&&l.push(vl(t,h,f))),t.tag===3)return l;t=t.return}return[]}function sx(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Cv(t,r,i,l,h){for(var f=r._reactName,v=[];i!==null&&i!==l;){var x=i,I=x.alternate,V=x.stateNode;if(x=x.tag,I!==null&&I===l)break;x!==5&&x!==26&&x!==27||V===null||(I=V,h?(V=$n(i,f),V!=null&&v.unshift(vl(i,V,I))):h||(V=$n(i,f),V!=null&&v.push(vl(i,V,I)))),i=i.return}v.length!==0&&t.push({event:r,listeners:v})}var ax=/\r\n?/g,ix=/\u0000|\uFFFD/g;function Nv(t){return(typeof t=="string"?t:""+t).replace(ax,`
`).replace(ix,"")}function _v(t,r){return r=Nv(r),Nv(t)===r}function Ze(t,r,i,l,h,f){switch(i){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||rn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&rn(t,""+l);break;case"className":fn(t,"class",l);break;case"tabIndex":fn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(t,i,l);break;case"style":jo(t,l,f);break;case"data":if(r!=="object"){fn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||i!=="href")){t.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(i);break}l=pi(""+l),t.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(r!=="input"&&Ze(t,r,"name",h.name,h,null),Ze(t,r,"formEncType",h.formEncType,h,null),Ze(t,r,"formMethod",h.formMethod,h,null),Ze(t,r,"formTarget",h.formTarget,h,null)):(Ze(t,r,"encType",h.encType,h,null),Ze(t,r,"method",h.method,h,null),Ze(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(i);break}l=pi(""+l),t.setAttribute(i,l);break;case"onClick":l!=null&&(t.onclick=Hn);break;case"onScroll":l!=null&&Re("scroll",t);break;case"onScrollEnd":l!=null&&Re("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(i=l.__html,i!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=i}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}i=pi(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,""+l):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":l===!0?t.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,l):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(i,l):t.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(i):t.setAttribute(i,l);break;case"popover":Re("beforetoggle",t),Re("toggle",t),hi(t,"popover",l);break;case"xlinkActuate":xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":hi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Cu.get(i)||i,hi(t,i,l))}}function Mf(t,r,i,l,h,f){switch(i){case"style":jo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(i=l.__html,i!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=i}}break;case"children":typeof l=="string"?rn(t,l):(typeof l=="number"||typeof l=="bigint")&&rn(t,""+l);break;case"onScroll":l!=null&&Re("scroll",t);break;case"onScrollEnd":l!=null&&Re("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ao.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(h=i.endsWith("Capture"),r=i.slice(2,h?i.length-7:void 0),f=t[Dt]||null,f=f!=null?f[i]:null,typeof f=="function"&&t.removeEventListener(r,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(r,l,h);break e}i in t?t[i]=l:l===!0?t.setAttribute(i,""):hi(t,i,l)}}}function qt(t,r,i){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",t),Re("load",t);var l=!1,h=!1,f;for(f in i)if(i.hasOwnProperty(f)){var v=i[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Ze(t,r,f,v,i,null)}}h&&Ze(t,r,"srcSet",i.srcSet,i,null),l&&Ze(t,r,"src",i.src,i,null);return;case"input":Re("invalid",t);var x=f=v=h=null,I=null,V=null;for(l in i)if(i.hasOwnProperty(l)){var X=i[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":I=X;break;case"defaultChecked":V=X;break;case"value":f=X;break;case"defaultValue":x=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,r));break;default:Ze(t,r,l,X,i,null)}}xu(t,f,x,I,V,v,h,!1);return;case"select":Re("invalid",t),l=v=f=null;for(h in i)if(i.hasOwnProperty(h)&&(x=i[h],x!=null))switch(h){case"value":f=x;break;case"defaultValue":v=x;break;case"multiple":l=x;default:Ze(t,r,h,x,i,null)}r=f,i=v,t.multiple=!!l,r!=null?gs(t,!!l,r,!1):i!=null&&gs(t,!!l,i,!0);return;case"textarea":Re("invalid",t),f=h=l=null;for(v in i)if(i.hasOwnProperty(v)&&(x=i[v],x!=null))switch(v){case"value":l=x;break;case"defaultValue":h=x;break;case"children":f=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(a(91));break;default:Ze(t,r,v,x,i,null)}ys(t,l,h,f);return;case"option":for(I in i)if(i.hasOwnProperty(I)&&(l=i[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(t,r,I,l,i,null)}return;case"dialog":Re("beforetoggle",t),Re("toggle",t),Re("cancel",t),Re("close",t);break;case"iframe":case"object":Re("load",t);break;case"video":case"audio":for(l=0;l<yl.length;l++)Re(yl[l],t);break;case"image":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"embed":case"source":case"link":Re("error",t),Re("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in i)if(i.hasOwnProperty(V)&&(l=i[V],l!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Ze(t,r,V,l,i,null)}return;default:if(fi(r)){for(X in i)i.hasOwnProperty(X)&&(l=i[X],l!==void 0&&Mf(t,r,X,l,i,void 0));return}}for(x in i)i.hasOwnProperty(x)&&(l=i[x],l!=null&&Ze(t,r,x,l,i,null))}function ox(t,r,i,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,x=null,I=null,V=null,X=null;for(G in i){var Z=i[G];if(i.hasOwnProperty(G)&&Z!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":I=Z;default:l.hasOwnProperty(G)||Ze(t,r,G,null,l,Z)}}for(var z in l){var G=l[z];if(Z=i[z],l.hasOwnProperty(z)&&(G!=null||Z!=null))switch(z){case"type":f=G;break;case"name":h=G;break;case"checked":V=G;break;case"defaultChecked":X=G;break;case"value":v=G;break;case"defaultValue":x=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,r));break;default:G!==Z&&Ze(t,r,z,G,l,Z)}}di(t,v,x,I,V,X,f,h);return;case"select":G=v=x=z=null;for(f in i)if(I=i[f],i.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":G=I;default:l.hasOwnProperty(f)||Ze(t,r,f,null,l,I)}for(h in l)if(f=l[h],I=i[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":z=f;break;case"defaultValue":x=f;break;case"multiple":v=f;default:f!==I&&Ze(t,r,h,f,l,I)}r=x,i=v,l=G,z!=null?gs(t,!!i,z,!1):!!l!=!!i&&(r!=null?gs(t,!!i,r,!0):gs(t,!!i,i?[]:"",!1));return;case"textarea":G=z=null;for(x in i)if(h=i[x],i.hasOwnProperty(x)&&h!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Ze(t,r,x,null,l,h)}for(v in l)if(h=l[v],f=i[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":z=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Ze(t,r,v,h,l,f)}Tu(t,z,G);return;case"option":for(var he in i)if(z=i[he],i.hasOwnProperty(he)&&z!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:Ze(t,r,he,null,l,z)}for(I in l)if(z=l[I],G=i[I],l.hasOwnProperty(I)&&z!==G&&(z!=null||G!=null))switch(I){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Ze(t,r,I,z,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in i)z=i[ye],i.hasOwnProperty(ye)&&z!=null&&!l.hasOwnProperty(ye)&&Ze(t,r,ye,null,l,z);for(V in l)if(z=l[V],G=i[V],l.hasOwnProperty(V)&&z!==G&&(z!=null||G!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,r));break;default:Ze(t,r,V,z,l,G)}return;default:if(fi(r)){for(var et in i)z=i[et],i.hasOwnProperty(et)&&z!==void 0&&!l.hasOwnProperty(et)&&Mf(t,r,et,void 0,l,z);for(X in l)z=l[X],G=i[X],!l.hasOwnProperty(X)||z===G||z===void 0&&G===void 0||Mf(t,r,X,z,l,G);return}}for(var D in i)z=i[D],i.hasOwnProperty(D)&&z!=null&&!l.hasOwnProperty(D)&&Ze(t,r,D,null,l,z);for(Z in l)z=l[Z],G=i[Z],!l.hasOwnProperty(Z)||z===G||z==null&&G==null||Ze(t,r,Z,z,l,G)}function Iv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lx(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,i=performance.getEntriesByType("resource"),l=0;l<i.length;l++){var h=i[l],f=h.transferSize,v=h.initiatorType,x=h.duration;if(f&&x&&Iv(v)){for(v=0,x=h.responseEnd,l+=1;l<i.length;l++){var I=i[l],V=I.startTime;if(V>x)break;var X=I.transferSize,Z=I.initiatorType;X&&Iv(Z)&&(I=I.responseEnd,v+=X*(I<x?1:(x-V)/(I-V)))}if(--l,r+=8*(f+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var jf=null,Ff=null;function Nc(t){return t.nodeType===9?t:t.ownerDocument}function Av(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Vf(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Uf=null;function ux(){var t=window.event;return t&&t.type==="popstate"?t===Uf?!1:(Uf=t,!0):(Uf=null,!1)}var Lv=typeof setTimeout=="function"?setTimeout:void 0,cx=typeof clearTimeout=="function"?clearTimeout:void 0,Pv=typeof Promise=="function"?Promise:void 0,hx=typeof queueMicrotask=="function"?queueMicrotask:typeof Pv<"u"?function(t){return Pv.resolve(null).then(t).catch(dx)}:Lv;function dx(t){setTimeout(function(){throw t})}function Us(t){return t==="head"}function Ov(t,r){var i=r,l=0;do{var h=i.nextSibling;if(t.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"||i==="/&"){if(l===0){t.removeChild(h),Wi(r);return}l--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")l++;else if(i==="html")bl(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,bl(i);for(var f=i.firstChild;f;){var v=f.nextSibling,x=f.nodeName;f[cr]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&f.rel.toLowerCase()==="stylesheet"||i.removeChild(f),f=v}}else i==="body"&&bl(t.ownerDocument.body);i=h}while(i);Wi(r)}function Dv(t,r){var i=t;t=0;do{var l=i.nextSibling;if(i.nodeType===1?r?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(r?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),l&&l.nodeType===8)if(i=l.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=l}while(i)}function zf(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var i=r;switch(r=r.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":zf(i),ci(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function fx(t,r,i,l){for(;t.nodeType===1;){var h=i;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[cr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence")||f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function px(t,r,i){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Ln(t.nextSibling),t===null))return null;return t}function Mv(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Ln(t.nextSibling),t===null))return null;return t}function Hf(t){return t.data==="$?"||t.data==="$~"}function $f(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function mx(t,r){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||i.readyState!=="loading")r();else{var l=function(){r(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ln(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var qf=null;function jv(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(r===0)return Ln(t.nextSibling);r--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||r++}t=t.nextSibling}return null}function Fv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(r===0)return t;r--}else i!=="/$"&&i!=="/&"||r++}t=t.previousSibling}return null}function Vv(t,r,i){switch(r=Nc(i),t){case"html":if(t=r.documentElement,!t)throw Error(a(452));return t;case"head":if(t=r.head,!t)throw Error(a(453));return t;case"body":if(t=r.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function bl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ci(t)}var Pn=new Map,Uv=new Set;function _c(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ss=ie.d;ie.d={f:gx,r:yx,D:vx,C:bx,L:wx,m:kx,X:xx,S:Ex,M:Tx};function gx(){var t=ss.f(),r=bc();return t||r}function yx(t){var r=xn(t);r!==null&&r.tag===5&&r.type==="form"?ry(r):ss.r(t)}var Gi=typeof document>"u"?null:document;function zv(t,r,i){var l=Gi;if(l&&typeof r=="string"&&r){var h=pn(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof i=="string"&&(h+='[crossorigin="'+i+'"]'),Uv.has(h)||(Uv.add(h),t={rel:t,crossOrigin:i,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),qt(r,"link",t),Et(r),l.head.appendChild(r)))}}function vx(t){ss.D(t),zv("dns-prefetch",t,null)}function bx(t,r){ss.C(t,r),zv("preconnect",t,r)}function wx(t,r,i){ss.L(t,r,i);var l=Gi;if(l&&t&&r){var h='link[rel="preload"][as="'+pn(r)+'"]';r==="image"&&i&&i.imageSrcSet?(h+='[imagesrcset="'+pn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(h+='[imagesizes="'+pn(i.imageSizes)+'"]')):h+='[href="'+pn(t)+'"]';var f=h;switch(r){case"style":f=Bi(t);break;case"script":f=Ki(t)}Pn.has(f)||(t=E({rel:"preload",href:r==="image"&&i&&i.imageSrcSet?void 0:t,as:r},i),Pn.set(f,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(wl(f))||r==="script"&&l.querySelector(kl(f))||(r=l.createElement("link"),qt(r,"link",t),Et(r),l.head.appendChild(r)))}}function kx(t,r){ss.m(t,r);var i=Gi;if(i&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+pn(l)+'"][href="'+pn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ki(t)}if(!Pn.has(f)&&(t=E({rel:"modulepreload",href:t},r),Pn.set(f,t),i.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(kl(f)))return}l=i.createElement("link"),qt(l,"link",t),Et(l),i.head.appendChild(l)}}}function Ex(t,r,i){ss.S(t,r,i);var l=Gi;if(l&&t){var h=dr(l).hoistableStyles,f=Bi(t);r=r||"default";var v=h.get(f);if(!v){var x={loading:0,preload:null};if(v=l.querySelector(wl(f)))x.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},i),(i=Pn.get(f))&&Gf(t,i);var I=v=l.createElement("link");Et(I),qt(I,"link",t),I._p=new Promise(function(V,X){I.onload=V,I.onerror=X}),I.addEventListener("load",function(){x.loading|=1}),I.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Ic(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:x},h.set(f,v)}}}function xx(t,r){ss.X(t,r);var i=Gi;if(i&&t){var l=dr(i).hoistableScripts,h=Ki(t),f=l.get(h);f||(f=i.querySelector(kl(h)),f||(t=E({src:t,async:!0},r),(r=Pn.get(h))&&Bf(t,r),f=i.createElement("script"),Et(f),qt(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Tx(t,r){ss.M(t,r);var i=Gi;if(i&&t){var l=dr(i).hoistableScripts,h=Ki(t),f=l.get(h);f||(f=i.querySelector(kl(h)),f||(t=E({src:t,async:!0,type:"module"},r),(r=Pn.get(h))&&Bf(t,r),f=i.createElement("script"),Et(f),qt(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Hv(t,r,i,l){var h=(h=Ce.current)?_c(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(r=Bi(i.href),i=dr(h).hoistableStyles,l=i.get(r),l||(l={type:"style",instance:null,count:0,state:null},i.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=Bi(i.href);var f=dr(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(wl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Pn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Pn.set(t,i),f||Sx(h,t,i,v.state))),r&&l===null)throw Error(a(528,""));return v}if(r&&l!==null)throw Error(a(529,""));return null;case"script":return r=i.async,i=i.src,typeof i=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ki(i),i=dr(h).hoistableScripts,l=i.get(r),l||(l={type:"script",instance:null,count:0,state:null},i.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Bi(t){return'href="'+pn(t)+'"'}function wl(t){return'link[rel="stylesheet"]['+t+"]"}function $v(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function Sx(t,r,i,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),qt(r,"link",i),Et(r),t.head.appendChild(r))}function Ki(t){return'[src="'+pn(t)+'"]'}function kl(t){return"script[async]"+t}function qv(t,r,i){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+pn(i.href)+'"]');if(l)return r.instance=l,Et(l),l;var h=E({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Et(l),qt(l,"style",h),Ic(l,i.precedence,t),r.instance=l;case"stylesheet":h=Bi(i.href);var f=t.querySelector(wl(h));if(f)return r.state.loading|=4,r.instance=f,Et(f),f;l=$v(i),(h=Pn.get(h))&&Gf(l,h),f=(t.ownerDocument||t).createElement("link"),Et(f);var v=f;return v._p=new Promise(function(x,I){v.onload=x,v.onerror=I}),qt(f,"link",l),r.state.loading|=4,Ic(f,i.precedence,t),r.instance=f;case"script":return f=Ki(i.src),(h=t.querySelector(kl(f)))?(r.instance=h,Et(h),h):(l=i,(h=Pn.get(f))&&(l=E({},i),Bf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Et(h),qt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Ic(l,i.precedence,t));return r.instance}function Ic(t,r,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var x=l[v];if(x.dataset.precedence===r)f=x;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(r=i.nodeType===9?i.head:i,r.insertBefore(t,r.firstChild))}function Gf(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Bf(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Ac=null;function Gv(t,r,i){if(Ac===null){var l=new Map,h=Ac=new Map;h.set(i,l)}else h=Ac,l=h.get(i),l||(l=new Map,h.set(i,l));if(l.has(t))return l;for(l.set(t,null),i=i.getElementsByTagName(t),h=0;h<i.length;h++){var f=i[h];if(!(f[cr]||f[kt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(r)||"";v=t+v;var x=l.get(v);x?x.push(f):l.set(v,[f])}}return l}function Bv(t,r,i){t=t.ownerDocument||t,t.head.insertBefore(i,r==="title"?t.querySelector("head > title"):null)}function Cx(t,r,i){if(i===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Kv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Nx(t,r,i,l){if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Bi(l.href),f=r.querySelector(wl(h));if(f){r=f._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Rc.bind(t),r.then(t,t)),i.state.loading|=4,i.instance=f,Et(f);return}f=r.ownerDocument||r,l=$v(l),(h=Pn.get(h))&&Gf(l,h),f=f.createElement("link"),Et(f);var v=f;v._p=new Promise(function(x,I){v.onload=x,v.onerror=I}),qt(f,"link",l),i.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=Rc.bind(t),r.addEventListener("load",i),r.addEventListener("error",i))}}var Kf=0;function _x(t,r){return t.stylesheets&&t.count===0&&Pc(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var l=setTimeout(function(){if(t.stylesheets&&Pc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+r);0<t.imgBytes&&Kf===0&&(Kf=62500*lx());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Pc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Kf?50:800)+r);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Rc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lc=null;function Pc(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lc=new Map,r.forEach(Ix,t),Lc=null,Rc.call(t))}function Ix(t,r){if(!(r.state.loading&4)){var i=Lc.get(t);if(i)var l=i.get(null);else{i=new Map,Lc.set(t,i);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(i.set(v.dataset.precedence,v),l=v)}l&&i.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),f=i.get(v)||l,f===l&&i.set(null,h),i.set(v,h),this.count++,l=Rc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var El={$$typeof:W,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function Ax(t,r,i,l,h,f,v,x,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lr(0),this.hiddenUpdates=lr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Wv(t,r,i,l,h,f,v,x,I,V,X,Z){return t=new Ax(t,r,i,v,I,V,X,Z,x),r=1,f===!0&&(r|=24),f=gn(3,null,null,r),t.current=f,f.stateNode=t,r=Sd(),r.refCount++,t.pooledCache=r,r.refCount++,f.memoizedState={element:l,isDehydrated:i,cache:r},Id(f),t}function Qv(t){return t?(t=Ti,t):Ti}function Xv(t,r,i,l,h,f){h=Qv(h),l.context===null?l.context=h:l.pendingContext=h,l=Is(r),l.payload={element:i},f=f===void 0?null:f,f!==null&&(l.callback=f),i=As(t,l,r),i!==null&&(un(i,t,r),el(i,t,r))}function Yv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<r?i:r}}function Wf(t,r){Yv(t,r),(t=t.alternate)&&Yv(t,r)}function Jv(t){if(t.tag===13||t.tag===31){var r=Ra(t,67108864);r!==null&&un(r,t,67108864),Wf(t,67108864)}}function Zv(t){if(t.tag===13||t.tag===31){var r=kn();r=ba(r);var i=Ra(t,r);i!==null&&un(i,t,r),Wf(t,r)}}var Oc=!0;function Rx(t,r,i,l){var h=Q.T;Q.T=null;var f=ie.p;try{ie.p=2,Qf(t,r,i,l)}finally{ie.p=f,Q.T=h}}function Lx(t,r,i,l){var h=Q.T;Q.T=null;var f=ie.p;try{ie.p=8,Qf(t,r,i,l)}finally{ie.p=f,Q.T=h}}function Qf(t,r,i,l){if(Oc){var h=Xf(l);if(h===null)Df(t,r,l,Dc,i),tb(t,l);else if(Ox(h,t,r,i,l))l.stopPropagation();else if(tb(t,l),r&4&&-1<Px.indexOf(t)){for(;h!==null;){var f=xn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=ir(f.pendingLanes);if(v!==0){var x=f;for(x.pendingLanes|=2,x.entangledLanes|=2;v;){var I=1<<31-pt(v);x.entanglements[1]|=I,v&=~I}Tr(f),($e&6)===0&&(yc=en()+500,gl(0))}}break;case 31:case 13:x=Ra(f,2),x!==null&&un(x,f,2),bc(),Wf(f,2)}if(f=Xf(l),f===null&&Df(t,r,l,Dc,i),f===h)break;h=f}h!==null&&l.stopPropagation()}else Df(t,r,l,null,i)}}function Xf(t){return t=Tn(t),Yf(t)}var Dc=null;function Yf(t){if(Dc=null,t=hr(t),t!==null){var r=u(t);if(r===null)t=null;else{var i=r.tag;if(i===13){if(t=d(r),t!==null)return t;t=null}else if(i===31){if(t=p(r),t!==null)return t;t=null}else if(i===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Dc=t,null}function eb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ma()){case So:return 2;case Co:return 8;case ps:case nd:return 32;case fu:return 268435456;default:return 32}default:return 32}}var Jf=!1,zs=null,Hs=null,$s=null,xl=new Map,Tl=new Map,qs=[],Px="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tb(t,r){switch(t){case"focusin":case"focusout":zs=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":xl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(r.pointerId)}}function Sl(t,r,i,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:i,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},r!==null&&(r=xn(r),r!==null&&Jv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function Ox(t,r,i,l,h){switch(r){case"focusin":return zs=Sl(zs,t,r,i,l,h),!0;case"dragenter":return Hs=Sl(Hs,t,r,i,l,h),!0;case"mouseover":return $s=Sl($s,t,r,i,l,h),!0;case"pointerover":var f=h.pointerId;return xl.set(f,Sl(xl.get(f)||null,t,r,i,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Tl.set(f,Sl(Tl.get(f)||null,t,r,i,l,h)),!0}return!1}function nb(t){var r=hr(t.target);if(r!==null){var i=u(r);if(i!==null){if(r=i.tag,r===13){if(r=d(i),r!==null){t.blockedOn=r,Un(t.priority,function(){Zv(i)});return}}else if(r===31){if(r=p(i),r!==null){t.blockedOn=r,Un(t.priority,function(){Zv(i)});return}}else if(r===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var i=Xf(t.nativeEvent);if(i===null){i=t.nativeEvent;var l=new i.constructor(i.type,i);Fo=l,i.target.dispatchEvent(l),Fo=null}else return r=xn(i),r!==null&&Jv(r),t.blockedOn=i,!1;r.shift()}return!0}function rb(t,r,i){Mc(t)&&i.delete(r)}function Dx(){Jf=!1,zs!==null&&Mc(zs)&&(zs=null),Hs!==null&&Mc(Hs)&&(Hs=null),$s!==null&&Mc($s)&&($s=null),xl.forEach(rb),Tl.forEach(rb)}function jc(t,r){t.blockedOn===r&&(t.blockedOn=null,Jf||(Jf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Dx)))}var Fc=null;function sb(t){Fc!==t&&(Fc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Fc===t&&(Fc=null);for(var r=0;r<t.length;r+=3){var i=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(Yf(l||i)===null)continue;break}var f=xn(i);f!==null&&(t.splice(r,3),r-=3,Qd(f,{pending:!0,data:h,method:i.method,action:l},l,h))}}))}function Wi(t){function r(I){return jc(I,t)}zs!==null&&jc(zs,t),Hs!==null&&jc(Hs,t),$s!==null&&jc($s,t),xl.forEach(r),Tl.forEach(r);for(var i=0;i<qs.length;i++){var l=qs[i];l.blockedOn===t&&(l.blockedOn=null)}for(;0<qs.length&&(i=qs[0],i.blockedOn===null);)nb(i),i.blockedOn===null&&qs.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var h=i[l],f=i[l+1],v=h[Dt]||null;if(typeof f=="function")v||sb(i);else if(v){var x=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[Dt]||null)x=v.formAction;else if(Yf(h)!==null)continue}else x=v.action;typeof x=="function"?i[l+1]=x:(i.splice(l,3),l-=3),sb(i)}}}function ab(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),l||setTimeout(i,20)}function i(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(i,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function Zf(t){this._internalRoot=t}Vc.prototype.render=Zf.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(a(409));var i=r.current,l=kn();Xv(i,l,t,r,null,null)},Vc.prototype.unmount=Zf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Xv(t.current,2,null,t,null,null),bc(),r[ur]=null}};function Vc(t){this._internalRoot=t}Vc.prototype.unstable_scheduleHydration=function(t){if(t){var r=bu();t={blockedOn:null,target:t,priority:r};for(var i=0;i<qs.length&&r!==0&&r<qs[i].priority;i++);qs.splice(i,0,t),i===0&&nb(t)}};var ib=e.version;if(ib!=="19.2.4")throw Error(a(527,ib,"19.2.4"));ie.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(r),t=t!==null?k(t):null,t=t===null?null:t.stateNode,t};var Mx={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{Fn=Uc.inject(Mx),Vt=Uc}catch{}}return Nl.createRoot=function(t,r){if(!o(t))throw Error(a(299));var i=!1,l="",h=fy,f=py,v=my;return r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=Wv(t,1,!1,null,null,i,l,null,h,f,v,ab),t[ur]=r.current,Of(t),new Zf(r)},Nl.hydrateRoot=function(t,r,i){if(!o(t))throw Error(a(299));var l=!1,h="",f=fy,v=py,x=my,I=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(x=i.onRecoverableError),i.formState!==void 0&&(I=i.formState)),r=Wv(t,1,!0,r,i??null,l,h,I,f,v,x,ab),r.context=Qv(null),i=r.current,l=kn(),l=ba(l),h=Is(l),h.callback=null,As(i,h,l),i=l,r.current.lanes=i,ya(r,i),Tr(r),t[ur]=r.current,Of(t),new Vc(r)},Nl.version="19.2.4",Nl}var wb;function Wx(){if(wb)return ep.exports;wb=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),ep.exports=Kx(),ep.exports}var Qx=Wx();/**
* react-router v7.13.0
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/var kb="popstate";function Xx(s={}){function e(o,u){let{pathname:d="/",search:p="",hash:m=""}=Ya(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),wp("",{pathname:d,search:p,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let d=o.document.querySelector("base"),p="";if(d&&d.getAttribute("href")){let m=o.location.href,y=m.indexOf("#");p=y===-1?m:m.slice(0,y)}return p+"#"+(typeof u=="string"?u:zl(u))}function a(o,u){tr(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Jx(e,n,a,s)}function ct(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function tr(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Yx(){return Math.random().toString(36).substring(2,10)}function Eb(s,e){return{usr:s.state,key:s.key,idx:e}}function wp(s,e,n=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Ya(e):e,state:n,key:e&&e.key||a||Yx()}}function zl({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function Ya(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let a=s.indexOf("?");a>=0&&(e.search=s.substring(a),s=s.substring(0,a)),s&&(e.pathname=s)}return e}function Jx(s,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,d=o.history,p="POP",m=null,y=k();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function k(){return(d.state||{idx:null}).idx}function E(){p="POP";let K=k(),ne=K==null?null:K-y;y=K,m&&m({action:p,location:B.location,delta:ne})}function A(K,ne){p="PUSH";let se=wp(B.location,K,ne);n&&n(se,K),y=k()+1;let W=Eb(se,y),ce=B.createHref(se);try{d.pushState(W,"",ce)}catch(we){if(we instanceof DOMException&&we.name==="DataCloneError")throw we;o.location.assign(ce)}u&&m&&m({action:p,location:B.location,delta:1})}function $(K,ne){p="REPLACE";let se=wp(B.location,K,ne);n&&n(se,K),y=k();let W=Eb(se,y),ce=B.createHref(se);d.replaceState(W,"",ce),u&&m&&m({action:p,location:B.location,delta:0})}function H(K){return Zx(K)}let B={get action(){return p},get location(){return s(o,d)},listen(K){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(kb,E),m=K,()=>{o.removeEventListener(kb,E),m=null}},createHref(K){return e(o,K)},createURL:H,encodeLocation(K){let ne=H(K);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:A,replace:$,go(K){return d.go(K)}};return B}function Zx(s,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let a=typeof s=="string"?s:zl(s);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function ow(s,e,n="/"){return e2(s,e,n,!1)}function e2(s,e,n,a){let o=typeof e=="string"?Ya(e):e,u=ls(o.pathname||"/",n);if(u==null)return null;let d=lw(s);t2(d);let p=null;for(let m=0;p==null&&m<d.length;++m){let y=d2(u);p=c2(d[m],y,a)}return p}function lw(s,e=[],n=[],a="",o=!1){let u=(d,p,m=o,y)=>{let k={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(k.relativePath.startsWith("/")){if(!k.relativePath.startsWith(a)&&m)return;ct(k.relativePath.startsWith(a),`Absolute route path "${k.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),k.relativePath=k.relativePath.slice(a.length)}let E=os([a,k.relativePath]),A=n.concat(k);d.children&&d.children.length>0&&(ct(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),lw(d.children,e,A,E,m)),!(d.path==null&&!d.index)&&e.push({path:E,score:l2(E,d.index),routesMeta:A})};return s.forEach((d,p)=>{var m;if(d.path===""||!((m=d.path)!=null&&m.includes("?")))u(d,p);else for(let y of uw(d.path))u(d,p,!0,y)}),e}function uw(s){let e=s.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let d=uw(a.join("/")),p=[];return p.push(...d.map(m=>m===""?u:[u,m].join("/"))),o&&p.push(...d),p.map(m=>s.startsWith("/")&&m===""?"/":m)}function t2(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:u2(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var n2=/^:[\w-]+$/,r2=3,s2=2,a2=1,i2=10,o2=-2,xb=s=>s==="*";function l2(s,e){let n=s.split("/"),a=n.length;return n.some(xb)&&(a+=o2),e&&(a+=s2),n.filter(o=>!xb(o)).reduce((o,u)=>o+(n2.test(u)?r2:u===""?a2:i2),a)}function u2(s,e){return s.length===e.length&&s.slice(0,-1).every((n,a)=>n===e[a])?s[s.length-1]-e[e.length-1]:0}function c2(s,e,n=!1){let{routesMeta:a}=s,o={},u="/",d=[];for(let p=0;p<a.length;++p){let m=a[p],y=p===a.length-1,k=u==="/"?e:e.slice(u.length)||"/",E=uh({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},k),A=m.route;if(!E&&y&&n&&!a[a.length-1].route.index&&(E=uh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},k)),!E)return null;Object.assign(o,E.params),d.push({params:o,pathname:os([u,E.pathname]),pathnameBase:g2(os([u,E.pathnameBase])),route:A}),E.pathnameBase!=="/"&&(u=os([u,E.pathnameBase]))}return d}function uh(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,a]=h2(s.path,s.caseSensitive,s.end),o=e.match(n);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:a.reduce((m,{paramName:y,isOptional:k},E)=>{if(y==="*"){let $=p[E]||"";d=u.slice(0,u.length-$.length).replace(/(.)\/+$/,"$1")}const A=p[E];return k&&!A?m[y]=void 0:m[y]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:d,pattern:s}}function h2(s,e=!1,n=!0){tr(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,p)=>(a.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(a.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function d2(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tr(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function ls(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=s.charAt(n);return a&&a!=="/"?null:s.slice(n)||"/"}var f2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function p2(s,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof s=="string"?Ya(s):s,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=Tb(n.substring(1),"/"):u=Tb(n,e)):u=e,{pathname:u,search:y2(a),hash:v2(o)}}function Tb(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function np(s,e,n,a){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function m2(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cw(s){let e=m2(s);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function hw(s,e,n,a=!1){let o;typeof s=="string"?o=Ya(s):(o={...s},ct(!o.pathname||!o.pathname.includes("?"),np("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),np("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),np("#","search","hash",o)));let u=s===""||o.pathname==="",d=u?"/":o.pathname,p;if(d==null)p=n;else{let E=e.length-1;if(!a&&d.startsWith("..")){let A=d.split("/");for(;A[0]==="..";)A.shift(),E-=1;o.pathname=A.join("/")}p=E>=0?e[E]:"/"}let m=p2(o,p),y=d&&d!=="/"&&d.endsWith("/"),k=(u||d===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(y||k)&&(m.pathname+="/"),m}var os=s=>s.join("/").replace(/\/\/+/g,"/"),g2=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),y2=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,v2=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,b2=class{constructor(s,e,n,a=!1){this.status=s,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function w2(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function k2(s){return s.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var dw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function fw(s,e){let n=s;if(typeof n!="string"||!f2.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let a=n,o=!1;if(dw)try{let u=new URL(window.location.href),d=n.startsWith("//")?new URL(u.protocol+n):new URL(n),p=ls(d.pathname,e);d.origin===u.origin&&p!=null?n=p+d.search+d.hash:o=!0}catch{tr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var pw=["POST","PUT","PATCH","DELETE"];new Set(pw);var E2=["GET",...pw];new Set(E2);var mo=U.createContext(null);mo.displayName="DataRouter";var Lh=U.createContext(null);Lh.displayName="DataRouterState";var x2=U.createContext(!1),mw=U.createContext({isTransitioning:!1});mw.displayName="ViewTransition";var T2=U.createContext(new Map);T2.displayName="Fetchers";var S2=U.createContext(null);S2.displayName="Await";var jn=U.createContext(null);jn.displayName="Navigation";var Jl=U.createContext(null);Jl.displayName="Location";var Mr=U.createContext({outlet:null,matches:[],isDataRoute:!1});Mr.displayName="Route";var Wp=U.createContext(null);Wp.displayName="RouteError";var gw="REACT_ROUTER_ERROR",C2="REDIRECT",N2="ROUTE_ERROR_RESPONSE";function _2(s){if(s.startsWith(`${gw}:${C2}:{`))try{let e=JSON.parse(s.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function I2(s){if(s.startsWith(`${gw}:${N2}:{`))try{let e=JSON.parse(s.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new b2(e.status,e.statusText,e.data)}catch{}}function A2(s,{relative:e}={}){ct(Zl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=U.useContext(jn),{hash:o,pathname:u,search:d}=tu(s,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:os([n,u])),a.createHref({pathname:p,search:d,hash:o})}function Zl(){return U.useContext(Jl)!=null}function rr(){return ct(Zl(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Jl).location}var yw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vw(s){U.useContext(jn).static||U.useLayoutEffect(s)}function eu(){let{isDataRoute:s}=U.useContext(Mr);return s?q2():R2()}function R2(){ct(Zl(),"useNavigate() may be used only in the context of a <Router> component.");let s=U.useContext(mo),{basename:e,navigator:n}=U.useContext(jn),{matches:a}=U.useContext(Mr),{pathname:o}=rr(),u=JSON.stringify(cw(a)),d=U.useRef(!1);return vw(()=>{d.current=!0}),U.useCallback((p,m={})=>{if(tr(d.current,yw),!d.current)return;if(typeof p=="number"){n.go(p);return}let y=hw(p,JSON.parse(u),o,m.relative==="path");s==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:os([e,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[e,n,u,o,s])}U.createContext(null);function L2(){let{matches:s}=U.useContext(Mr),e=s[s.length-1];return e?e.params:{}}function tu(s,{relative:e}={}){let{matches:n}=U.useContext(Mr),{pathname:a}=rr(),o=JSON.stringify(cw(n));return U.useMemo(()=>hw(s,JSON.parse(o),a,e==="path"),[s,o,a,e])}function P2(s,e){return bw(s,e)}function bw(s,e,n,a,o){var u;ct(Zl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=U.useContext(jn),{matches:p}=U.useContext(Mr),m=p[p.length-1],y=m?m.params:{},k=m?m.pathname:"/",E=m?m.pathnameBase:"/",A=m&&m.route;{let W=A&&A.path||"";kw(k,!A||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${k}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let $=rr(),H;if(e){let W=typeof e=="string"?Ya(e):e;ct(E==="/"||((u=W.pathname)==null?void 0:u.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${W.pathname}" was given in the \`location\` prop.`),H=W}else H=$;let B=H.pathname||"/",K=B;if(E!=="/"){let W=E.replace(/^\//,"").split("/");K="/"+B.replace(/^\//,"").split("/").slice(W.length).join("/")}let ne=ow(s,{pathname:K});tr(A||ne!=null,`No routes matched location "${H.pathname}${H.search}${H.hash}" `),tr(ne==null||ne[ne.length-1].route.element!==void 0||ne[ne.length-1].route.Component!==void 0||ne[ne.length-1].route.lazy!==void 0,`Matched leaf route at location "${H.pathname}${H.search}${H.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let se=F2(ne&&ne.map(W=>Object.assign({},W,{params:Object.assign({},y,W.params),pathname:os([E,d.encodeLocation?d.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?E:os([E,d.encodeLocation?d.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),p,n,a,o);return e&&se?U.createElement(Jl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...H},navigationType:"POP"}},se):se}function O2(){let s=$2(),e=w2(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:o},n):null,d)}var D2=U.createElement(O2,null),ww=class extends U.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const n=I2(s.digest);n&&(s=n)}let e=s!==void 0?U.createElement(Mr.Provider,{value:this.props.routeContext},U.createElement(Wp.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?U.createElement(M2,{error:s},e):e}};ww.contextType=x2;var rp=new WeakMap;function M2({children:s,error:e}){let{basename:n}=U.useContext(jn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let a=_2(e.digest);if(a){let o=rp.get(e);if(o)throw o;let u=fw(a.location,n);if(dw&&!rp.get(e))if(u.isExternal||a.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:a.replace}));throw rp.set(e,d),d}return U.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return s}function j2({routeContext:s,match:e,children:n}){let a=U.useContext(mo);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Mr.Provider,{value:s},n)}function F2(s,e=[],n=null,a=null,o=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let u=s,d=n==null?void 0:n.errors;if(d!=null){let k=u.findIndex(E=>E.route.id&&(d==null?void 0:d[E.route.id])!==void 0);ct(k>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,k+1))}let p=!1,m=-1;if(n)for(let k=0;k<u.length;k++){let E=u[k];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(m=k),E.route.id){let{loaderData:A,errors:$}=n,H=E.route.loader&&!A.hasOwnProperty(E.route.id)&&(!$||$[E.route.id]===void 0);if(E.route.lazy||H){p=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}let y=n&&a?(k,E)=>{var A,$;a(k,{location:n.location,params:(($=(A=n.matches)==null?void 0:A[0])==null?void 0:$.params)??{},unstable_pattern:k2(n.matches),errorInfo:E})}:void 0;return u.reduceRight((k,E,A)=>{let $,H=!1,B=null,K=null;n&&($=d&&E.route.id?d[E.route.id]:void 0,B=E.route.errorElement||D2,p&&(m<0&&A===0?(kw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),H=!0,K=null):m===A&&(H=!0,K=E.route.hydrateFallbackElement||null)));let ne=e.concat(u.slice(0,A+1)),se=()=>{let W;return $?W=B:H?W=K:E.route.Component?W=U.createElement(E.route.Component,null):E.route.element?W=E.route.element:W=k,U.createElement(j2,{match:E,routeContext:{outlet:k,matches:ne,isDataRoute:n!=null},children:W})};return n&&(E.route.ErrorBoundary||E.route.errorElement||A===0)?U.createElement(ww,{location:n.location,revalidation:n.revalidation,component:B,error:$,children:se(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:y}):se()},null)}function Qp(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function V2(s){let e=U.useContext(mo);return ct(e,Qp(s)),e}function U2(s){let e=U.useContext(Lh);return ct(e,Qp(s)),e}function z2(s){let e=U.useContext(Mr);return ct(e,Qp(s)),e}function Xp(s){let e=z2(s),n=e.matches[e.matches.length-1];return ct(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function H2(){return Xp("useRouteId")}function $2(){var s;let e=U.useContext(Wp),n=U2("useRouteError"),a=Xp("useRouteError");return e!==void 0?e:(s=n.errors)==null?void 0:s[a]}function q2(){let{router:s}=V2("useNavigate"),e=Xp("useNavigate"),n=U.useRef(!1);return vw(()=>{n.current=!0}),U.useCallback(async(a,o={})=>{tr(n.current,yw),n.current&&(typeof a=="number"?await s.navigate(a):await s.navigate(a,{fromRouteId:e,...o}))},[s,e])}var Sb={};function kw(s,e,n){!e&&!Sb[s]&&(Sb[s]=!0,tr(!1,n))}U.memo(G2);function G2({routes:s,future:e,state:n,onError:a}){return bw(s,void 0,n,a,e)}function Ks(s){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function B2({basename:s="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1,unstable_useTransitions:d}){ct(!Zl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=s.replace(/^\/*/,"/"),m=U.useMemo(()=>({basename:p,navigator:o,static:u,unstable_useTransitions:d,future:{}}),[p,o,u,d]);typeof n=="string"&&(n=Ya(n));let{pathname:y="/",search:k="",hash:E="",state:A=null,key:$="default"}=n,H=U.useMemo(()=>{let B=ls(y,p);return B==null?null:{location:{pathname:B,search:k,hash:E,state:A,key:$},navigationType:a}},[p,y,k,E,A,$,a]);return tr(H!=null,`<Router basename="${p}"> is not able to match the URL "${y}${k}${E}" because it does not start with the basename, so the <Router> won't render anything.`),H==null?null:U.createElement(jn.Provider,{value:m},U.createElement(Jl.Provider,{children:e,value:H}))}function K2({children:s,location:e}){return P2(kp(s),e)}function kp(s,e=[]){let n=[];return U.Children.forEach(s,(a,o)=>{if(!U.isValidElement(a))return;let u=[...e,o];if(a.type===U.Fragment){n.push.apply(n,kp(a.props.children,u));return}ct(a.type===Ks,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=kp(a.props.children,u)),n.push(d)}),n}var Xc="get",Yc="application/x-www-form-urlencoded";function Ph(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function W2(s){return Ph(s)&&s.tagName.toLowerCase()==="button"}function Q2(s){return Ph(s)&&s.tagName.toLowerCase()==="form"}function X2(s){return Ph(s)&&s.tagName.toLowerCase()==="input"}function Y2(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function J2(s,e){return s.button===0&&(!e||e==="_self")&&!Y2(s)}var zc=null;function Z2(){if(zc===null)try{new FormData(document.createElement("form"),0),zc=!1}catch{zc=!0}return zc}var eT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sp(s){return s!=null&&!eT.has(s)?(tr(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yc}"`),null):s}function tT(s,e){let n,a,o,u,d;if(Q2(s)){let p=s.getAttribute("action");a=p?ls(p,e):null,n=s.getAttribute("method")||Xc,o=sp(s.getAttribute("enctype"))||Yc,u=new FormData(s)}else if(W2(s)||X2(s)&&(s.type==="submit"||s.type==="image")){let p=s.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=s.getAttribute("formaction")||p.getAttribute("action");if(a=m?ls(m,e):null,n=s.getAttribute("formmethod")||p.getAttribute("method")||Xc,o=sp(s.getAttribute("formenctype"))||sp(p.getAttribute("enctype"))||Yc,u=new FormData(p,s),!Z2()){let{name:y,type:k,value:E}=s;if(k==="image"){let A=y?`${y}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else y&&u.append(y,E)}}else{if(Ph(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xc,a=null,o=Yc,d=s}return u&&o==="text/plain"&&(d=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Yp(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function nT(s,e,n,a){let o=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${a}`:o.pathname=`${o.pathname}.${a}`:o.pathname==="/"?o.pathname=`_root.${a}`:e&&ls(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${a}`,o}async function rT(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sT(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function aT(s,e,n){let a=await Promise.all(s.map(async o=>{let u=e.routes[o.route.id];if(u){let d=await rT(u,n);return d.links?d.links():[]}return[]}));return uT(a.flat(1).filter(sT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Cb(s,e,n,a,o,u){let d=(m,y)=>n[y]?m.route.id!==n[y].route.id:!0,p=(m,y)=>{var k;return n[y].pathname!==m.pathname||((k=n[y].route.path)==null?void 0:k.endsWith("*"))&&n[y].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,y)=>d(m,y)||p(m,y)):u==="data"?e.filter((m,y)=>{var k;let E=a.routes[m.route.id];if(!E||!E.hasLoader)return!1;if(d(m,y)||p(m,y))return!0;if(m.route.shouldRevalidate){let A=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((k=n[0])==null?void 0:k.params)||{},nextUrl:new URL(s,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function iT(s,e,{includeHydrateFallback:n}={}){return oT(s.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function oT(s){return[...new Set(s)]}function lT(s){let e={},n=Object.keys(s).sort();for(let a of n)e[a]=s[a];return e}function uT(s,e){let n=new Set;return new Set(e),s.reduce((a,o)=>{let u=JSON.stringify(lT(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}function Ew(){let s=U.useContext(mo);return Yp(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function cT(){let s=U.useContext(Lh);return Yp(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Jp=U.createContext(void 0);Jp.displayName="FrameworkContext";function xw(){let s=U.useContext(Jp);return Yp(s,"You must render this element inside a <HydratedRouter> element"),s}function hT(s,e){let n=U.useContext(Jp),[a,o]=U.useState(!1),[u,d]=U.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:y,onMouseLeave:k,onTouchStart:E}=e,A=U.useRef(null);U.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let B=ne=>{ne.forEach(se=>{d(se.isIntersecting)})},K=new IntersectionObserver(B,{threshold:.5});return A.current&&K.observe(A.current),()=>{K.disconnect()}}},[s]),U.useEffect(()=>{if(a){let B=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(B)}}},[a]);let $=()=>{o(!0)},H=()=>{o(!1),d(!1)};return n?s!=="intent"?[u,A,{}]:[u,A,{onFocus:_l(p,$),onBlur:_l(m,H),onMouseEnter:_l(y,$),onMouseLeave:_l(k,H),onTouchStart:_l(E,$)}]:[!1,A,{}]}function _l(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function dT({page:s,...e}){let{router:n}=Ew(),a=U.useMemo(()=>ow(n.routes,s,n.basename),[n.routes,s,n.basename]);return a?U.createElement(pT,{page:s,matches:a,...e}):null}function fT(s){let{manifest:e,routeModules:n}=xw(),[a,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return aT(s,e,n).then(d=>{u||o(d)}),()=>{u=!0}},[s,e,n]),a}function pT({page:s,matches:e,...n}){let a=rr(),{future:o,manifest:u,routeModules:d}=xw(),{basename:p}=Ew(),{loaderData:m,matches:y}=cT(),k=U.useMemo(()=>Cb(s,e,y,u,a,"data"),[s,e,y,u,a]),E=U.useMemo(()=>Cb(s,e,y,u,a,"assets"),[s,e,y,u,a]),A=U.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let B=new Set,K=!1;if(e.forEach(se=>{var W;let ce=u.routes[se.route.id];!ce||!ce.hasLoader||(!k.some(we=>we.route.id===se.route.id)&&se.route.id in m&&(W=d[se.route.id])!=null&&W.shouldRevalidate||ce.hasClientLoader?K=!0:B.add(se.route.id))}),B.size===0)return[];let ne=nT(s,p,o.unstable_trailingSlashAwareDataRequests,"data");return K&&B.size>0&&ne.searchParams.set("_routes",e.filter(se=>B.has(se.route.id)).map(se=>se.route.id).join(",")),[ne.pathname+ne.search]},[p,o.unstable_trailingSlashAwareDataRequests,m,a,u,k,e,s,d]),$=U.useMemo(()=>iT(E,u),[E,u]),H=fT(E);return U.createElement(U.Fragment,null,A.map(B=>U.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...n})),$.map(B=>U.createElement("link",{key:B,rel:"modulepreload",href:B,...n})),H.map(({key:B,link:K})=>U.createElement("link",{key:B,nonce:n.nonce,...K,crossOrigin:K.crossOrigin??n.crossOrigin})))}function mT(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var gT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gT&&(window.__reactRouterVersion="7.13.0")}catch{}function yT({basename:s,children:e,unstable_useTransitions:n,window:a}){let o=U.useRef();o.current==null&&(o.current=Xx({window:a,v5Compat:!0}));let u=o.current,[d,p]=U.useState({action:u.action,location:u.location}),m=U.useCallback(y=>{n===!1?p(y):U.startTransition(()=>p(y))},[n]);return U.useLayoutEffect(()=>u.listen(m),[u,m]),U.createElement(B2,{basename:s,children:e,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:n})}var Tw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sw=U.forwardRef(function({onClick:s,discover:e="render",prefetch:n="none",relative:a,reloadDocument:o,replace:u,state:d,target:p,to:m,preventScrollReset:y,viewTransition:k,unstable_defaultShouldRevalidate:E,...A},$){let{basename:H,unstable_useTransitions:B}=U.useContext(jn),K=typeof m=="string"&&Tw.test(m),ne=fw(m,H);m=ne.to;let se=A2(m,{relative:a}),[W,ce,we]=hT(n,A),re=kT(m,{replace:u,state:d,target:p,preventScrollReset:y,relative:a,viewTransition:k,unstable_defaultShouldRevalidate:E,unstable_useTransitions:B});function C(N){s&&s(N),N.defaultPrevented||re(N)}let S=U.createElement("a",{...A,...we,href:ne.absoluteURL||se,onClick:ne.isExternal||o?s:C,ref:mT($,ce),target:p,"data-discover":!K&&e==="render"?"true":void 0});return W&&!K?U.createElement(U.Fragment,null,S,U.createElement(dT,{page:se})):S});Sw.displayName="Link";var vT=U.forwardRef(function({"aria-current":s="page",caseSensitive:e=!1,className:n="",end:a=!1,style:o,to:u,viewTransition:d,children:p,...m},y){let k=tu(u,{relative:m.relative}),E=rr(),A=U.useContext(Lh),{navigator:$,basename:H}=U.useContext(jn),B=A!=null&&CT(k)&&d===!0,K=$.encodeLocation?$.encodeLocation(k).pathname:k.pathname,ne=E.pathname,se=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;e||(ne=ne.toLowerCase(),se=se?se.toLowerCase():null,K=K.toLowerCase()),se&&H&&(se=ls(se,H)||se);const W=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let ce=ne===K||!a&&ne.startsWith(K)&&ne.charAt(W)==="/",we=se!=null&&(se===K||!a&&se.startsWith(K)&&se.charAt(K.length)==="/"),re={isActive:ce,isPending:we,isTransitioning:B},C=ce?s:void 0,S;typeof n=="function"?S=n(re):S=[n,ce?"active":null,we?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let N=typeof o=="function"?o(re):o;return U.createElement(Sw,{...m,"aria-current":C,className:S,ref:y,style:N,to:u,viewTransition:d},typeof p=="function"?p(re):p)});vT.displayName="NavLink";var bT=U.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:d=Xc,action:p,onSubmit:m,relative:y,preventScrollReset:k,viewTransition:E,unstable_defaultShouldRevalidate:A,...$},H)=>{let{unstable_useTransitions:B}=U.useContext(jn),K=TT(),ne=ST(p,{relative:y}),se=d.toLowerCase()==="get"?"get":"post",W=typeof p=="string"&&Tw.test(p),ce=we=>{if(m&&m(we),we.defaultPrevented)return;we.preventDefault();let re=we.nativeEvent.submitter,C=(re==null?void 0:re.getAttribute("formmethod"))||d,S=()=>K(re||we.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:o,state:u,relative:y,preventScrollReset:k,viewTransition:E,unstable_defaultShouldRevalidate:A});B&&n!==!1?U.startTransition(()=>S()):S()};return U.createElement("form",{ref:H,method:se,action:ne,onSubmit:a?m:ce,...$,"data-discover":!W&&s==="render"?"true":void 0})});bT.displayName="Form";function wT(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cw(s){let e=U.useContext(mo);return ct(e,wT(s)),e}function kT(s,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:p,unstable_useTransitions:m}={}){let y=eu(),k=rr(),E=tu(s,{relative:u});return U.useCallback(A=>{if(J2(A,e)){A.preventDefault();let $=n!==void 0?n:zl(k)===zl(E),H=()=>y(s,{replace:$,state:a,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:p});m?U.startTransition(()=>H()):H()}},[k,y,E,n,a,e,s,o,u,d,p,m])}var ET=0,xT=()=>`__${String(++ET)}__`;function TT(){let{router:s}=Cw("useSubmit"),{basename:e}=U.useContext(jn),n=H2(),a=s.fetch,o=s.navigate;return U.useCallback(async(u,d={})=>{let{action:p,method:m,encType:y,formData:k,body:E}=tT(u,e);if(d.navigate===!1){let A=d.fetcherKey||xT();await a(A,n,d.action||p,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:k,body:E,formMethod:d.method||m,formEncType:d.encType||y,flushSync:d.flushSync})}else await o(d.action||p,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:k,body:E,formMethod:d.method||m,formEncType:d.encType||y,replace:d.replace,state:d.state,fromRouteId:n,flushSync:d.flushSync,viewTransition:d.viewTransition})},[a,o,e,n])}function ST(s,{relative:e}={}){let{basename:n}=U.useContext(jn),a=U.useContext(Mr);ct(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...tu(s||".",{relative:e})},d=rr();if(s==null){u.search=d.search;let p=new URLSearchParams(u.search),m=p.getAll("index");if(m.some(y=>y==="")){p.delete("index"),m.filter(k=>k).forEach(k=>p.append("index",k));let y=p.toString();u.search=y?`?${y}`:""}}return(!s||s===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:os([n,u.pathname])),zl(u)}function CT(s,{relative:e}={}){let n=U.useContext(mw);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Cw("useViewTransitionState"),o=tu(s,{relative:e});if(!n.isTransitioning)return!1;let u=ls(n.currentLocation.pathname,a)||n.currentLocation.pathname,d=ls(n.nextLocation.pathname,a)||n.nextLocation.pathname;return uh(o.pathname,d)!=null||uh(o.pathname,u)!=null}/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const NT=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_T=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,a)=>a?a.toUpperCase():n.toLowerCase()),Nb=s=>{const e=_T(s);return e.charAt(0).toUpperCase()+e.slice(1)},Nw=(...s)=>s.filter((e,n,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===n).join(" ").trim(),IT=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/var AT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const RT=U.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:o="",children:u,iconNode:d,...p},m)=>U.createElement("svg",{ref:m,...AT,width:e,height:e,stroke:s,strokeWidth:a?Number(n)*24/Number(e):n,className:Nw("lucide",o),...!u&&!IT(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,k])=>U.createElement(y,k)),...Array.isArray(u)?u:[u]]));/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Ie=(s,e)=>{const n=U.forwardRef(({className:a,...o},u)=>U.createElement(RT,{ref:u,iconNode:e,className:Nw(`lucide-${NT(Nb(s))}`,`lucide-${s}`,a),...o}));return n.displayName=Nb(s),n};/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const LT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],PT=Ie("arrow-left",LT);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const OT=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],DT=Ie("brain-circuit",OT);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const MT=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],jT=Ie("building-2",MT);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const FT=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],VT=Ie("calculator",FT);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const UT=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],zT=Ie("calendar",UT);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const HT=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],_w=Ie("camera",HT);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const $T=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],qT=Ie("chevron-left",$T);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const GT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],BT=Ie("chevron-right",GT);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const KT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],WT=Ie("circle-check",KT);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const QT=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],XT=Ie("clipboard-list",QT);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const YT=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],JT=Ie("coins",YT);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ZT=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],eS=Ie("facebook",ZT);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const tS=[["path",{d:"m18.226 5.226-2.52-2.52A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-.351",key:"1k2beg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]],nS=Ie("file-pen-line",tS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const rS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],sS=Ie("file-text",rS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const aS=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],Iw=Ie("hammer",aS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const iS=[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]],Aw=Ie("hard-hat",iS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const oS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],lS=Ie("image",oS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const uS=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],cS=Ie("instagram",uS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const hS=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],dS=Ie("layers",hS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const fS=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],pS=Ie("linkedin",fS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const mS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],gS=Ie("mail",mS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const yS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],vS=Ie("map-pin",yS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const bS=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],wS=Ie("menu",bS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const kS=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],ES=Ie("monitor",kS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const xS=[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]],_b=Ie("notebook-pen",xS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const TS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Rw=Ie("panels-top-left",TS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const SS=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Lw=Ie("pen-tool",SS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const CS=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],NS=Ie("phone",CS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const _S=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Pw=Ie("plus",_S);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const IS=[["path",{d:"m13 13.5 2-2.5-2-2.5",key:"1rvxrh"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}],["path",{d:"M9 8.5 7 11l2 2.5",key:"6ffwbx"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],AS=Ie("search-code",IS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const RS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],LS=Ie("search",RS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const PS=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],OS=Ie("send",PS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const DS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],MS=Ie("settings",DS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const jS=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],FS=Ie("share-2",jS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const VS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],US=Ie("trash-2",VS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const zS=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],HS=Ie("upload",zS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const $S=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],qS=Ie("x",$S);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const GS=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ow=Ie("zap",GS),BS=({navItems:s})=>{const[e,n]=U.useState(!1),a=rr(),o=eu();U.useEffect(()=>{const k=()=>n(window.scrollY>50);return window.addEventListener("scroll",k),()=>window.removeEventListener("scroll",k)},[]);const u=["/","/handbook","/contact"].includes(a.pathname)||a.pathname.startsWith("/project/"),d=u?e?"bg-white shadow-sm py-3":"bg-transparent py-6":"bg-white shadow-sm py-3",p=!u||e?"text-gray-800":"text-white",m=!u||e?"":"brightness-0 invert",y=(k,E)=>{var A;k.preventDefault(),E.label==="D N"?a.pathname!=="/"?o("/",{state:{scrollTo:"projects"}}):(A=document.getElementById("projects"))==null||A.scrollIntoView({behavior:"smooth"}):E.view&&E.view!=="home"?o(`/${E.view}`):E.view==="home"&&a.pathname!=="/"&&o("/")};return w.jsx("header",{className:`fixed w-full z-40 transition-all duration-300 ${d}`,children:w.jsxs("div",{className:"container mx-auto px-6 flex justify-between items-center",children:[w.jsx("div",{className:"flex items-center cursor-pointer",onClick:()=>o("/"),children:w.jsx("img",{src:"https://lh3.googleusercontent.com/d/18wUo0JZ3MWDLKqjRqFsS6PB5jDbZYNsA",className:`h-12 ${m}`,alt:"N&M Studio Logo"})}),w.jsxs("nav",{className:"hidden lg:flex gap-8 items-center",children:[(s||[]).map((k,E)=>w.jsx("a",{href:k.href,onClick:A=>y(A,k),className:`text-[11px] font-bold uppercase tracking-widest hover:text-brand-primary transition-colors ${p}`,children:k.label},E)),w.jsx("a",{href:"yeu-cau-thiet-ke.html",target:"_blank",className:`text-[10px] font-bold uppercase tracking-widest px-5 py-2.5 border-2 border-brand-primary hover:bg-brand-primary hover:text-white transition-all ${p}`,children:"Gi yu cu TK n N&M"})]}),w.jsx("button",{className:`lg:hidden ${p}`,children:w.jsx(wS,{})})]})})},KS=()=>{const s=eu(),e=rr(),n=o=>{var u;o.preventDefault(),e.pathname!=="/"?s("/",{state:{scrollTo:"projects"}}):(u=document.getElementById("projects"))==null||u.scrollIntoView({behavior:"smooth"})},a=(o,u)=>{o.preventDefault(),s(u),window.scrollTo(0,0)};return w.jsxs("footer",{className:"bg-[#705d3f] text-white pt-24 pb-12",children:[w.jsxs("div",{className:"container mx-auto px-6 grid lg:grid-cols-3 gap-16 md:gap-24",children:[w.jsxs("div",{className:"space-y-10",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("img",{src:"https://lh3.googleusercontent.com/d/18wUo0JZ3MWDLKqjRqFsS6PB5jDbZYNsA",className:"h-10 brightness-0 invert",alt:"Logo"}),w.jsx("div",{className:"text-sm font-heading font-bold tracking-[0.2em] uppercase",children:"N&M Studio"})]}),w.jsx("p",{className:"text-xs text-white/80 leading-relaxed font-light uppercase tracking-widest max-w-sm",children:"NM Studio cung cp gii php khng gian ton din, t thit k, din ho n thi cng v ng dng AI, c trin khai ng b v ph hp vi nhu cu thc t."}),w.jsxs("div",{className:"flex gap-4",children:[w.jsx("a",{href:"#",className:"w-10 h-10 rounded-full border border-white/20 flex items-center justify-center hover:bg-white hover:text-[#705d3f] transition-all",children:w.jsx(eS,{className:"w-4 h-4"})}),w.jsx("a",{href:"#",className:"w-10 h-10 rounded-full border border-white/20 flex items-center justify-center hover:bg-white hover:text-[#705d3f] transition-all",children:w.jsx(cS,{className:"w-4 h-4"})}),w.jsx("a",{href:"#",className:"w-10 h-10 rounded-full border border-white/20 flex items-center justify-center hover:bg-white hover:text-[#705d3f] transition-all",children:w.jsx(pS,{className:"w-4 h-4"})})]})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"text-xs font-bold uppercase tracking-[0.3em] mb-12 w-fit pb-3",children:"LIN KT NHANH"}),w.jsxs("ul",{className:"grid grid-cols-1 gap-6 text-[11px] text-white/80 font-bold tracking-[0.2em] uppercase",children:[w.jsx("li",{children:w.jsx("a",{href:"#",onClick:o=>a(o,"/about"),className:"hover:text-white transition-colors",children:"V CHNG TI"})}),w.jsx("li",{children:w.jsx("a",{href:"#",onClick:o=>a(o,"/services"),className:"hover:text-white transition-colors",children:"DCH V"})}),w.jsx("li",{children:w.jsx("a",{href:"#projects",onClick:n,className:"hover:text-white transition-colors",children:"D N"})}),w.jsx("li",{children:w.jsx("a",{href:"#",onClick:o=>a(o,"/handbook"),className:"hover:text-white transition-colors",children:"CM NANG"})}),w.jsx("li",{children:w.jsx("a",{href:"#",onClick:o=>a(o,"/contact"),className:"hover:text-white transition-colors",children:"LIN H"})}),w.jsx("li",{children:w.jsx("a",{href:"yeu-cau-thiet-ke.html",target:"_blank",className:"text-brand-primary hover:text-white transition-colors",children:"GI YU CU THIT K"})})]})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"text-xs font-bold uppercase tracking-[0.3em] mb-12 w-fit pb-3",children:"THNG TIN LIN H"}),w.jsxs("div",{className:"space-y-8 text-[11px] text-white/80 font-medium tracking-widest leading-loose",children:[w.jsxs("a",{href:"#",className:"flex gap-5 hover:text-white transition-colors group uppercase",children:[w.jsx(vS,{className:"w-5 h-5 shrink-0 transition-transform group-hover:scale-110"}),w.jsx("span",{children:"s 10 ng 142 Ho Nam, ng a, H Ni"})]}),w.jsxs("a",{href:"#",className:"flex gap-5 hover:text-white transition-colors group uppercase",children:[w.jsx(NS,{className:"w-5 h-5 shrink-0 transition-transform group-hover:scale-110"}),w.jsx("span",{children:"hot line: 0985578385"})]}),w.jsxs("a",{href:"mailto:nghiavu2011@gmail.com",className:"flex gap-5 hover:text-white transition-colors group",children:[w.jsx(gS,{className:"w-5 h-5 shrink-0 transition-transform group-hover:scale-110"}),w.jsx("span",{className:"uppercase",children:"nghiavu2011@gmail.com"})]})]})]})]}),w.jsx("div",{className:"container mx-auto px-6 mt-20 pt-8 text-center text-[10px] text-white/50 uppercase tracking-[0.4em]",children:" 2024 N&M Studio. All rights reserved. Excellence in Every Design."})]})},WS=()=>{};var Ib={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Dw=function(s){const e=[];let n=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},QS=function(s){const e=[];let n=0,a=0;for(;n<s.length;){const o=s[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],d=s[n++],p=s[n++],m=((o&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(m>>10)),e[a++]=String.fromCharCode(56320+(m&1023))}else{const u=s[n++],d=s[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},Mw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const u=s[o],d=o+1<s.length,p=d?s[o+1]:0,m=o+2<s.length,y=m?s[o+2]:0,k=u>>2,E=(u&3)<<4|p>>4;let A=(p&15)<<2|y>>6,$=y&63;m||($=64,d||(A=64)),a.push(n[k],n[E],n[A],n[$])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Dw(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):QS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],d=o<s.length?n[s.charAt(o)]:0;++o;const p=o<s.length?n[s.charAt(o)]:64;++o;const m=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||d==null||p==null||m==null)throw new XS;const y=u<<2|d>>4;if(a.push(y),p!==64){const k=d<<4&240|p>>2;if(a.push(k),m!==64){const E=p<<6&192|m;a.push(E)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class XS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YS=function(s){const e=Dw(s);return Mw.encodeByteArray(e,!0)},ch=function(s){return YS(s).replace(/\./g,"")},jw=function(s){try{return Mw.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function JS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ZS=()=>JS().__FIREBASE_DEFAULTS__,eC=()=>{if(typeof process>"u"||typeof Ib>"u")return;const s=Ib.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},tC=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&jw(s[1]);return e&&JSON.parse(e)},Oh=()=>{try{return WS()||ZS()||eC()||tC()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Fw=s=>{var e,n;return(n=(e=Oh())==null?void 0:e.emulatorHosts)==null?void 0:n[s]},Vw=s=>{const e=Fw(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},Uw=()=>{var s;return(s=Oh())==null?void 0:s.config},zw=s=>{var e;return(e=Oh())==null?void 0:e[`_${s}`]};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ja(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Zp(s){return(await fetch(s,{credentials:"include"})).ok}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Hw(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[ch(JSON.stringify(n)),ch(JSON.stringify(d)),""].join(".")}const Dl={};function rC(){const s={prod:[],emulator:[]};for(const e of Object.keys(Dl))Dl[e]?s.emulator.push(e):s.prod.push(e);return s}function sC(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let Ab=!1;function em(s,e){if(typeof window>"u"||typeof document>"u"||!Ja(window.location.host)||Dl[s]===e||Dl[s]||Ab)return;Dl[s]=e;function n(E){return`__firebase__banner__${E}`}const a="__firebase__banner",o=rC().prod.length>0;function u(){const E=document.getElementById(a);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Ab=!0,u()},E}function y(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function k(){const E=sC(a),A=n("text"),$=document.getElementById(A)||document.createElement("span"),H=n("learnmore"),B=document.getElementById(H)||document.createElement("a"),K=n("preprendIcon"),ne=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const se=E.element;d(se),y(B,H);const W=m();p(ne,K),se.append(ne,$,B,W),document.body.appendChild(se)}o?($.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",k):k()}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function iC(){var s;const e=(s=Oh())==null?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lC(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function uC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cC(){const s=Zt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function hC(){return!iC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dC(){try{return typeof indexedDB=="object"}catch{return!1}}function fC(){return new Promise((s,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const pC="FirebaseError";class jr extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=pC,Object.setPrototypeOf(this,jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nu.prototype.create)}}class nu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?mC(u,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new jr(o,p,a)}}function mC(s,e){return s.replace(gC,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const gC=/\{\$([^}]+)}/g;function yC(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Ba(s,e){if(s===e)return!0;const n=Object.keys(s),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=s[o],d=e[o];if(Rb(u)&&Rb(d)){if(!Ba(u,d))return!1}else if(u!==d)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function Rb(s){return s!==null&&typeof s=="object"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ru(s){const e=[];for(const[n,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Al(s){const e={};return s.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[a,o]=n.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function Rl(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function vC(s,e){const n=new bC(s,e);return n.subscribe.bind(n)}class bC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");wC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=ap),o.error===void 0&&(o.error=ap),o.complete===void 0&&(o.complete=ap);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wC(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function ap(){}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function hn(s){return s&&s._delegate?s._delegate:s}class aa{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const qa="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new nC;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xC(e))try{this.getOrInitializeService({instanceIdentifier:qa})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qa){return this.instances.has(e)}getOptions(e=qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);a===p&&d.resolve(o)}return o}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:EC(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=qa){return this.component?this.component.multipleInstances?e:qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EC(s){return s===qa?void 0:s}function xC(s){return s.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class TC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Oe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Oe||(Oe={}));const SC={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},CC=Oe.INFO,NC={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},_C=(s,e,...n)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=NC[e];if(o)console[o](`[${a}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tm{constructor(e){this.name=e,this._logLevel=CC,this._logHandler=_C,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const IC=(s,e)=>e.some(n=>s instanceof n);let Lb,Pb;function AC(){return Lb||(Lb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RC(){return Pb||(Pb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $w=new WeakMap,Ep=new WeakMap,qw=new WeakMap,ip=new WeakMap,nm=new WeakMap;function LC(s){const e=new Promise((n,a)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{n(Zs(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&$w.set(n,s)}).catch(()=>{}),nm.set(e,s),e}function PC(s){if(Ep.has(s))return;const e=new Promise((n,a)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});Ep.set(s,e)}let xp={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Ep.get(s);if(e==="objectStoreNames")return s.objectStoreNames||qw.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zs(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function OC(s){xp=s(xp)}function DC(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=s.call(op(this),e,...n);return qw.set(a,e.sort?e.sort():[e]),Zs(a)}:RC().includes(s)?function(...e){return s.apply(op(this),e),Zs($w.get(this))}:function(...e){return Zs(s.apply(op(this),e))}}function MC(s){return typeof s=="function"?DC(s):(s instanceof IDBTransaction&&PC(s),IC(s,AC())?new Proxy(s,xp):s)}function Zs(s){if(s instanceof IDBRequest)return LC(s);if(ip.has(s))return ip.get(s);const e=MC(s);return e!==s&&(ip.set(s,e),nm.set(e,s)),e}const op=s=>nm.get(s);function jC(s,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const d=indexedDB.open(s,e),p=Zs(d);return a&&d.addEventListener("upgradeneeded",m=>{a(Zs(d.result),m.oldVersion,m.newVersion,Zs(d.transaction),m)}),n&&d.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),p.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const FC=["get","getKey","getAll","getAllKeys","count"],VC=["put","add","delete","clear"],lp=new Map;function Ob(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(lp.get(e))return lp.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=VC.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||FC.includes(n)))return;const u=async function(d,...p){const m=this.transaction(d,o?"readwrite":"readonly");let y=m.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&m.done]))[0]};return lp.set(e,u),u}OC(s=>({...s,get:(e,n,a)=>Ob(e,n)||s.get(e,n,a),has:(e,n)=>!!Ob(e,n)||s.has(e,n)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class UC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(zC(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function zC(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tp="@firebase/app",Db="0.14.7";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const us=new tm("@firebase/app"),HC="@firebase/app-compat",$C="@firebase/analytics-compat",qC="@firebase/analytics",GC="@firebase/app-check-compat",BC="@firebase/app-check",KC="@firebase/auth",WC="@firebase/auth-compat",QC="@firebase/database",XC="@firebase/data-connect",YC="@firebase/database-compat",JC="@firebase/functions",ZC="@firebase/functions-compat",eN="@firebase/installations",tN="@firebase/installations-compat",nN="@firebase/messaging",rN="@firebase/messaging-compat",sN="@firebase/performance",aN="@firebase/performance-compat",iN="@firebase/remote-config",oN="@firebase/remote-config-compat",lN="@firebase/storage",uN="@firebase/storage-compat",cN="@firebase/firestore",hN="@firebase/ai",dN="@firebase/firestore-compat",fN="firebase",pN="12.8.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Sp="[DEFAULT]",mN={[Tp]:"fire-core",[HC]:"fire-core-compat",[qC]:"fire-analytics",[$C]:"fire-analytics-compat",[BC]:"fire-app-check",[GC]:"fire-app-check-compat",[KC]:"fire-auth",[WC]:"fire-auth-compat",[QC]:"fire-rtdb",[XC]:"fire-data-connect",[YC]:"fire-rtdb-compat",[JC]:"fire-fn",[ZC]:"fire-fn-compat",[eN]:"fire-iid",[tN]:"fire-iid-compat",[nN]:"fire-fcm",[rN]:"fire-fcm-compat",[sN]:"fire-perf",[aN]:"fire-perf-compat",[iN]:"fire-rc",[oN]:"fire-rc-compat",[lN]:"fire-gcs",[uN]:"fire-gcs-compat",[cN]:"fire-fst",[dN]:"fire-fst-compat",[hN]:"fire-vertex","fire-js":"fire-js",[fN]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const hh=new Map,gN=new Map,Cp=new Map;function Mb(s,e){try{s.container.addComponent(e)}catch(n){us.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function Ka(s){const e=s.name;if(Cp.has(e))return us.debug(`There were multiple attempts to register component ${e}.`),!1;Cp.set(e,s);for(const n of hh.values())Mb(n,s);for(const n of gN.values())Mb(n,s);return!0}function Dh(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function On(s){return s==null?!1:s.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ea=new nu("app","Firebase",yN);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vN{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ea.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Za=pN;function Gw(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const a={name:Sp,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw ea.create("bad-app-name",{appName:String(o)});if(n||(n=Uw()),!n)throw ea.create("no-options");const u=hh.get(o);if(u){if(Ba(n,u.options)&&Ba(a,u.config))return u;throw ea.create("duplicate-app",{appName:o})}const d=new TC(o);for(const m of Cp.values())d.addComponent(m);const p=new vN(n,a,d);return hh.set(o,p),p}function rm(s=Sp){const e=hh.get(s);if(!e&&s===Sp&&Uw())return Gw();if(!e)throw ea.create("no-app",{appName:s});return e}function Cr(s,e,n){let a=mN[s]??s;n&&(a+=`-${n}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),us.warn(d.join(" "));return}Ka(new aa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const bN="firebase-heartbeat-database",wN=1,Hl="firebase-heartbeat-store";let up=null;function Bw(){return up||(up=jC(bN,wN,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Hl)}catch(n){console.warn(n)}}}}).catch(s=>{throw ea.create("idb-open",{originalErrorMessage:s.message})})),up}async function kN(s){try{const e=(await Bw()).transaction(Hl),n=await e.objectStore(Hl).get(Kw(s));return await e.done,n}catch(e){if(e instanceof jr)us.warn(e.message);else{const n=ea.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});us.warn(n.message)}}}async function jb(s,e){try{const n=(await Bw()).transaction(Hl,"readwrite");await n.objectStore(Hl).put(e,Kw(s)),await n.done}catch(n){if(n instanceof jr)us.warn(n.message);else{const a=ea.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});us.warn(a.message)}}}function Kw(s){return`${s.name}!${s.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const EN=1024,xN=30;class TN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CN(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Fb();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>xN){const u=NN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){us.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Fb(),{heartbeatsToSend:a,unsentEntries:o}=SN(this._heartbeatsCache.heartbeats),u=ch(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return us.warn(n),""}}}function Fb(){return new Date().toISOString().substring(0,10)}function SN(s,e=EN){const n=[];let a=s.slice();for(const o of s){const u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),Vb(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Vb(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class CN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dC()?fC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await kN(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return jb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return jb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function Vb(s){return ch(JSON.stringify({version:2,heartbeats:s})).length}function NN(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let a=1;a<s.length;a++)s[a].date<n&&(n=s[a].date,e=a);return e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _N(s){Ka(new aa("platform-logger",e=>new UC(e),"PRIVATE")),Ka(new aa("heartbeat",e=>new TN(e),"PRIVATE")),Cr(Tp,Db,s),Cr(Tp,Db,"esm2020"),Cr("fire-js","")}_N("");var Ub=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ta,Ww;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,S){function N(){}N.prototype=S.prototype,C.F=S.prototype,C.prototype=new N,C.prototype.constructor=C,C.D=function(O,L,M){for(var _=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)_[Xe-2]=arguments[Xe];return S.prototype[L].apply(O,_)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,S,N){N||(N=0);const O=Array(16);if(typeof S=="string")for(var L=0;L<16;++L)O[L]=S.charCodeAt(N++)|S.charCodeAt(N++)<<8|S.charCodeAt(N++)<<16|S.charCodeAt(N++)<<24;else for(L=0;L<16;++L)O[L]=S[N++]|S[N++]<<8|S[N++]<<16|S[N++]<<24;S=C.g[0],N=C.g[1],L=C.g[2];let M=C.g[3],_;_=S+(M^N&(L^M))+O[0]+3614090360&4294967295,S=N+(_<<7&4294967295|_>>>25),_=M+(L^S&(N^L))+O[1]+3905402710&4294967295,M=S+(_<<12&4294967295|_>>>20),_=L+(N^M&(S^N))+O[2]+606105819&4294967295,L=M+(_<<17&4294967295|_>>>15),_=N+(S^L&(M^S))+O[3]+3250441966&4294967295,N=L+(_<<22&4294967295|_>>>10),_=S+(M^N&(L^M))+O[4]+4118548399&4294967295,S=N+(_<<7&4294967295|_>>>25),_=M+(L^S&(N^L))+O[5]+1200080426&4294967295,M=S+(_<<12&4294967295|_>>>20),_=L+(N^M&(S^N))+O[6]+2821735955&4294967295,L=M+(_<<17&4294967295|_>>>15),_=N+(S^L&(M^S))+O[7]+4249261313&4294967295,N=L+(_<<22&4294967295|_>>>10),_=S+(M^N&(L^M))+O[8]+1770035416&4294967295,S=N+(_<<7&4294967295|_>>>25),_=M+(L^S&(N^L))+O[9]+2336552879&4294967295,M=S+(_<<12&4294967295|_>>>20),_=L+(N^M&(S^N))+O[10]+4294925233&4294967295,L=M+(_<<17&4294967295|_>>>15),_=N+(S^L&(M^S))+O[11]+2304563134&4294967295,N=L+(_<<22&4294967295|_>>>10),_=S+(M^N&(L^M))+O[12]+1804603682&4294967295,S=N+(_<<7&4294967295|_>>>25),_=M+(L^S&(N^L))+O[13]+4254626195&4294967295,M=S+(_<<12&4294967295|_>>>20),_=L+(N^M&(S^N))+O[14]+2792965006&4294967295,L=M+(_<<17&4294967295|_>>>15),_=N+(S^L&(M^S))+O[15]+1236535329&4294967295,N=L+(_<<22&4294967295|_>>>10),_=S+(L^M&(N^L))+O[1]+4129170786&4294967295,S=N+(_<<5&4294967295|_>>>27),_=M+(N^L&(S^N))+O[6]+3225465664&4294967295,M=S+(_<<9&4294967295|_>>>23),_=L+(S^N&(M^S))+O[11]+643717713&4294967295,L=M+(_<<14&4294967295|_>>>18),_=N+(M^S&(L^M))+O[0]+3921069994&4294967295,N=L+(_<<20&4294967295|_>>>12),_=S+(L^M&(N^L))+O[5]+3593408605&4294967295,S=N+(_<<5&4294967295|_>>>27),_=M+(N^L&(S^N))+O[10]+38016083&4294967295,M=S+(_<<9&4294967295|_>>>23),_=L+(S^N&(M^S))+O[15]+3634488961&4294967295,L=M+(_<<14&4294967295|_>>>18),_=N+(M^S&(L^M))+O[4]+3889429448&4294967295,N=L+(_<<20&4294967295|_>>>12),_=S+(L^M&(N^L))+O[9]+568446438&4294967295,S=N+(_<<5&4294967295|_>>>27),_=M+(N^L&(S^N))+O[14]+3275163606&4294967295,M=S+(_<<9&4294967295|_>>>23),_=L+(S^N&(M^S))+O[3]+4107603335&4294967295,L=M+(_<<14&4294967295|_>>>18),_=N+(M^S&(L^M))+O[8]+1163531501&4294967295,N=L+(_<<20&4294967295|_>>>12),_=S+(L^M&(N^L))+O[13]+2850285829&4294967295,S=N+(_<<5&4294967295|_>>>27),_=M+(N^L&(S^N))+O[2]+4243563512&4294967295,M=S+(_<<9&4294967295|_>>>23),_=L+(S^N&(M^S))+O[7]+1735328473&4294967295,L=M+(_<<14&4294967295|_>>>18),_=N+(M^S&(L^M))+O[12]+2368359562&4294967295,N=L+(_<<20&4294967295|_>>>12),_=S+(N^L^M)+O[5]+4294588738&4294967295,S=N+(_<<4&4294967295|_>>>28),_=M+(S^N^L)+O[8]+2272392833&4294967295,M=S+(_<<11&4294967295|_>>>21),_=L+(M^S^N)+O[11]+1839030562&4294967295,L=M+(_<<16&4294967295|_>>>16),_=N+(L^M^S)+O[14]+4259657740&4294967295,N=L+(_<<23&4294967295|_>>>9),_=S+(N^L^M)+O[1]+2763975236&4294967295,S=N+(_<<4&4294967295|_>>>28),_=M+(S^N^L)+O[4]+1272893353&4294967295,M=S+(_<<11&4294967295|_>>>21),_=L+(M^S^N)+O[7]+4139469664&4294967295,L=M+(_<<16&4294967295|_>>>16),_=N+(L^M^S)+O[10]+3200236656&4294967295,N=L+(_<<23&4294967295|_>>>9),_=S+(N^L^M)+O[13]+681279174&4294967295,S=N+(_<<4&4294967295|_>>>28),_=M+(S^N^L)+O[0]+3936430074&4294967295,M=S+(_<<11&4294967295|_>>>21),_=L+(M^S^N)+O[3]+3572445317&4294967295,L=M+(_<<16&4294967295|_>>>16),_=N+(L^M^S)+O[6]+76029189&4294967295,N=L+(_<<23&4294967295|_>>>9),_=S+(N^L^M)+O[9]+3654602809&4294967295,S=N+(_<<4&4294967295|_>>>28),_=M+(S^N^L)+O[12]+3873151461&4294967295,M=S+(_<<11&4294967295|_>>>21),_=L+(M^S^N)+O[15]+530742520&4294967295,L=M+(_<<16&4294967295|_>>>16),_=N+(L^M^S)+O[2]+3299628645&4294967295,N=L+(_<<23&4294967295|_>>>9),_=S+(L^(N|~M))+O[0]+4096336452&4294967295,S=N+(_<<6&4294967295|_>>>26),_=M+(N^(S|~L))+O[7]+1126891415&4294967295,M=S+(_<<10&4294967295|_>>>22),_=L+(S^(M|~N))+O[14]+2878612391&4294967295,L=M+(_<<15&4294967295|_>>>17),_=N+(M^(L|~S))+O[5]+4237533241&4294967295,N=L+(_<<21&4294967295|_>>>11),_=S+(L^(N|~M))+O[12]+1700485571&4294967295,S=N+(_<<6&4294967295|_>>>26),_=M+(N^(S|~L))+O[3]+2399980690&4294967295,M=S+(_<<10&4294967295|_>>>22),_=L+(S^(M|~N))+O[10]+4293915773&4294967295,L=M+(_<<15&4294967295|_>>>17),_=N+(M^(L|~S))+O[1]+2240044497&4294967295,N=L+(_<<21&4294967295|_>>>11),_=S+(L^(N|~M))+O[8]+1873313359&4294967295,S=N+(_<<6&4294967295|_>>>26),_=M+(N^(S|~L))+O[15]+4264355552&4294967295,M=S+(_<<10&4294967295|_>>>22),_=L+(S^(M|~N))+O[6]+2734768916&4294967295,L=M+(_<<15&4294967295|_>>>17),_=N+(M^(L|~S))+O[13]+1309151649&4294967295,N=L+(_<<21&4294967295|_>>>11),_=S+(L^(N|~M))+O[4]+4149444226&4294967295,S=N+(_<<6&4294967295|_>>>26),_=M+(N^(S|~L))+O[11]+3174756917&4294967295,M=S+(_<<10&4294967295|_>>>22),_=L+(S^(M|~N))+O[2]+718787259&4294967295,L=M+(_<<15&4294967295|_>>>17),_=N+(M^(L|~S))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(L+(_<<21&4294967295|_>>>11))&4294967295,C.g[2]=C.g[2]+L&4294967295,C.g[3]=C.g[3]+M&4294967295}a.prototype.v=function(C,S){S===void 0&&(S=C.length);const N=S-this.blockSize,O=this.C;let L=this.h,M=0;for(;M<S;){if(L==0)for(;M<=N;)o(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<S;)if(O[L++]=C.charCodeAt(M++),L==this.blockSize){o(this,O),L=0;break}}else for(;M<S;)if(O[L++]=C[M++],L==this.blockSize){o(this,O),L=0;break}}this.h=L,this.o+=S},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var N=C.length-8;N<C.length;++N)C[N]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,N=0;N<4;++N)for(let O=0;O<32;O+=8)C[S++]=this.g[N]>>>O&255;return C};function u(C,S){var N=p;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=S(C)}function d(C,S){this.h=S;const N=[];let O=!0;for(let L=C.length-1;L>=0;L--){const M=C[L]|0;O&&M==S||(N[L]=M,O=!1)}this.g=N}var p={};function m(C){return-128<=C&&C<128?u(C,function(S){return new d([S|0],S<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return E;if(C<0)return K(y(-C));const S=[];let N=1;for(let O=0;C>=N;O++)S[O]=C/N|0,N*=4294967296;return new d(S,0)}function k(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return K(k(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=y(Math.pow(S,8));let O=E;for(let M=0;M<C.length;M+=8){var L=Math.min(8,C.length-M);const _=parseInt(C.substring(M,M+L),S);L<8?(L=y(Math.pow(S,L)),O=O.j(L).add(y(_))):(O=O.j(N),O=O.add(y(_)))}return O}var E=m(0),A=m(1),$=m(16777216);s=d.prototype,s.m=function(){if(B(this))return-K(this).m();let C=0,S=1;for(let N=0;N<this.g.length;N++){const O=this.i(N);C+=(O>=0?O:4294967296+O)*S,S*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(H(this))return"0";if(B(this))return"-"+K(this).toString(C);const S=y(Math.pow(C,6));var N=this;let O="";for(;;){const L=ce(N,S).g;N=ne(N,L.j(S));let M=((N.g.length>0?N.g[0]:N.h)>>>0).toString(C);if(N=L,H(N))return M+O;for(;M.length<6;)M="0"+M;O=M+O}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function H(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function B(C){return C.h==-1}s.l=function(C){return C=ne(this,C),B(C)?-1:H(C)?0:1};function K(C){const S=C.g.length,N=[];for(let O=0;O<S;O++)N[O]=~C.g[O];return new d(N,~C.h).add(A)}s.abs=function(){return B(this)?K(this):this},s.add=function(C){const S=Math.max(this.g.length,C.g.length),N=[];let O=0;for(let L=0;L<=S;L++){let M=O+(this.i(L)&65535)+(C.i(L)&65535),_=(M>>>16)+(this.i(L)>>>16)+(C.i(L)>>>16);O=_>>>16,M&=65535,_&=65535,N[L]=_<<16|M}return new d(N,N[N.length-1]&-2147483648?-1:0)};function ne(C,S){return C.add(K(S))}s.j=function(C){if(H(this)||H(C))return E;if(B(this))return B(C)?K(this).j(K(C)):K(K(this).j(C));if(B(C))return K(this.j(K(C)));if(this.l($)<0&&C.l($)<0)return y(this.m()*C.m());const S=this.g.length+C.g.length,N=[];for(var O=0;O<2*S;O++)N[O]=0;for(O=0;O<this.g.length;O++)for(let L=0;L<C.g.length;L++){const M=this.i(O)>>>16,_=this.i(O)&65535,Xe=C.i(L)>>>16,ut=C.i(L)&65535;N[2*O+2*L]+=_*ut,se(N,2*O+2*L),N[2*O+2*L+1]+=M*ut,se(N,2*O+2*L+1),N[2*O+2*L+1]+=_*Xe,se(N,2*O+2*L+1),N[2*O+2*L+2]+=M*Xe,se(N,2*O+2*L+2)}for(C=0;C<S;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=S;C<2*S;C++)N[C]=0;return new d(N,0)};function se(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function W(C,S){this.g=C,this.h=S}function ce(C,S){if(H(S))throw Error("division by zero");if(H(C))return new W(E,E);if(B(C))return S=ce(K(C),S),new W(K(S.g),K(S.h));if(B(S))return S=ce(C,K(S)),new W(K(S.g),S.h);if(C.g.length>30){if(B(C)||B(S))throw Error("slowDivide_ only works with positive integers.");for(var N=A,O=S;O.l(C)<=0;)N=we(N),O=we(O);var L=re(N,1),M=re(O,1);for(O=re(O,2),N=re(N,2);!H(O);){var _=M.add(O);_.l(C)<=0&&(L=L.add(N),M=_),O=re(O,1),N=re(N,1)}return S=ne(C,L.j(S)),new W(L,S)}for(L=E;C.l(S)>=0;){for(N=Math.max(1,Math.floor(C.m()/S.m())),O=Math.ceil(Math.log(N)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),M=y(N),_=M.j(S);B(_)||_.l(C)>0;)N-=O,M=y(N),_=M.j(S);H(M)&&(M=A),L=L.add(M),C=ne(C,_)}return new W(L,C)}s.B=function(C){return ce(this,C).h},s.and=function(C){const S=Math.max(this.g.length,C.g.length),N=[];for(let O=0;O<S;O++)N[O]=this.i(O)&C.i(O);return new d(N,this.h&C.h)},s.or=function(C){const S=Math.max(this.g.length,C.g.length),N=[];for(let O=0;O<S;O++)N[O]=this.i(O)|C.i(O);return new d(N,this.h|C.h)},s.xor=function(C){const S=Math.max(this.g.length,C.g.length),N=[];for(let O=0;O<S;O++)N[O]=this.i(O)^C.i(O);return new d(N,this.h^C.h)};function we(C){const S=C.g.length+1,N=[];for(let O=0;O<S;O++)N[O]=C.i(O)<<1|C.i(O-1)>>>31;return new d(N,C.h)}function re(C,S){const N=S>>5;S%=32;const O=C.g.length-N,L=[];for(let M=0;M<O;M++)L[M]=S>0?C.i(M+N)>>>S|C.i(M+N+1)<<32-S:C.i(M+N);return new d(L,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Ww=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=k,ta=d}).apply(typeof Ub<"u"?Ub:typeof self<"u"?self:typeof window<"u"?window:{});var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qw,Ll,Xw,Jc,Np,Yw,Jw,Zw;(function(){var s,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hc=="object"&&Hc];for(var g=0;g<c.length;++g){var b=c[g];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var a=n(this);function o(c,g){if(g)e:{var b=a;c=c.split(".");for(var T=0;T<c.length-1;T++){var j=c[T];if(!(j in b))break e;b=b[j]}c=c[c.length-1],T=b[c],g=g(T),g!=T&&g!=null&&e(b,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var b=[],T;for(T in g)Object.prototype.hasOwnProperty.call(g,T)&&b.push([T,g[T]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function m(c,g,b){return c.call.apply(c.bind,arguments)}function y(c,g,b){return y=m,y.apply(null,arguments)}function k(c,g){var b=Array.prototype.slice.call(arguments,1);return function(){var T=b.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function E(c,g){function b(){}b.prototype=g.prototype,c.Z=g.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(T,j,q){for(var ae=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)ae[Ne-2]=arguments[Ne];return g.prototype[j].apply(T,ae)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function $(c){const g=c.length;if(g>0){const b=Array(g);for(let T=0;T<g;T++)b[T]=c[T];return b}return[]}function H(c,g){for(let T=1;T<arguments.length;T++){const j=arguments[T];var b=typeof j;if(b=b!="object"?b:j?Array.isArray(j)?"array":b:"null",b=="array"||b=="object"&&typeof j.length=="number"){b=c.length||0;const q=j.length||0;c.length=b+q;for(let ae=0;ae<q;ae++)c[b+ae]=j[ae]}else c.push(j)}}class B{constructor(g,b){this.i=g,this.j=b,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function K(c){d.setTimeout(()=>{throw c},0)}function ne(){var c=C;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class se{constructor(){this.h=this.g=null}add(g,b){const T=W.get();T.set(g,b),this.h?this.h.next=T:this.g=T,this.h=T}}var W=new B(()=>new ce,c=>c.reset());class ce{constructor(){this.next=this.g=this.h=null}set(g,b){this.h=g,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let we,re=!1,C=new se,S=()=>{const c=Promise.resolve(void 0);we=()=>{c.then(N)}};function N(){for(var c;c=ne();){try{c.h.call(c.g)}catch(b){K(b)}var g=W;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}re=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};d.addEventListener("test",b,g),d.removeEventListener("test",b,g)}catch{}return c})();function _(c){return/^[\s\xa0]*$/.test(c)}function Xe(c,g){L.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}E(Xe,L),Xe.prototype.init=function(c,g){const b=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(b=="mouseover"?g=c.fromElement:b=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Xe.Z.h.call(this)},Xe.prototype.h=function(){Xe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ut="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ie(c,g,b,T,j){this.listener=c,this.proxy=null,this.src=g,this.type=b,this.capture=!!T,this.ha=j,this.key=++Q,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ue(c,g,b){for(const T in c)g.call(b,c[T],T,c)}function Ge(c,g){for(const b in c)g.call(void 0,c[b],b,c)}function P(c){const g={};for(const b in c)g[b]=c[b];return g}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,g){let b,T;for(let j=1;j<arguments.length;j++){T=arguments[j];for(b in T)c[b]=T[b];for(let q=0;q<J.length;q++)b=J[q],Object.prototype.hasOwnProperty.call(T,b)&&(c[b]=T[b])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,g,b,T,j){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const ae=Ce(c,g,T,j);return ae>-1?(g=c[ae],b||(g.fa=!1)):(g=new ie(g,this.src,q,!!T,j),g.fa=b,c.push(g)),g};function ke(c,g){const b=g.type;if(b in c.g){var T=c.g[b],j=Array.prototype.indexOf.call(T,g,void 0),q;(q=j>=0)&&Array.prototype.splice.call(T,j,1),q&&(me(g),c.g[b].length==0&&(delete c.g[b],c.h--))}}function Ce(c,g,b,T){for(let j=0;j<c.length;++j){const q=c[j];if(!q.da&&q.listener==g&&q.capture==!!b&&q.ha==T)return j}return-1}var Fe="closure_lm_"+(Math.random()*1e6|0),At={};function it(c,g,b,T,j){if(Array.isArray(g)){for(let q=0;q<g.length;q++)it(c,g[q],b,T,j);return null}return b=To(b),c&&c[ut]?c.J(g,b,p(T)?!!T.capture:!1,j):fa(c,g,b,!1,T,j)}function fa(c,g,b,T,j,q){if(!g)throw Error("Invalid event type");const ae=p(j)?!!j.capture:!!j;let Ne=pa(c);if(Ne||(c[Fe]=Ne=new ue(c)),b=Ne.add(g,b,T,ae,q),b.proxy)return b;if(T=ai(),b.proxy=T,T.src=c,T.listener=b,c.addEventListener)M||(j=ae),j===void 0&&(j=!1),c.addEventListener(g.toString(),T,j);else if(c.attachEvent)c.attachEvent(sr(g.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return b}function ai(){function c(b){return g.call(c.src,c.listener,b)}const g=Eo;return c}function ii(c,g,b,T,j){if(Array.isArray(g))for(var q=0;q<g.length;q++)ii(c,g[q],b,T,j);else T=p(T)?!!T.capture:!!T,b=To(b),c&&c[ut]?(c=c.i,q=String(g).toString(),q in c.g&&(g=c.g[q],b=Ce(g,b,T,j),b>-1&&(me(g[b]),Array.prototype.splice.call(g,b,1),g.length==0&&(delete c.g[q],c.h--)))):c&&(c=pa(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Ce(g,b,T,j)),(b=c>-1?g[c]:null)&&oi(b))}function oi(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ut])ke(g.i,c);else{var b=c.type,T=c.proxy;g.removeEventListener?g.removeEventListener(b,T,c.capture):g.detachEvent?g.detachEvent(sr(b),T):g.addListener&&g.removeListener&&g.removeListener(T),(b=pa(g))?(ke(b,c),b.h==0&&(b.src=null,g[Fe]=null)):me(c)}}}function sr(c){return c in At?At[c]:At[c]="on"+c}function Eo(c,g){if(c.da)c=!0;else{g=new Xe(g,this);const b=c.listener,T=c.ha||c.src;c.fa&&oi(c),c=b.call(T,g)}return c}function pa(c){return c=c[Fe],c instanceof ue?c:null}var xo="__closure_events_fn_"+(Math.random()*1e9>>>0);function To(c){return typeof c=="function"?c:(c[xo]||(c[xo]=function(g){return c.handleEvent(g)}),c[xo])}function bt(){O.call(this),this.i=new ue(this),this.M=this,this.G=null}E(bt,O),bt.prototype[ut]=!0,bt.prototype.removeEventListener=function(c,g,b,T){ii(this,c,g,b,T)};function Rt(c,g){var b,T=c.G;if(T)for(b=[];T;T=T.G)b.push(T);if(c=c.M,T=g.type||g,typeof g=="string")g=new L(g,c);else if(g instanceof L)g.target=g.target||c;else{var j=g;g=new L(T,c),oe(g,j)}j=!0;let q,ae;if(b)for(ae=b.length-1;ae>=0;ae--)q=g.g=b[ae],j=fs(q,T,!0,g)&&j;if(q=g.g=c,j=fs(q,T,!0,g)&&j,j=fs(q,T,!1,g)&&j,b)for(ae=0;ae<b.length;ae++)q=g.g=b[ae],j=fs(q,T,!1,g)&&j}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const b=c.g[g];for(let T=0;T<b.length;T++)me(b[T]);delete c.g[g],c.h--}}this.G=null},bt.prototype.J=function(c,g,b,T){return this.i.add(String(c),g,!1,b,T)},bt.prototype.K=function(c,g,b,T){return this.i.add(String(c),g,!0,b,T)};function fs(c,g,b,T){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let j=!0;for(let q=0;q<g.length;++q){const ae=g[q];if(ae&&!ae.da&&ae.capture==b){const Ne=ae.listener,mt=ae.ha||ae.src;ae.fa&&ke(c.i,ae),j=Ne.call(mt,T)!==!1&&j}}return j&&!T.defaultPrevented}function td(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:d.setTimeout(c,g||0)}function du(c){c.g=td(()=>{c.g=null,c.i&&(c.i=!1,du(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class en extends O{constructor(g,b){super(),this.m=g,this.l=b,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:du(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ma(c){O.call(this),this.h=c,this.g={}}E(ma,O);var So=[];function Co(c){Ue(c.g,function(g,b){this.g.hasOwnProperty(b)&&oi(g)},c),c.g={}}ma.prototype.N=function(){ma.Z.N.call(this),Co(this)},ma.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ps=d.JSON.stringify,nd=d.JSON.parse,fu=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function pu(){}function mu(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Vt(){L.call(this,"d")}E(Vt,L);function En(){L.call(this,"c")}E(En,L);var pt={},gu=null;function li(){return gu=gu||new bt}pt.Ia="serverreachability";function yu(c){L.call(this,pt.Ia,c)}E(yu,L);function ar(c){const g=li();Rt(g,new yu(g))}pt.STAT_EVENT="statevent";function ga(c,g){L.call(this,pt.STAT_EVENT,c),this.stat=g}E(ga,L);function wt(c){const g=li();Rt(g,new ga(g,c))}pt.Ja="timingevent";function ir(c,g){L.call(this,pt.Ja,c),this.size=g}E(ir,L);function or(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},g)}function Vn(){this.g=!0}Vn.prototype.ua=function(){this.g=!1};function rd(c,g,b,T,j,q){c.info(function(){if(c.g)if(q){var ae="",Ne=q.split("&");for(let Ke=0;Ke<Ne.length;Ke++){var mt=Ne[Ke].split("=");if(mt.length>1){const ot=mt[0];mt=mt[1];const Cn=ot.split("_");ae=Cn.length>=2&&Cn[1]=="type"?ae+(ot+"="+mt+"&"):ae+(ot+"=redacted&")}}}else ae=null;else ae=q;return"XMLHTTP REQ ("+T+") [attempt "+j+"]: "+g+`
`+b+`
`+ae})}function vu(c,g,b,T,j,q,ae){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+j+"]: "+g+`
`+b+`
`+q+" "+ae})}function lr(c,g,b,T){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+sd(c,b)+(T?" "+T:"")})}function ya(c,g){c.info(function(){return"TIMEOUT: "+g})}Vn.prototype.info=function(){};function sd(c,g){if(!c.g)return g;if(!g)return null;try{const q=JSON.parse(g);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var b=q[c];if(!(b.length<2)){var T=b[1];if(Array.isArray(T)&&!(T.length<1)){var j=T[0];if(j!="noop"&&j!="stop"&&j!="close")for(let ae=1;ae<T.length;ae++)T[ae]=""}}}}return ps(q)}catch{return g}}var va={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},No={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_o;function ba(){}E(ba,pu),ba.prototype.g=function(){return new XMLHttpRequest},_o=new ba;function Vr(c){return encodeURIComponent(String(c))}function bu(c){var g=1;c=c.split(":");const b=[];for(;g>0&&c.length;)b.push(c.shift()),g--;return c.length&&b.push(c.join(":")),b}function Un(c,g,b,T){this.j=c,this.i=g,this.l=b,this.S=T||1,this.V=new ma(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var kt={},Dt={};function ur(c,g,b){c.M=1,c.A=wa(xt(g)),c.u=b,c.R=!0,ui(c,null)}function ui(c,g){c.F=Date.now(),cr(c),c.B=xt(c.A);var b=c.B,T=c.S;Array.isArray(T)||(T=[String(T)]),fi(b.i,"t",T),c.C=0,b=c.j.L,c.h=new zn,c.g=Ou(c.j,b?g:null,!c.u),c.P>0&&(c.O=new en(y(c.Y,c,c.g),c.P)),g=c.V,b=c.g,T=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(So[0]=j.toString()),j=So);for(let q=0;q<j.length;q++){const ae=it(b,j[q],T||g.handleEvent,!1,g.h||g);if(!ae)break;g.g[ae.key]=ae}g=c.J?P(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),ar(),rd(c.i,c.v,c.B,c.l,c.S,c.u)}Un.prototype.ba=function(c){c=c.target;const g=this.O;g&&qn(c)==3?g.j():this.Y(c)},Un.prototype.Y=function(c){try{if(c==this.g)e:{const Ne=qn(this.g),mt=this.g.ya(),Ke=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Ut(this.g)))){this.K||Ne!=4||mt==7||(mt==8||Ke<=0?ar(3):ar(2)),hr(this);var g=this.g.ca();this.X=g;var b=ad(this);if(this.o=g==200,vu(this.i,this.v,this.B,this.l,this.S,Ne,g),this.o){if(this.U&&!this.L){t:{if(this.g){var T,j=this.g;if((T=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(T)){var q=T;break t}}q=null}if(c=q)lr(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,dr(this,c);else{this.o=!1,this.m=3,wt(12),dn(this),xn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<b.length;)if(ot=ku(this,b),ot==Dt){Ne==4&&(this.m=4,wt(14),c=!1),lr(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==kt){this.m=4,wt(15),lr(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else lr(this.i,this.l,ot,null),dr(this,ot);if(wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||b.length!=0||this.h.h||(this.m=1,wt(16),c=!1),this.o=this.o&&c,!c)lr(this.i,this.l,b,"[Invalid Chunked Response]"),dn(this),xn(this);else if(b.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),$o(ae),ae.P=!0,wt(11))}}else lr(this.i,this.l,b,null),dr(this,b);Ne==4&&dn(this),this.o&&!this.K&&(Ne==4?Au(this.j,this):(this.o=!1,cr(this)))}else zr(this.g),g==400&&b.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),dn(this),xn(this)}}}catch{}finally{}};function ad(c){if(!wu(c))return c.g.la();const g=Ut(c.g);if(g==="")return"";let b="";const T=g.length,j=qn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return dn(c),xn(c),"";c.h.i=new d.TextDecoder}for(let q=0;q<T;q++)c.h.h=!0,b+=c.h.i.decode(g[q],{stream:!(j&&q==T-1)});return g.length=0,c.h.g+=b,c.C=0,c.h.g}function wu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ku(c,g){var b=c.C,T=g.indexOf(`
`,b);return T==-1?Dt:(b=Number(g.substring(b,T)),isNaN(b)?kt:(T+=1,T+b>g.length?Dt:(g=g.slice(T,T+b),c.C=T+b,g)))}Un.prototype.cancel=function(){this.K=!0,dn(this)};function cr(c){c.T=Date.now()+c.H,ci(c,c.H)}function ci(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=or(y(c.aa,c),g)}function hr(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Un.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ya(this.i,this.B),this.M!=2&&(ar(),wt(17)),dn(this),this.m=2,xn(this)):ci(this,this.T-c)};function xn(c){c.j.I==0||c.K||Au(c.j,c)}function dn(c){hr(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Co(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function dr(c,g){try{var b=c.j;if(b.I!=0&&(b.g==c||pr(b.h,c))){if(!c.L&&pr(b.h,c)&&b.I==3){try{var T=b.Ba.g.parse(g)}catch{T=null}if(Array.isArray(T)&&T.length==3){var j=T;if(j[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)vi(b),Es(b);else break e;Na(b),wt(18)}}else b.xa=j[1],0<b.xa-b.K&&j[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=or(y(b.Va,b),6e3));fr(b.h)<=1&&b.ta&&(b.ta=void 0)}else wr(b,11)}else if((c.L||b.g==c)&&vi(b),!_(g))for(j=b.Ba.g.parse(g),g=0;g<j.length;g++){let Ke=j[g];const ot=Ke[0];if(!(ot<=b.K))if(b.K=ot,Ke=Ke[1],b.I==2)if(Ke[0]=="c"){b.M=Ke[1],b.ba=Ke[2];const Cn=Ke[3];Cn!=null&&(b.ka=Cn,b.j.info("VER="+b.ka));const $r=Ke[4];$r!=null&&(b.za=$r,b.j.info("SVER="+b.za));const Gn=Ke[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(T=1.5*Gn,b.O=T,b.j.info("backChannelRequestTimeoutMs_="+T)),T=b;const Bn=c.g;if(Bn){const _a=Bn.g?Bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_a){var q=T.h;q.g||_a.indexOf("spdy")==-1&&_a.indexOf("quic")==-1&&_a.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ro(q,q.h),q.h=null))}if(T.G){const bi=Bn.g?Bn.g.getResponseHeader("X-HTTP-Session-Id"):null;bi&&(T.wa=bi,Be(T.J,T.G,bi))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),T=b;var ae=c;if(T.na=Pu(T,T.L?T.ba:null,T.W),ae.L){Lo(T.h,ae);var Ne=ae,mt=T.O;mt&&(Ne.H=mt),Ne.D&&(hr(Ne),cr(Ne)),T.g=ae}else _u(T);b.i.length>0&&br(b)}else Ke[0]!="stop"&&Ke[0]!="close"||wr(b,7);else b.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?wr(b,7):zo(b):Ke[0]!="noop"&&b.l&&b.l.qa(Ke),b.A=0)}}ar(4)}catch{}}var Et=class{constructor(c,g){this.g=c,this.map=g}};function Io(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ao(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fr(c){return c.h?1:c.g?c.g.size:0}function pr(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Ro(c,g){c.g?c.g.add(g):c.h=g}function Lo(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Io.prototype.cancel=function(){if(this.i=Po(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Po(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const b of c.g.values())g=g.concat(b.G);return g}return $(c.i)}var Eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hi(c,g){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const T=c[b].indexOf("=");let j,q=null;T>=0?(j=c[b].substring(0,T),q=c[b].substring(T+1)):j=c[b],g(j,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function fn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof fn?(this.l=c.l,Mt(this,c.j),this.o=c.o,this.g=c.g,ms(this,c.u),this.h=c.h,Oo(this,Cu(c.i)),this.m=c.m):c&&(g=String(c).match(Eu))?(this.l=!1,Mt(this,g[1]||"",!0),this.o=mr(g[2]||""),this.g=mr(g[3]||"",!0),ms(this,g[4]),this.h=mr(g[5]||"",!0),Oo(this,g[6]||"",!0),this.m=mr(g[7]||"")):(this.l=!1,this.i=new ys(null,this.l))}fn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(ka(g,di,!0),":");var b=this.g;return(b||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ka(g,di,!0),"@"),c.push(Vr(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(ka(b,b.charAt(0)=="/"?Do:xu,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",ka(b,Tu)),c.join("")},fn.prototype.resolve=function(c){const g=xt(this);let b=!!c.j;b?Mt(g,c.j):b=!!c.o,b?g.o=c.o:b=!!c.g,b?g.g=c.g:b=c.u!=null;var T=c.h;if(b)ms(g,c.u);else if(b=!!c.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var j=g.h.lastIndexOf("/");j!=-1&&(T=g.h.slice(0,j+1)+T)}if(j=T,j==".."||j==".")T="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){T=j.lastIndexOf("/",0)==0,j=j.split("/");const q=[];for(let ae=0;ae<j.length;){const Ne=j[ae++];Ne=="."?T&&ae==j.length&&q.push(""):Ne==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&ae==j.length&&q.push("")):(q.push(Ne),T=!0)}T=q.join("/")}else T=j}return b?g.h=T:b=c.i.toString()!=="",b?Oo(g,Cu(c.i)):b=!!c.m,b&&(g.m=c.m),g};function xt(c){return new fn(c)}function Mt(c,g,b){c.j=b?mr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ms(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function Oo(c,g,b){g instanceof ys?(c.i=g,pi(c.i,c.l)):(b||(g=ka(g,gs)),c.i=new ys(g,c.l))}function Be(c,g,b){c.i.set(g,b)}function wa(c){return Be(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function mr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ka(c,g,b){return typeof c=="string"?(c=encodeURI(c).replace(g,pn),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function pn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var di=/[#\/\?@]/g,xu=/[#\?:]/g,Do=/[#\?]/g,gs=/[#\?@]/g,Tu=/#/g;function ys(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function rn(c){c.g||(c.g=new Map,c.h=0,c.i&&hi(c.i,function(g,b){c.add(decodeURIComponent(g.replace(/\+/g," ")),b)}))}s=ys.prototype,s.add=function(c,g){rn(this),this.i=null,c=vs(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(g),this.h+=1,this};function Su(c,g){rn(c),g=vs(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Mo(c,g){return rn(c),g=vs(c,g),c.g.has(g)}s.forEach=function(c,g){rn(this),this.g.forEach(function(b,T){b.forEach(function(j){c.call(g,j,T,this)},this)},this)};function jo(c,g){rn(c);let b=[];if(typeof g=="string")Mo(c,g)&&(b=b.concat(c.g.get(vs(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)b=b.concat(c[g]);return b}s.set=function(c,g){return rn(this),this.i=null,c=vs(this,c),Mo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},s.get=function(c,g){return c?(c=jo(this,c),c.length>0?String(c[0]):g):g};function fi(c,g,b){Su(c,g),b.length>0&&(c.i=null,c.g.set(vs(c,g),$(b)),c.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let T=0;T<g.length;T++){var b=g[T];const j=Vr(b);b=jo(this,b);for(let q=0;q<b.length;q++){let ae=j;b[q]!==""&&(ae+="="+Vr(b[q])),c.push(ae)}}return this.i=c.join("&")};function Cu(c){const g=new ys;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function vs(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function pi(c,g){g&&!c.j&&(rn(c),c.i=null,c.g.forEach(function(b,T){const j=T.toLowerCase();T!=j&&(Su(this,T),fi(this,j,b))},c)),c.j=g}function Hn(c,g){const b=new Vn;if(d.Image){const T=new Image;T.onload=k(Tn,b,"TestLoadImage: loaded",!0,g,T),T.onerror=k(Tn,b,"TestLoadImage: error",!1,g,T),T.onabort=k(Tn,b,"TestLoadImage: abort",!1,g,T),T.ontimeout=k(Tn,b,"TestLoadImage: timeout",!1,g,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else g(!1)}function Fo(c,g){const b=new Vn,T=new AbortController,j=setTimeout(()=>{T.abort(),Tn(b,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:T.signal}).then(q=>{clearTimeout(j),q.ok?Tn(b,"TestPingServer: ok",!0,g):Tn(b,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),Tn(b,"TestPingServer: error",!1,g)})}function Tn(c,g,b,T,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),T(b)}catch{}}function bs(){this.g=new fu}function gr(c){this.i=c.Sb||null,this.h=c.ab||!1}E(gr,pu),gr.prototype.g=function(){return new Ea(this.i,this.h)};function Ea(c,g){bt.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Ea,bt),s=Ea.prototype,s.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,$n(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||d).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ws(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;mi(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function mi(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?ws(this):$n(this),this.readyState==3&&mi(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,ws(this))},s.Na=function(c){this.g&&(this.response=c,ws(this))},s.ga=function(){this.g&&ws(this)};function ws(c){c.readyState=4,c.l=null,c.j=null,c.B=null,$n(c)}s.setRequestHeader=function(c,g){this.A.append(c,g)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var b=g.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=g.next();return c.join(`\r
`)};function $n(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ea.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Sn(c){let g="";return Ue(c,function(b,T){g+=T,g+=":",g+=b,g+=`\r
`}),g}function xa(c,g,b){e:{for(T in b){var T=!1;break e}T=!0}T||(b=Sn(b),typeof c=="string"?b!=null&&Vr(b):Be(c,g,b))}function Ye(c){bt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Ye,bt);var yr=/^https?$/i,Vo=["POST","PUT"];s=Ye.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,g,b,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_o.g(),this.g.onreadystatechange=A(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(q){Ta(this,q);return}if(c=b||"",b=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var j in T)b.set(j,T[j]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())b.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(b.keys()).find(q=>q.toLowerCase()=="content-type"),j=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Vo,g,void 0)>=0)||T||j||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ae]of b)this.g.setRequestHeader(q,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Ta(this,q)}};function Ta(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Uo(c),Ur(c)}function Uo(c){c.A||(c.A=!0,Rt(c,"complete"),Rt(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Rt(this,"complete"),Rt(this,"abort"),Ur(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ur(this,!0)),Ye.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Sa(this):this.Xa())},s.Xa=function(){Sa(this)};function Sa(c){if(c.h&&typeof u<"u"){if(c.v&&qn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Rt(c,"readystatechange"),qn(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var b;if(!(b=g)){var T;if(T=q===0){let ae=String(c.D).match(Eu)[1]||null;!ae&&d.self&&d.self.location&&(ae=d.self.location.protocol.slice(0,-1)),T=!yr.test(ae?ae.toLowerCase():"")}b=T}if(b)Rt(c,"complete"),Rt(c,"success");else{c.o=6;try{var j=qn(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",Uo(c)}}finally{Ur(c)}}}}function Ur(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,g||Rt(c,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function qn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),nd(g)}};function Ut(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function zr(c){const g={};c=(c.g&&qn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(_(c[T]))continue;var b=bu(c[T]);const j=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const q=g[j]||[];g[j]=q,q.push(b)}Ge(g,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vr(c,g,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||g}function ks(c){this.za=0,this.i=[],this.j=new Vn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vr("baseRetryDelayMs",5e3,c),this.Za=vr("retryDelaySeedMs",1e4,c),this.Ta=vr("forwardChannelMaxRetries",2,c),this.va=vr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Io(c&&c.concurrentRequestLimit),this.Ba=new bs,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ks.prototype,s.ka=8,s.I=1,s.connect=function(c,g,b,T){wt(0),this.W=c,this.H=g||{},b&&T!==void 0&&(this.H.OSID=b,this.H.OAID=T),this.F=this.X,this.J=Pu(this,null,this.W),br(this)};function zo(c){if(gi(c),c.I==3){var g=c.V++,b=xt(c.J);if(Be(b,"SID",c.M),Be(b,"RID",g),Be(b,"TYPE","terminate"),Ca(c,b),g=new Un(c,c.j,g),g.M=2,g.A=wa(xt(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(g.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=g.A,b=!0),b||(g.g=Ou(g.j,null),g.g.ea(g.A)),g.F=Date.now(),cr(g)}Lu(c)}function Es(c){c.g&&($o(c),c.g.cancel(),c.g=null)}function gi(c){Es(c),c.v&&(d.clearTimeout(c.v),c.v=null),vi(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function br(c){if(!Ao(c.h)&&!c.m){c.m=!0;var g=c.Ea;we||S(),re||(we(),re=!0),C.add(g,c),c.D=0}}function yi(c,g){return fr(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=or(y(c.Ea,c,g),Ru(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new Un(this,this.j,c);let q=this.o;if(this.U&&(q?(q=P(q),oe(q,this.U)):q=this.U),this.u!==null||this.R||(j.J=q,q=null),this.S)e:{for(var g=0,b=0;b<this.i.length;b++){t:{var T=this.i[b];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(g+=T,g>4096){g=b;break e}if(g===4096||b===this.i.length-1){g=b+1;break e}}g=1e3}else g=1e3;g=Nu(this,j,g),b=xt(this.J),Be(b,"RID",c),Be(b,"CVER",22),this.G&&Be(b,"X-HTTP-Session-Id",this.G),Ca(this,b),q&&(this.R?g="headers="+Vr(Sn(q))+"&"+g:this.u&&xa(b,this.u,q)),Ro(this.h,j),this.Ra&&Be(b,"TYPE","init"),this.S?(Be(b,"$req",g),Be(b,"SID","null"),j.U=!0,ur(j,b,null)):ur(j,b,g),this.I=2}}else this.I==3&&(c?Ho(this,c):this.i.length==0||Ao(this.h)||Ho(this))};function Ho(c,g){var b;g?b=g.l:b=c.V++;const T=xt(c.J);Be(T,"SID",c.M),Be(T,"RID",b),Be(T,"AID",c.K),Ca(c,T),c.u&&c.o&&xa(T,c.u,c.o),b=new Un(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Nu(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ro(c.h,b),ur(b,T,g)}function Ca(c,g){c.H&&Ue(c.H,function(b,T){Be(g,T,b)}),c.l&&Ue({},function(b,T){Be(g,T,b)})}function Nu(c,g,b){b=Math.min(c.i.length,b);const T=c.l?y(c.l.Ka,c.l,c):null;e:{var j=c.i;let Ne=-1;for(;;){const mt=["count="+b];Ne==-1?b>0?(Ne=j[0].g,mt.push("ofs="+Ne)):Ne=0:mt.push("ofs="+Ne);let Ke=!0;for(let ot=0;ot<b;ot++){var q=j[ot].g;const Cn=j[ot].map;if(q-=Ne,q<0)Ne=Math.max(0,j[ot].g-100),Ke=!1;else try{q="req"+q+"_"||"";try{var ae=Cn instanceof Map?Cn:Object.entries(Cn);for(const[$r,Gn]of ae){let Bn=Gn;p(Gn)&&(Bn=ps(Gn)),mt.push(q+$r+"="+encodeURIComponent(Bn))}}catch($r){throw mt.push(q+"type="+encodeURIComponent("_badmap")),$r}}catch{T&&T(Cn)}}if(Ke){ae=mt.join("&");break e}}ae=void 0}return c=c.i.splice(0,b),g.G=c,ae}function _u(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;we||S(),re||(we(),re=!0),C.add(g,c),c.A=0}}function Na(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=or(y(c.Da,c),Ru(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Iu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=or(y(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Es(this),Iu(this))};function $o(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Iu(c){c.g=new Un(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=xt(c.na);Be(g,"RID","rpc"),Be(g,"SID",c.M),Be(g,"AID",c.K),Be(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Be(g,"TO",c.ia),Be(g,"TYPE","xmlhttp"),Ca(c,g),c.u&&c.o&&xa(g,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=wa(xt(g)),b.u=null,b.R=!0,ui(b,c)}s.Va=function(){this.C!=null&&(this.C=null,Es(this),Na(this),wt(19))};function vi(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Au(c,g){var b=null;if(c.g==g){vi(c),$o(c),c.g=null;var T=2}else if(pr(c.h,g))b=g.G,Lo(c.h,g),T=1;else return;if(c.I!=0){if(g.o)if(T==1){b=g.u?g.u.length:0,g=Date.now()-g.F;var j=c.D;T=li(),Rt(T,new ir(T,b)),br(c)}else _u(c);else if(j=g.m,j==3||j==0&&g.X>0||!(T==1&&yi(c,g)||T==2&&Na(c)))switch(b&&b.length>0&&(g=c.h,g.i=g.i.concat(b)),j){case 1:wr(c,5);break;case 4:wr(c,10);break;case 3:wr(c,6);break;default:wr(c,2)}}}function Ru(c,g){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*g}function wr(c,g){if(c.j.info("Error code "+g),g==2){var b=y(c.bb,c),T=c.Ua;const j=!T;T=new fn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Mt(T,"https"),wa(T),j?Hn(T.toString(),b):Fo(T.toString(),b)}else wt(2);c.I=0,c.l&&c.l.pa(g),Lu(c),gi(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Lu(c){if(c.I=0,c.ja=[],c.l){const g=Po(c.h);(g.length!=0||c.i.length!=0)&&(H(c.ja,g),H(c.ja,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.oa()}}function Pu(c,g,b){var T=b instanceof fn?xt(b):new fn(b);if(T.g!="")g&&(T.g=g+"."+T.g),ms(T,T.u);else{var j=d.location;T=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;const q=new fn(null);T&&Mt(q,T),g&&(q.g=g),j&&ms(q,j),b&&(q.h=b),T=q}return b=c.G,g=c.wa,b&&g&&Be(T,b,g),Be(T,"VER",c.ka),Ca(c,T),T}function Ou(c,g,b){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new Ye(new gr({ab:b})):new Ye(c.ma),g.Fa(c.L),g}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}s=Du.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function xs(){}xs.prototype.g=function(c,g){return new tn(c,g)};function tn(c,g){bt.call(this),this.g=new ks(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!_(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!_(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Hr(this)}E(tn,bt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){zo(this.g)},tn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=ps(c),c=b);g.i.push(new Et(g.Ya++,c)),g.I==3&&br(g)},tn.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,tn.Z.N.call(this)};function Mu(c){Vt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const b in g){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}E(Mu,Vt);function ju(){En.call(this),this.status=1}E(ju,En);function Hr(c){this.g=c}E(Hr,Du),Hr.prototype.ra=function(){Rt(this.g,"a")},Hr.prototype.qa=function(c){Rt(this.g,new Mu(c))},Hr.prototype.pa=function(c){Rt(this.g,new ju)},Hr.prototype.oa=function(){Rt(this.g,"b")},xs.prototype.createWebChannel=xs.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,Zw=function(){return new xs},Jw=function(){return li()},Yw=pt,Np={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},va.NO_ERROR=0,va.TIMEOUT=8,va.HTTP_ERROR=6,Jc=va,No.COMPLETE="complete",Xw=No,mu.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,Ll=mu,Ye.prototype.listenOnce=Ye.prototype.K,Ye.prototype.getLastError=Ye.prototype.Ha,Ye.prototype.getLastErrorCode=Ye.prototype.ya,Ye.prototype.getStatus=Ye.prototype.ca,Ye.prototype.getResponseJson=Ye.prototype.La,Ye.prototype.getResponseText=Ye.prototype.la,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Fa,Qw=Ye}).apply(typeof Hc<"u"?Hc:typeof self<"u"?self:typeof window<"u"?window:{});/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let go="12.8.0";function IN(s){go=s}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Wa=new tm("@firebase/firestore");function Qi(){return Wa.logLevel}function le(s,...e){if(Wa.logLevel<=Oe.DEBUG){const n=e.map(sm);Wa.debug(`Firestore (${go}): ${s}`,...n)}}function cs(s,...e){if(Wa.logLevel<=Oe.ERROR){const n=e.map(sm);Wa.error(`Firestore (${go}): ${s}`,...n)}}function oo(s,...e){if(Wa.logLevel<=Oe.WARN){const n=e.map(sm);Wa.warn(`Firestore (${go}): ${s}`,...n)}}function sm(s){if(typeof s=="string")return s;try{return(function(e){return JSON.stringify(e)})(s)}catch{return s}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function be(s,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,e1(s,a,n)}function e1(s,e,n){let a=`FIRESTORE (${go}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw cs(a),new Error(a)}function qe(s,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,s||e1(e,o,a)}function Te(s,e){return s}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends jr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class na{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class t1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Yt.UNAUTHENTICATED)))}shutdown(){}}class RN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class LN{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0,42304);let a=this.i;const o=m=>this.i!==a?(a=this.i,n(m)):Promise.resolve();let u=new na;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new na,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const m=u;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},p=m=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((m=>p(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new na)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(qe(typeof a.accessToken=="string",31837,{l:a}),new t1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new Yt(e)}}class PN{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class ON{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new PN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Yt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class zb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,On(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){qe(this.o===void 0,3512);const a=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new zb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new zb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function MN(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<s;a++)n[a]=Math.floor(256*Math.random());return n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class am{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=MN(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function De(s,e){return s<e?-1:s>e?1:0}function _p(s,e){const n=Math.min(s.length,e.length);for(let a=0;a<n;a++){const o=s.charAt(a),u=e.charAt(a);if(o!==u)return cp(o)===cp(u)?De(o,u):cp(o)?1:-1}return De(s.length,e.length)}const jN=55296,FN=57343;function cp(s){const e=s.charCodeAt(0);return e>=jN&&e<=FN}function lo(s,e,n){return s.length===e.length&&s.every(((a,o)=>n(a,e[o])))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Hb="__name__";class Sr{constructor(e,n,a){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&be(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Sr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Sr?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=Sr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return De(e.length,n.length)}static compareSegments(e,n){const a=Sr.isNumericId(e),o=Sr.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?Sr.extractNumericId(e).compare(Sr.extractNumericId(n)):_p(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ta.fromString(e.substring(4,e.length-2))}}class st extends Sr{construct(e,n,a){return new st(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new fe(te.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((o=>o.length>0)))}return new st(n)}static emptyPath(){return new st([])}}const VN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends Sr{construct(e,n,a){return new Bt(e,n,a)}static isValidIdentifier(e){return VN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Hb}static keyField(){return new Bt([Hb])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new fe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new fe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=m,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(u(),o++)}if(u(),d)throw new fe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ge{constructor(e){this.path=e}static fromPath(e){return new ge(st.fromString(e))}static fromName(e){return new ge(st.fromString(e).popFirst(5))}static empty(){return new ge(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new st(e.slice()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function n1(s,e,n){if(!n)throw new fe(te.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function UN(s,e,n,a){if(e===!0&&a===!0)throw new fe(te.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function $b(s){if(!ge.isDocumentKey(s))throw new fe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function qb(s){if(ge.isDocumentKey(s))throw new fe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function r1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function im(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":be(12329,{type:typeof s})}function $l(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new fe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=im(s);throw new fe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function It(s,e){const n={typeString:s};return e&&(n.value=e),n}function su(s,e){if(!r1(s))throw new fe(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){n=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new fe(te.INVALID_ARGUMENT,n);return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Gb=-62135596800,Bb=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*Bb);return new at(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Gb)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Bb}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(su(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Gb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:It("string",at._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new at(0,0))}static max(){return new Ee(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ql=-1;function zN(s,e){const n=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(a===1e9?new at(n+1,0):new at(n,a));return new ia(o,ge.empty(),e)}function HN(s){return new ia(s.readTime,s.key,ql)}class ia{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new ia(Ee.min(),ge.empty(),ql)}static max(){return new ia(Ee.max(),ge.empty(),ql)}}function $N(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(s.documentKey,e.documentKey),n!==0?n:De(s.largestBatchId,e.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const qN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function yo(s){if(s.code!==te.FAILED_PRECONDITION||s.message!==qN)throw s;le("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,a)=>{n(e)}))}static reject(e){return new ee(((n,a)=>{a(e)}))}static waitFor(e){return new ee(((n,a)=>{let o=0,u=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++u,d&&u===o&&n()}),(m=>a(m)))})),d=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const a of e)n=n.next((o=>o?ee.resolve(o):a()));return n}static forEach(e,n){const a=[];return e.forEach(((o,u)=>{a.push(n.call(this,o,u))})),this.waitFor(a)}static mapArray(e,n){return new ee(((a,o)=>{const u=e.length,d=new Array(u);let p=0;for(let m=0;m<u;m++){const y=m;n(e[y]).next((k=>{d[y]=k,++p,p===u&&a(d)}),(k=>o(k)))}}))}static doWhile(e,n){return new ee(((a,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):a()};u()}))}}function BN(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vo(s){return s.name==="IndexedDbTransactionError"}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Mh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Mh.ce=-1;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const om=-1;function jh(s){return s==null}function dh(s){return s===0&&1/s==-1/0}function KN(s){return typeof s=="number"&&Number.isInteger(s)&&!dh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const s1="";function WN(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=Kb(e)),e=QN(s.get(n),e);return Kb(e)}function QN(s,e){let n=e;const a=s.length;for(let o=0;o<a;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case s1:n+="";break;default:n+=u}}return n}function Kb(s){return s+s1+""}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Wb(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function ei(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function a1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ht{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $c(this.root,e,this.comparator,!1)}getReverseIterator(){return new $c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $c(this.root,e,this.comparator,!0)}}class $c{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new Gt(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(s,e,n,a,o){return this}insert(s,e,n){return new Gt(s,e)}remove(s,e){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ot{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Qb(this.data.getIterator())}getIteratorFrom(e){return new Qb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class Qb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yn{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new Yn([])}unionWith(e){let n=new Ot(Bt.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return lo(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class i1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new i1("Invalid base64 string: "+o):o}})(e);return new Wt(n)}static fromUint8Array(e){const n=(function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o})(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const n=new Uint8Array(e.length);for(let a=0;a<e.length;a++)n[a]=e.charCodeAt(a);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const XN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oa(s){if(qe(!!s,39018),typeof s=="string"){let e=0;const n=XN.exec(s);if(qe(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:vt(s.seconds),nanos:vt(s.nanos)}}function vt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function la(s){return typeof s=="string"?Wt.fromBase64String(s):Wt.fromUint8Array(s)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const o1="server_timestamp",l1="__type__",u1="__previous_value__",c1="__local_write_time__";function lm(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)==null?void 0:e.fields)||{})[l1])==null?void 0:n.stringValue)===o1}function Fh(s){const e=s.mapValue.fields[u1];return lm(e)?Fh(e):e}function Gl(s){const e=oa(s.mapValue.fields[c1].timestampValue);return new at(e.seconds,e.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class YN{constructor(e,n,a,o,u,d,p,m,y,k,E){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=y,this.isUsingEmulator=k,this.apiKey=E}}const fh="(default)";class Bl{constructor(e,n){this.projectId=e,this.database=n||fh}static empty(){return new Bl("","")}get isDefaultDatabase(){return this.database===fh}isEqual(e){return e instanceof Bl&&e.projectId===this.projectId&&e.database===this.database}}function JN(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new fe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(s.options.projectId,e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const h1="__type__",ZN="__max__",qc={mapValue:{}},d1="__vector__",ph="value";function ua(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?lm(s)?4:t_(s)?9007199254740991:e_(s)?10:11:be(28295,{value:s})}function Pr(s,e){if(s===e)return!0;const n=ua(s);if(n!==ua(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Gl(s).isEqual(Gl(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=oa(a.timestampValue),d=oa(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(a,o){return la(a.bytesValue).isEqual(la(o.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(a,o){return vt(a.geoPointValue.latitude)===vt(o.geoPointValue.latitude)&&vt(a.geoPointValue.longitude)===vt(o.geoPointValue.longitude)})(s,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return vt(a.integerValue)===vt(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=vt(a.doubleValue),d=vt(o.doubleValue);return u===d?dh(u)===dh(d):isNaN(u)&&isNaN(d)}return!1})(s,e);case 9:return lo(s.arrayValue.values||[],e.arrayValue.values||[],Pr);case 10:case 11:return(function(a,o){const u=a.mapValue.fields||{},d=o.mapValue.fields||{};if(Wb(u)!==Wb(d))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(d[p]===void 0||!Pr(u[p],d[p])))return!1;return!0})(s,e);default:return be(52216,{left:s})}}function Kl(s,e){return(s.values||[]).find((n=>Pr(n,e)))!==void 0}function uo(s,e){if(s===e)return 0;const n=ua(s),a=ua(e);if(n!==a)return De(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(s.booleanValue,e.booleanValue);case 2:return(function(o,u){const d=vt(o.integerValue||o.doubleValue),p=vt(u.integerValue||u.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(s,e);case 3:return Xb(s.timestampValue,e.timestampValue);case 4:return Xb(Gl(s),Gl(e));case 5:return _p(s.stringValue,e.stringValue);case 6:return(function(o,u){const d=la(o),p=la(u);return d.compareTo(p)})(s.bytesValue,e.bytesValue);case 7:return(function(o,u){const d=o.split("/"),p=u.split("/");for(let m=0;m<d.length&&m<p.length;m++){const y=De(d[m],p[m]);if(y!==0)return y}return De(d.length,p.length)})(s.referenceValue,e.referenceValue);case 8:return(function(o,u){const d=De(vt(o.latitude),vt(u.latitude));return d!==0?d:De(vt(o.longitude),vt(u.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Yb(s.arrayValue,e.arrayValue);case 10:return(function(o,u){var d,p,m,y;const k=o.fields||{},E=u.fields||{},A=(d=k[ph])==null?void 0:d.arrayValue,$=(p=E[ph])==null?void 0:p.arrayValue,H=De(((m=A==null?void 0:A.values)==null?void 0:m.length)||0,((y=$==null?void 0:$.values)==null?void 0:y.length)||0);return H!==0?H:Yb(A,$)})(s.mapValue,e.mapValue);case 11:return(function(o,u){if(o===qc.mapValue&&u===qc.mapValue)return 0;if(o===qc.mapValue)return 1;if(u===qc.mapValue)return-1;const d=o.fields||{},p=Object.keys(d),m=u.fields||{},y=Object.keys(m);p.sort(),y.sort();for(let k=0;k<p.length&&k<y.length;++k){const E=_p(p[k],y[k]);if(E!==0)return E;const A=uo(d[p[k]],m[y[k]]);if(A!==0)return A}return De(p.length,y.length)})(s.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function Xb(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return De(s,e);const n=oa(s),a=oa(e),o=De(n.seconds,a.seconds);return o!==0?o:De(n.nanos,a.nanos)}function Yb(s,e){const n=s.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=uo(n[o],a[o]);if(u)return u}return De(n.length,a.length)}function co(s){return Ip(s)}function Ip(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(e){const n=oa(e);return`time(${n.seconds},${n.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(e){return la(e).toBase64()})(s.bytesValue):"referenceValue"in s?(function(e){return ge.fromName(e).toString()})(s.referenceValue):"geoPointValue"in s?(function(e){return`geo(${e.latitude},${e.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(e){let n="[",a=!0;for(const o of e.values||[])a?a=!1:n+=",",n+=Ip(o);return n+"]"})(s.arrayValue):"mapValue"in s?(function(e){const n=Object.keys(e.fields||{}).sort();let a="{",o=!0;for(const u of n)o?o=!1:a+=",",a+=`${u}:${Ip(e.fields[u])}`;return a+"}"})(s.mapValue):be(61005,{value:s})}function Zc(s){switch(ua(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fh(s);return e?16+Zc(e):16;case 5:return 2*s.stringValue.length;case 6:return la(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((a,o)=>a+Zc(o)),0)})(s.arrayValue);case 10:case 11:return(function(n){let a=0;return ei(n.fields,((o,u)=>{a+=o.length+Zc(u)})),a})(s.mapValue);default:throw be(13486,{value:s})}}function Ap(s){return!!s&&"integerValue"in s}function um(s){return!!s&&"arrayValue"in s}function Jb(s){return!!s&&"nullValue"in s}function Zb(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function eh(s){return!!s&&"mapValue"in s}function e_(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)==null?void 0:e.fields)||{})[h1])==null?void 0:n.stringValue)===d1}function Ml(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return ei(s.mapValue.fields,((n,a)=>e.mapValue.fields[n]=Ml(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ml(s.arrayValue.values[n]);return e}return{...s}}function t_(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===ZN}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!eh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ml(n)}setAll(e){let n=Bt.emptyPath(),a={},o=[];e.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const m=this.getFieldsMap(n);this.applyChanges(m,a,o),a={},o=[],n=p.popLast()}d?a[p.lastSegment()]=Ml(d):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Pr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){ei(n,((o,u)=>e[o]=u));for(const o of a)delete e[o]}clone(){return new Dn(Ml(this.value))}}function f1(s){const e=[];return ei(s.fields,((n,a)=>{const o=new Bt([n]);if(eh(a)){const u=f1(a.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)})),new Yn(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Jt{constructor(e,n,a,o,u,d,p){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Jt(e,0,Ee.min(),Ee.min(),Ee.min(),Dn.empty(),0)}static newFoundDocument(e,n,a,o){return new Jt(e,1,n,Ee.min(),a,o,0)}static newNoDocument(e,n){return new Jt(e,2,n,Ee.min(),Ee.min(),Dn.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,Ee.min(),Ee.min(),Dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mh{constructor(e,n){this.position=e,this.inclusive=n}}function e0(s,e,n){let a=0;for(let o=0;o<s.position.length;o++){const u=e[o],d=s.position[o];if(u.field.isKeyField()?a=ge.comparator(ge.fromName(d.referenceValue),n.key):a=uo(d,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function t0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Pr(s.position[n],e.position[n]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gh{constructor(e,n="asc"){this.field=e,this.dir=n}}function n_(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class p1{}class Pt extends p1{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new s_(e,n,a):n==="array-contains"?new o_(e,a):n==="in"?new l_(e,a):n==="not-in"?new u_(e,a):n==="array-contains-any"?new c_(e,a):new Pt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new a_(e,a):new i_(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(uo(n,this.value)):n!==null&&ua(this.value)===ua(n)&&this.matchesComparison(uo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Or extends p1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Or(e,n)}matches(e){return m1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function m1(s){return s.op==="and"}function g1(s){return r_(s)&&m1(s)}function r_(s){for(const e of s.filters)if(e instanceof Or)return!1;return!0}function Rp(s){if(s instanceof Pt)return s.field.canonicalString()+s.op.toString()+co(s.value);if(g1(s))return s.filters.map((e=>Rp(e))).join(",");{const e=s.filters.map((n=>Rp(n))).join(",");return`${s.op}(${e})`}}function y1(s,e){return s instanceof Pt?(function(n,a){return a instanceof Pt&&n.op===a.op&&n.field.isEqual(a.field)&&Pr(n.value,a.value)})(s,e):s instanceof Or?(function(n,a){return a instanceof Or&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce(((o,u,d)=>o&&y1(u,a.filters[d])),!0):!1})(s,e):void be(19439)}function v1(s){return s instanceof Pt?(function(e){return`${e.field.canonicalString()} ${e.op} ${co(e.value)}`})(s):s instanceof Or?(function(e){return e.op.toString()+" {"+e.getFilters().map(v1).join(" ,")+"}"})(s):"Filter"}class s_ extends Pt{constructor(e,n,a){super(e,n,a),this.key=ge.fromName(a.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class a_ extends Pt{constructor(e,n){super(e,"in",n),this.keys=b1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class i_ extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=b1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function b1(s,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((a=>ge.fromName(a.referenceValue)))}class o_ extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return um(n)&&Kl(n.arrayValue,this.value)}}class l_ extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Kl(this.value.arrayValue,n)}}class u_ extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Kl(this.value.arrayValue,n)}}class c_ extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!um(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>Kl(this.value.arrayValue,a)))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class h_{constructor(e,n=null,a=[],o=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function n0(s,e=null,n=[],a=[],o=null,u=null,d=null){return new h_(s,e,n,a,o,u,d)}function cm(s){const e=Te(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>Rp(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(o){return o.field.canonicalString()+o.dir})(a))).join(","),jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>co(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>co(a))).join(",")),e.Te=n}return e.Te}function hm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!n_(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!y1(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!t0(s.startAt,e.startAt)&&t0(s.endAt,e.endAt)}function Lp(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vh{constructor(e,n=null,a=[],o=[],u=null,d="F",p=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function d_(s,e,n,a,o,u,d,p){return new Vh(s,e,n,a,o,u,d,p)}function w1(s){return new Vh(s)}function r0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function f_(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function p_(s){return s.collectionGroup!==null}function jl(s){const e=Te(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new Ot(Bt.comparator);return o.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(u=u.add(p.field))}))})),u})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new gh(o,a))})),n.has(Bt.keyField().canonicalString())||e.Ie.push(new gh(Bt.keyField(),a))}return e.Ie}function Nr(s){const e=Te(s);return e.Ee||(e.Ee=m_(e,jl(s))),e.Ee}function m_(s,e){if(s.limitType==="F")return n0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new gh(o.field,u)}));const n=s.endAt?new mh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new mh(s.startAt.position,s.startAt.inclusive):null;return n0(s.path,s.collectionGroup,e,s.filters,s.limit,n,a)}}function Pp(s,e,n){return new Vh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Uh(s,e){return hm(Nr(s),Nr(e))&&s.limitType===e.limitType}function k1(s){return`${cm(Nr(s))}|lt:${s.limitType}`}function Xi(s){return`Query(target=${(function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map((a=>v1(a))).join(", ")}]`),jh(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map((a=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(a))).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>co(a))).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>co(a))).join(",")),`Target(${n})`})(Nr(s))}; limitType=${s.limitType})`}function zh(s,e){return e.isFoundDocument()&&(function(n,a){const o=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):ge.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)})(s,e)&&(function(n,a){for(const o of jl(n))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(s,e)&&(function(n,a){for(const o of n.filters)if(!o.matches(a))return!1;return!0})(s,e)&&(function(n,a){return!(n.startAt&&!(function(o,u,d){const p=e0(o,u,d);return o.inclusive?p<=0:p<0})(n.startAt,jl(n),a)||n.endAt&&!(function(o,u,d){const p=e0(o,u,d);return o.inclusive?p>=0:p>0})(n.endAt,jl(n),a))})(s,e)}function g_(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function E1(s){return(e,n)=>{let a=!1;for(const o of jl(s)){const u=y_(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function y_(s,e,n){const a=s.field.isKeyField()?ge.comparator(e.key,n.key):(function(o,u,d){const p=u.data.field(o),m=d.data.field(o);return p!==null&&m!==null?uo(p,m):be(42886)})(s.field,e,n);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return be(19790,{direction:s.dir})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ti{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ei(this.inner,((n,a)=>{for(const[o,u]of a)e(o,u)}))}isEmpty(){return a1(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const v_=new ht(ge.comparator);function hs(){return v_}const x1=new ht(ge.comparator);function Pl(...s){let e=x1;for(const n of s)e=e.insert(n.key,n);return e}function T1(s){let e=x1;return s.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function Ga(){return Fl()}function S1(){return Fl()}function Fl(){return new ti((s=>s.toString()),((s,e)=>s.isEqual(e)))}const b_=new ht(ge.comparator),w_=new Ot(ge.comparator);function Me(...s){let e=w_;for(const n of s)e=e.add(n);return e}const k_=new Ot(De);function E_(){return k_}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function dm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(e)?"-0":e}}function C1(s){return{integerValue:""+s}}function x_(s,e){return KN(e)?C1(e):dm(s,e)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Hh{constructor(){this._=void 0}}function T_(s,e,n){return s instanceof yh?(function(a,o){const u={fields:{[l1]:{stringValue:o1},[c1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&lm(o)&&(o=Fh(o)),o&&(u.fields[u1]=o),{mapValue:u}})(n,e):s instanceof Wl?_1(s,e):s instanceof Ql?I1(s,e):(function(a,o){const u=N1(a,o),d=s0(u)+s0(a.Ae);return Ap(u)&&Ap(a.Ae)?C1(d):dm(a.serializer,d)})(s,e)}function S_(s,e,n){return s instanceof Wl?_1(s,e):s instanceof Ql?I1(s,e):n}function N1(s,e){return s instanceof vh?(function(n){return Ap(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(e)?e:{integerValue:0}:null}class yh extends Hh{}class Wl extends Hh{constructor(e){super(),this.elements=e}}function _1(s,e){const n=A1(e);for(const a of s.elements)n.some((o=>Pr(o,a)))||n.push(a);return{arrayValue:{values:n}}}class Ql extends Hh{constructor(e){super(),this.elements=e}}function I1(s,e){let n=A1(e);for(const a of s.elements)n=n.filter((o=>!Pr(o,a)));return{arrayValue:{values:n}}}class vh extends Hh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function s0(s){return vt(s.integerValue||s.doubleValue)}function A1(s){return um(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function C_(s,e){return s.field.isEqual(e.field)&&(function(n,a){return n instanceof Wl&&a instanceof Wl||n instanceof Ql&&a instanceof Ql?lo(n.elements,a.elements,Pr):n instanceof vh&&a instanceof vh?Pr(n.Ae,a.Ae):n instanceof yh&&a instanceof yh})(s.transform,e.transform)}class N_{constructor(e,n){this.version=e,this.transformResults=n}}class _r{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _r}static exists(e){return new _r(void 0,e)}static updateTime(e){return new _r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class $h{}function R1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new fm(s.key,_r.none()):new au(s.key,s.data,_r.none());{const n=s.data,a=Dn.empty();let o=new Ot(Bt.comparator);for(let u of e.fields)if(!o.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?a.delete(u):a.set(u,d),o=o.add(u)}return new ni(s.key,a,new Yn(o.toArray()),_r.none())}}function __(s,e,n){s instanceof au?(function(a,o,u){const d=a.value.clone(),p=i0(a.fieldTransforms,o,u.transformResults);d.setAll(p),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(s,e,n):s instanceof ni?(function(a,o,u){if(!th(a.precondition,o))return void o.convertToUnknownDocument(u.version);const d=i0(a.fieldTransforms,o,u.transformResults),p=o.data;p.setAll(L1(a)),p.setAll(d),o.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(s,e,n):(function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Vl(s,e,n,a){return s instanceof au?(function(o,u,d,p){if(!th(o.precondition,u))return d;const m=o.value.clone(),y=o0(o.fieldTransforms,p,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(s,e,n,a):s instanceof ni?(function(o,u,d,p){if(!th(o.precondition,u))return d;const m=o0(o.fieldTransforms,p,u),y=u.data;return y.setAll(L1(o)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((k=>k.field)))})(s,e,n,a):(function(o,u,d){return th(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(s,e,n)}function I_(s,e){let n=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),u=N1(a.transform,o||null);u!=null&&(n===null&&(n=Dn.empty()),n.set(a.field,u))}return n||null}function a0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&lo(n,a,((o,u)=>C_(o,u)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class au extends $h{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ni extends $h{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function L1(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=s.data.field(n);e.set(n,a)}})),e}function i0(s,e,n){const a=new Map;qe(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let o=0;o<n.length;o++){const u=s[o],d=u.transform,p=e.data.field(u.field);a.set(u.field,S_(d,p,n[o]))}return a}function o0(s,e,n){const a=new Map;for(const o of s){const u=o.transform,d=n.data.field(o.field);a.set(o.field,T_(u,d,e))}return a}class fm extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class A_ extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class R_{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&__(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Vl(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Vl(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=S1();return this.mutations.forEach((o=>{const u=e.get(o.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=n.has(o.key)?null:p;const m=R1(d,p);m!==null&&a.set(o.key,m),d.isValidDocument()||d.convertToNoDocument(Ee.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Me())}isEqual(e){return this.batchId===e.batchId&&lo(this.mutations,e.mutations,((n,a)=>a0(n,a)))&&lo(this.baseMutations,e.baseMutations,((n,a)=>a0(n,a)))}}class pm{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){qe(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return b_})();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,a[d].version);return new pm(e,n,a,o)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class L_{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class P_{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var _t,Ve;function O_(s){switch(s){case te.OK:return be(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return be(15467,{code:s})}}function P1(s){if(s===void 0)return cs("GRPC error has no .code"),te.UNKNOWN;switch(s){case _t.OK:return te.OK;case _t.CANCELLED:return te.CANCELLED;case _t.UNKNOWN:return te.UNKNOWN;case _t.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case _t.INTERNAL:return te.INTERNAL;case _t.UNAVAILABLE:return te.UNAVAILABLE;case _t.UNAUTHENTICATED:return te.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case _t.NOT_FOUND:return te.NOT_FOUND;case _t.ALREADY_EXISTS:return te.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return te.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case _t.ABORTED:return te.ABORTED;case _t.OUT_OF_RANGE:return te.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return te.UNIMPLEMENTED;case _t.DATA_LOSS:return te.DATA_LOSS;default:return be(39323,{code:s})}}(Ve=_t||(_t={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function D_(){return new TextEncoder}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const M_=new ta([4294967295,4294967295],0);function l0(s){const e=D_().encode(s),n=new Ww;return n.update(e),new Uint8Array(n.digest())}function u0(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ta([n,a],0),new ta([o,u],0)]}class mm{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Ol(`Invalid padding: ${n}`);if(a<0)throw new Ol(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ta.fromNumber(this.ge)}ye(e,n,a){let o=e.add(n.multiply(ta.fromNumber(a)));return o.compare(M_)===1&&(o=new ta([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=l0(e),[a,o]=u0(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(a,o,u);if(!this.we(d))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new mm(u,o,n);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const n=l0(e),[a,o]=u0(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(a,o,u);this.be(d)}}be(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qh{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,iu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new qh(Ee.min(),o,new ht(De),hs(),Me())}}class iu{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new iu(a,n,Me(),Me(),Me())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nh{constructor(e,n,a,o){this.Se=e,this.removedTargetIds=n,this.key=a,this.De=o}}class O1{constructor(e,n){this.targetId=e,this.Ce=n}}class D1{constructor(e,n,a=Wt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class c0{constructor(){this.ve=0,this.Fe=h0(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Me(),n=Me(),a=Me();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:be(38017,{changeType:u})}})),new iu(this.Me,this.xe,e,n,a)}Ke(){this.Oe=!1,this.Fe=h0()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,qe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class j_{constructor(e){this.Ge=e,this.ze=new Map,this.je=hs(),this.He=Gc(),this.Je=Gc(),this.Ze=new ht(De)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,a=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Lp(u))if(a===0){const d=new ge(u.path);this.et(n,d,Jt.newNoDocument(d,Ee.min()))}else qe(a===1,20013,{expectedCount:a});else{const d=this._t(n);if(d!==a){const p=this.ut(e),m=p?this.ct(p,e,d):1;if(m!==0){this.it(n);const y=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let d,p;try{d=la(a).toUint8Array()}catch(m){if(m instanceof i1)return oo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new mm(d,o,u)}catch(m){return oo(m instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.ge===0?null:p}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let o=0;return a.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&Lp(p.target)){const m=new ge(p.target.path);this.It(m).has(d)||this.Et(d,m)||this.et(d,m,Jt.newNoDocument(m,e))}u.Be&&(n.set(d,u.ke()),u.Ke())}}));let a=Me();this.Je.forEach(((u,d)=>{let p=!0;d.forEachWhile((m=>{const y=this.ot(m);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const o=new qh(e,n,this.Ze,this.je,a);return this.je=hs(),this.He=Gc(),this.Je=Gc(),this.Ze=new ht(De),o}Ye(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,a),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new c0,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ot(De),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ot(De),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new c0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Gc(){return new ht(ge.comparator)}function h0(){return new ht(ge.comparator)}const F_={asc:"ASCENDING",desc:"DESCENDING"},V_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},U_={and:"AND",or:"OR"};class z_{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Op(s,e){return s.useProto3Json||jh(e)?e:{value:e}}function bh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function M1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function H_(s,e){return bh(s,e.toTimestamp())}function Ir(s){return qe(!!s,49232),Ee.fromTimestamp((function(e){const n=oa(e);return new at(n.seconds,n.nanos)})(s))}function gm(s,e){return Dp(s,e).canonicalString()}function Dp(s,e){const n=(function(a){return new st(["projects",a.projectId,"databases",a.database])})(s).child("documents");return e===void 0?n:n.child(e)}function j1(s){const e=st.fromString(s);return qe(H1(e),10190,{key:e.toString()}),e}function Mp(s,e){return gm(s.databaseId,e.path)}function hp(s,e){const n=j1(e);if(n.get(1)!==s.databaseId.projectId)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ge(V1(n))}function F1(s,e){return gm(s.databaseId,e)}function $_(s){const e=j1(s);return e.length===4?st.emptyPath():V1(e)}function jp(s){return new st(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function V1(s){return qe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function d0(s,e,n){return{name:Mp(s,e),fields:n.value.mapValue.fields}}function q_(s,e){let n;if("targetChange"in e){e.targetChange;const a=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:be(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(m,y){return m.useProto3Json?(qe(y===void 0||typeof y=="string",58123),Wt.fromBase64String(y||"")):(qe(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Wt.fromUint8Array(y||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(m){const y=m.code===void 0?te.UNKNOWN:P1(m.code);return new fe(y,m.message||"")})(d);n=new D1(a,o,u,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=hp(s,a.document.name),u=Ir(a.document.updateTime),d=a.document.createTime?Ir(a.document.createTime):Ee.min(),p=new Dn({mapValue:{fields:a.document.fields}}),m=Jt.newFoundDocument(o,u,d,p),y=a.targetIds||[],k=a.removedTargetIds||[];n=new nh(y,k,m.key,m)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=hp(s,a.document),u=a.readTime?Ir(a.readTime):Ee.min(),d=Jt.newNoDocument(o,u),p=a.removedTargetIds||[];n=new nh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=hp(s,a.document),u=a.removedTargetIds||[];n=new nh([],u,o,null)}else{if(!("filter"in e))return be(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,d=new P_(o,u),p=a.targetId;n=new O1(p,d)}}return n}function G_(s,e){let n;if(e instanceof au)n={update:d0(s,e.key,e.value)};else if(e instanceof fm)n={delete:Mp(s,e.key)};else if(e instanceof ni)n={update:d0(s,e.key,e.data),updateMask:eI(e.fieldMask)};else{if(!(e instanceof A_))return be(16599,{dt:e.type});n={verify:Mp(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(o,u){const d=u.transform;if(d instanceof yh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Wl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ql)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof vh)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw be(20930,{transform:u.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:H_(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:be(27497)})(s,e.precondition)),n}function B_(s,e){return s&&s.length>0?(qe(e!==void 0,14353),s.map((n=>(function(a,o){let u=a.updateTime?Ir(a.updateTime):Ir(o);return u.isEqual(Ee.min())&&(u=Ir(o)),new N_(u,a.transformResults||[])})(n,e)))):[]}function K_(s,e){return{documents:[F1(s,e.path)]}}function W_(s,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=F1(s,o);const u=(function(m){if(m.length!==0)return z1(Or.create(m,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(m){if(m.length!==0)return m.map((y=>(function(k){return{field:Yi(k.field),direction:Y_(k.dir)}})(y)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=Op(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:o}}function Q_(s){let e=$_(s.parent);const n=s.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){qe(a===1,65062);const k=n.from[0];k.allDescendants?o=k.collectionId:e=e.child(k.collectionId)}let u=[];n.where&&(u=(function(k){const E=U1(k);return E instanceof Or&&g1(E)?E.getFilters():[E]})(n.where));let d=[];n.orderBy&&(d=(function(k){return k.map((E=>(function(A){return new gh(Ji(A.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(E)))})(n.orderBy));let p=null;n.limit&&(p=(function(k){let E;return E=typeof k=="object"?k.value:k,jh(E)?null:E})(n.limit));let m=null;n.startAt&&(m=(function(k){const E=!!k.before,A=k.values||[];return new mh(A,E)})(n.startAt));let y=null;return n.endAt&&(y=(function(k){const E=!k.before,A=k.values||[];return new mh(A,E)})(n.endAt)),d_(e,o,d,u,p,"F",m,y)}function X_(s,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function U1(s){return s.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ji(e.unaryFilter.field);return Pt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=Ji(e.unaryFilter.field);return Pt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ji(e.unaryFilter.field);return Pt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ji(e.unaryFilter.field);return Pt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(s):s.fieldFilter!==void 0?(function(e){return Pt.create(Ji(e.fieldFilter.field),(function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(e){return Or.create(e.compositeFilter.filters.map((n=>U1(n))),(function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(e.compositeFilter.op))})(s):be(30097,{filter:s})}function Y_(s){return F_[s]}function J_(s){return V_[s]}function Z_(s){return U_[s]}function Yi(s){return{fieldPath:s.canonicalString()}}function Ji(s){return Bt.fromServerFormat(s.fieldPath)}function z1(s){return s instanceof Pt?(function(e){if(e.op==="=="){if(Zb(e.value))return{unaryFilter:{field:Yi(e.field),op:"IS_NAN"}};if(Jb(e.value))return{unaryFilter:{field:Yi(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Zb(e.value))return{unaryFilter:{field:Yi(e.field),op:"IS_NOT_NAN"}};if(Jb(e.value))return{unaryFilter:{field:Yi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yi(e.field),op:J_(e.op),value:e.value}}})(s):s instanceof Or?(function(e){const n=e.getFilters().map((a=>z1(a)));return n.length===1?n[0]:{compositeFilter:{op:Z_(e.op),filters:n}}})(s):be(54877,{filter:s})}function eI(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function H1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function $1(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Js{constructor(e,n,a,o,u=Ee.min(),d=Ee.min(),p=Wt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new Js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tI{constructor(e){this.yt=e}}function nI(s){const e=Q_({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Pp(e,e.limit,"L"):e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rI{constructor(){this.Sn=new sI}addToCollectionParentIndex(e,n){return this.Sn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(ia.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(ia.min())}updateCollectionGroup(e,n,a){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class sI{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Ot(st.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Ot(st.comparator)).toArray()}}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const f0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},q1=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(q1,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ho{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new ho(0)}static ar(){return new ho(-1)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const p0="LruGarbageCollector",aI=1048576;function m0([s,e],[n,a]){const o=De(s,n);return o===0?De(e,a):o}class iI{constructor(e){this.Pr=e,this.buffer=new Ot(m0),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();m0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class oI{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(p0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vo(n)?le(p0,"Ignoring IndexedDB error during garbage collection: ",n):await yo(n)}await this.Ar(3e5)}))}}class lI{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Mh.ce);const a=new iI(n);return this.Vr.forEachTarget(e,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.Vr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(f0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),f0):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let a,o,u,d,p,m,y;const k=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,d=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(a=E,p=Date.now(),this.removeTargets(e,a,n)))).next((E=>(u=E,m=Date.now(),this.removeOrphanedDocuments(e,a)))).next((E=>(y=Date.now(),Qi()<=Oe.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-k}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${u} targets in `+(m-p)+`ms
	Removed ${E} documents in `+(y-m)+`ms
Total Duration: ${y-k}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E}))))}}function uI(s,e){return new lI(s,e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cI{constructor(){this.changes=new ti((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ee.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dI{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(a!==null&&Vl(a.mutation,o,Yn.empty(),at.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,Me()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=Me()){const o=Ga();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,a).next((u=>{let d=Pl();return u.forEach(((p,m)=>{d=d.insert(p,m.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const a=Ga();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,Me())))}populateOverlays(e,n,a){const o=[];return a.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(e,n,a,o){let u=hs();const d=Fl(),p=(function(){return Fl()})();return n.forEach(((m,y)=>{const k=a.get(y.key);o.has(y.key)&&(k===void 0||k.mutation instanceof ni)?u=u.insert(y.key,y):k!==void 0?(d.set(y.key,k.mutation.getFieldMask()),Vl(k.mutation,y,k.mutation.getFieldMask(),at.now())):d.set(y.key,Yn.empty())})),this.recalculateAndSaveOverlays(e,u).next((m=>(m.forEach(((y,k)=>d.set(y,k))),n.forEach(((y,k)=>p.set(y,new hI(k,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const a=Fl();let o=new ht(((d,p)=>d-p)),u=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const p of d)p.keys().forEach((m=>{const y=n.get(m);if(y===null)return;let k=a.get(m)||Yn.empty();k=p.applyToLocalView(y,k),a.set(m,k);const E=(o.get(p.batchId)||Me()).add(m);o=o.insert(p.batchId,E)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),y=m.key,k=m.value,E=S1();k.forEach((A=>{if(!u.has(A)){const $=R1(n.get(A),a.get(A));$!==null&&E.set(A,$),u=u.add(A)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,E))}return ee.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,o){return f_(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):p_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next((u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):ee.resolve(Ga());let p=ql,m=u;return d.next((y=>ee.forEach(y,((k,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),u.get(k)?ee.resolve():this.remoteDocumentCache.getEntry(e,k).next((A=>{m=m.insert(k,A)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,m,y,Me()))).next((k=>({batchId:p,changes:T1(k)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((a=>{let o=Pl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let d=Pl();return this.indexManager.getCollectionParents(e,u).next((p=>ee.forEach(p,(m=>{const y=(function(k,E){return new Vh(E,null,k.explicitOrderBy.slice(),k.filters.slice(),k.limit,k.limitType,k.startAt,k.endAt)})(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next((k=>{k.forEach(((E,A)=>{d=d.insert(E,A)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o)))).next((d=>{u.forEach(((m,y)=>{const k=y.getKey();d.get(k)===null&&(d=d.insert(k,Jt.newInvalidDocument(k)))}));let p=Pl();return d.forEach(((m,y)=>{const k=u.get(m);k!==void 0&&Vl(k.mutation,y,Yn.empty(),at.now()),zh(n,y)&&(p=p.insert(m,y))})),p}))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fI{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ee.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Ir(a.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:nI(a.bundledQuery),readTime:Ir(a.readTime)}})(n)),ee.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pI{constructor(){this.overlays=new ht(ge.comparator),this.Lr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Ga();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&a.set(o,u)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((o,u)=>{this.bt(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(a)),ee.resolve()}getOverlaysForCollection(e,n,a){const o=Ga(),u=n.length+1,d=new ge(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const m=p.getNext().value,y=m.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&m.largestBatchId>a&&o.set(m.getKey(),m)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new ht(((y,k)=>y-k));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>a){let k=u.get(y.largestBatchId);k===null&&(k=Ga(),u=u.insert(y.largestBatchId,k)),k.set(y.getKey(),y)}}const p=Ga(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((y,k)=>p.set(y,k))),!(p.size()>=o)););return ee.resolve(p)}bt(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new L_(n,a));let u=this.Lr.get(n);u===void 0&&(u=Me(),this.Lr.set(n,u)),this.Lr.set(n,u.add(a.key))}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mI{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ym{constructor(){this.kr=new Ot(Ft.Kr),this.qr=new Ot(Ft.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const a=new Ft(e,n);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Wr(new Ft(e,n))}Qr(e,n){e.forEach((a=>this.removeReference(a,n)))}Gr(e){const n=new ge(new st([])),a=new Ft(n,e),o=new Ft(n,e+1),u=[];return this.qr.forEachInRange([a,o],(d=>{this.Wr(d),u.push(d.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ge(new st([])),a=new Ft(n,e),o=new Ft(n,e+1);let u=Me();return this.qr.forEachInRange([a,o],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new Ft(e,0),a=this.kr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Ft{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ge.comparator(e.key,n.key)||De(e.Hr,n.Hr)}static Ur(e,n){return De(e.Hr,n.Hr)||ge.comparator(e.key,n.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ot(Ft.Kr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new R_(u,n,a,o);this.mutationQueue.push(d);for(const p of o)this.Jr=this.Jr.add(new Ft(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ee.resolve(d)}lookupMutationBatch(e,n){return ee.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.Xr(a),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?om:this.Yn-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Ft(n,0),o=new Ft(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([a,o],(d=>{const p=this.Zr(d.Hr);u.push(p)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Ot(De);return n.forEach((o=>{const u=new Ft(o,0),d=new Ft(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,d],(p=>{a=a.add(p.Hr)}))})),ee.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;ge.isDocumentKey(u)||(u=u.child(""));const d=new Ft(new ge(u),0);let p=new Ot(De);return this.Jr.forEachWhile((m=>{const y=m.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(p=p.add(m.Hr)),!0)}),d),ee.resolve(this.Yr(p))}Yr(e){const n=[];return e.forEach((a=>{const o=this.Zr(a);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){qe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return ee.forEach(n.mutations,(o=>{const u=new Ft(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,n){const a=new Ft(n,0),o=this.Jr.firstAfterOrEqual(a);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class yI{constructor(e){this.ti=e,this.docs=(function(){return new ht(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,d=this.ti(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ee.resolve(a?a.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let a=hs();return n.forEach((o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():Jt.newInvalidDocument(o))})),ee.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=hs();const d=n.path,p=new ge(d.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:y,value:{document:k}}=m.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||$N(HN(k),a)<=0||(o.has(k.key)||zh(n,k))&&(u=u.insert(k.key,k.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,a,o){be(9500)}ni(e,n){return ee.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new vI(this)}getSize(e){return ee.resolve(this.size)}}class vI extends cI{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(a)})),ee.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bI{constructor(e){this.persistence=e,this.ri=new ti((n=>cm(n)),hm),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.ii=0,this.si=new ym,this.targetCount=0,this.oi=ho._r()}forEachTarget(e,n){return this.ri.forEach(((a,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.ii&&(this.ii=n),ee.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new ho(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.lr(n),ee.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=n&&a.get(p.targetId)===null&&(this.ri.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const a=this.ri.get(n)||null;return ee.resolve(a)}addMatchingKeys(e,n,a){return this.si.$r(n,a),ee.resolve()}removeMatchingKeys(e,n,a){this.si.Qr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((d=>{u.push(o.markPotentiallyOrphaned(e,d))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const a=this.si.jr(n);return ee.resolve(a)}containsKey(e,n){return ee.resolve(this.si.containsKey(n))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class G1{constructor(e,n){this._i={},this.overlays={},this.ai=new Mh(0),this.ui=!1,this.ui=!0,this.ci=new mI,this.referenceDelegate=e(this),this.li=new bI(this),this.indexManager=new rI,this.remoteDocumentCache=(function(a){return new yI(a)})((a=>this.referenceDelegate.hi(a))),this.serializer=new tI(n),this.Pi=new fI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this._i[e.toKey()];return a||(a=new gI(n,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,a){le("MemoryPersistence","Starting transaction:",e);const o=new wI(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ee.or(Object.values(this._i).map((a=>()=>a.containsKey(e,n))))}}class wI extends GN{constructor(e){super(),this.currentSequenceNumber=e}}class vm{constructor(e){this.persistence=e,this.Ri=new ym,this.Ai=null}static Vi(e){return new vm(e)}get di(){if(this.Ai)return this.Ai;throw be(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.di.delete(a.toString()),ee.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.di.add(a.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>a.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.di,(a=>{const o=ge.fromPath(a);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Ee.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((a=>{a?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class wh{constructor(e,n){this.persistence=e,this.fi=new ti((a=>WN(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=uI(this,n)}static Vi(e,n){return new wh(e,n)}Ti(){}Ii(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((o=>a+o))))}pr(e){let n=0;return this.mr(e,(a=>{n++})).next((()=>n))}mr(e,n){return ee.forEach(this.fi,((a,o)=>this.wr(e,a,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,n).next((p=>{p||(a++,u.removeEntry(d,Ee.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.fi.set(a,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,a){return this.fi.set(a,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zc(e.data.value)),n}wr(e,n,a){return ee.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ee.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bm{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Ts=a,this.Is=o}static Es(e,n){let a=Me(),o=Me();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new bm(e,n.fromCache,a,o)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class EI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return hC()?8:BN(Zt())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.gs(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ps(e,n,o,a).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new kI;return this.ys(e,n,d).next((p=>{if(u.result=p,this.As)return this.ws(e,n,d,p.size)}))})).next((()=>u.result))}ws(e,n,a,o){return a.documentReadCount<this.Vs?(Qi()<=Oe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Xi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ee.resolve()):(Qi()<=Oe.DEBUG&&le("QueryEngine","Query:",Xi(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(Qi()<=Oe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Xi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nr(n))):ee.resolve())}gs(e,n){if(r0(n))return ee.resolve(null);let a=Nr(n);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Pp(n,null,"F"),a=Nr(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const d=Me(...u);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((m=>{const y=this.bs(n,p);return this.Ss(n,y,d,m.readTime)?this.gs(e,Pp(n,null,"F")):this.Ds(e,y,n,m)}))))})))))}ps(e,n,a,o){return r0(n)||o.isEqual(Ee.min())?ee.resolve(null):this.fs.getDocuments(e,a).next((u=>{const d=this.bs(n,u);return this.Ss(n,d,a,o)?ee.resolve(null):(Qi()<=Oe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Xi(n)),this.Ds(e,d,n,zN(o,ql)).next((p=>p)))}))}bs(e,n){let a=new Ot(E1(e));return n.forEach(((o,u)=>{zh(e,u)&&(a=a.add(u))})),a}Ss(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,a){return Qi()<=Oe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Xi(n)),this.fs.getDocumentsMatchingQuery(e,n,ia.min(),a)}Ds(e,n,a,o){return this.fs.getDocumentsMatchingQuery(e,a,o).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const wm="LocalStore",xI=3e8;class TI{constructor(e,n,a,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ht(De),this.Fs=new ti((u=>cm(u)),hm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function SI(s,e,n,a){return new TI(s,e,n,a)}async function B1(s,e){const n=Te(s);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(a)))).next((u=>{const d=[],p=[];let m=Me();for(const y of o){d.push(y.batchId);for(const k of y.mutations)m=m.add(k.key)}for(const y of u){p.push(y.batchId);for(const k of y.mutations)m=m.add(k.key)}return n.localDocuments.getDocuments(a,m).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function CI(s,e){const n=Te(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,p,m,y){const k=m.batch,E=k.keys();let A=ee.resolve();return E.forEach(($=>{A=A.next((()=>y.getEntry(p,$))).next((H=>{const B=m.docVersions.get($);qe(B!==null,48541),H.version.compareTo(B)<0&&(k.applyToRemoteDocument(H,m),H.isValidDocument()&&(H.setReadTime(m.commitVersion),y.addEntry(H)))}))})),A.next((()=>d.mutationQueue.removeMutationBatch(p,k)))})(n,a,e,u).next((()=>u.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(d){let p=Me();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(p=p.add(d.batch.mutations[m].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(a,o)))}))}function K1(s){const e=Te(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function NI(s,e){const n=Te(s),a=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const p=[];e.targetChanges.forEach(((k,E)=>{const A=o.get(E);if(!A)return;p.push(n.li.removeMatchingKeys(u,k.removedDocuments,E).next((()=>n.li.addMatchingKeys(u,k.addedDocuments,E))));let $=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?$=$.withResumeToken(Wt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):k.resumeToken.approximateByteSize()>0&&($=$.withResumeToken(k.resumeToken,a)),o=o.insert(E,$),(function(H,B,K){return H.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=xI?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(A,$,k)&&p.push(n.li.updateTargetData(u,$))}));let m=hs(),y=Me();if(e.documentUpdates.forEach((k=>{e.resolvedLimboDocuments.has(k)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,k))})),p.push(_I(u,d,e.documentUpdates).next((k=>{m=k.Bs,y=k.Ls}))),!a.isEqual(Ee.min())){const k=n.li.getLastRemoteSnapshotVersion(u).next((E=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,a)));p.push(k)}return ee.waitFor(p).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,m,y))).next((()=>m))})).then((u=>(n.vs=o,u)))}function _I(s,e,n){let a=Me(),o=Me();return n.forEach((u=>a=a.add(u))),e.getEntries(s,a).next((u=>{let d=hs();return n.forEach(((p,m)=>{const y=u.get(p);m.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(Ee.min())?(e.removeEntry(p,m.readTime),d=d.insert(p,m)):!y.isValidDocument()||m.version.compareTo(y.version)>0||m.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(m),d=d.insert(p,m)):le(wm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",m.version)})),{Bs:d,Ls:o}}))}function II(s,e){const n=Te(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=om),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function AI(s,e){const n=Te(s);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return n.li.getTargetData(a,e).next((u=>u?(o=u,ee.resolve(o)):n.li.allocateTargetId(a).next((d=>(o=new Js(e,d,"TargetPurposeListen",a.currentSequenceNumber),n.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=n.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(a.targetId,a),n.Fs.set(e,a.targetId)),a}))}async function Fp(s,e,n){const a=Te(s),o=a.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!vo(d))throw d;le(wm,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(o.target)}function g0(s,e,n){const a=Te(s);let o=Ee.min(),u=Me();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,m,y){const k=Te(p),E=k.Fs.get(y);return E!==void 0?ee.resolve(k.vs.get(E)):k.li.getTargetData(m,y)})(a,d,Nr(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((m=>{u=m}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,n?o:Ee.min(),n?u:Me()))).next((p=>(RI(a,g_(e),p),{documents:p,ks:u})))))}function RI(s,e,n){let a=s.Ms.get(e)||Ee.min();n.forEach(((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),s.Ms.set(e,a)}class y0{constructor(){this.activeTargetIds=E_()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LI{constructor(){this.vo=new y0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,a){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new y0,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class PI{Mo(e){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const v0="ConnectivityMonitor";class b0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(v0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(v0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Bc=null;function Vp(){return Bc===null?Bc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bc++,"0x"+Bc.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const dp="RestConnection",OI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class DI{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===fh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,n,a,o,u){const d=Vp(),p=this.Qo(e,n.toUriEncodedString());le(dp,`Sending RPC '${e}' ${d}:`,p,a);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,o,u);const{host:y}=new URL(p),k=Ja(y);return this.zo(e,p,m,a,k).then((E=>(le(dp,`Received RPC '${e}' ${d}: `,E),E)),(E=>{throw oo(dp,`RPC '${e}' ${d} failed with error: `,E,"url: ",p,"request:",a),E}))}jo(e,n,a,o,u,d){return this.Wo(e,n,a,o,u)}Go(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+go})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),a&&a.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const a=OI[e];let o=`${this.qo}/v1/${n}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class MI{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Xt="WebChannelConnection",Il=(s,e,n)=>{s.listen(e,(a=>{try{n(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class eo extends DI{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!eo.c_){const e=Jw();Il(e,Yw.STAT_EVENT,(n=>{n.stat===Np.PROXY?le(Xt,"STAT_EVENT: detected buffering proxy"):n.stat===Np.NOPROXY&&le(Xt,"STAT_EVENT: detected no buffering proxy")})),eo.c_=!0}}zo(e,n,a,o,u){const d=Vp();return new Promise(((p,m)=>{const y=new Qw;y.setWithCredentials(!0),y.listenOnce(Xw.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Jc.NO_ERROR:const E=y.getResponseJson();le(Xt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(E)),p(E);break;case Jc.TIMEOUT:le(Xt,`RPC '${e}' ${d} timed out`),m(new fe(te.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const A=y.getStatus();if(le(Xt,`RPC '${e}' ${d} failed with status:`,A,"response text:",y.getResponseText()),A>0){let $=y.getResponseJson();Array.isArray($)&&($=$[0]);const H=$==null?void 0:$.error;if(H&&H.status&&H.message){const B=(function(K){const ne=K.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(ne)>=0?ne:te.UNKNOWN})(H.status);m(new fe(B,H.message))}else m(new fe(te.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new fe(te.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{le(Xt,`RPC '${e}' ${d} completed.`)}}));const k=JSON.stringify(o);le(Xt,`RPC '${e}' ${d} sending request:`,o),y.send(n,"POST",k,a,15)}))}T_(e,n,a){const o=Vp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const y=u.join("");le(Xt,`Creating RPC '${e}' stream ${o}: ${y}`,p);const k=d.createWebChannel(y,p);this.I_(k);let E=!1,A=!1;const $=new MI({Ho:H=>{A?le(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(E||(le(Xt,`Opening RPC '${e}' stream ${o} transport.`),k.open(),E=!0),le(Xt,`RPC '${e}' stream ${o} sending:`,H),k.send(H))},Jo:()=>k.close()});return Il(k,Ll.EventType.OPEN,(()=>{A||(le(Xt,`RPC '${e}' stream ${o} transport opened.`),$.i_())})),Il(k,Ll.EventType.CLOSE,(()=>{A||(A=!0,le(Xt,`RPC '${e}' stream ${o} transport closed`),$.o_(),this.E_(k))})),Il(k,Ll.EventType.ERROR,(H=>{A||(A=!0,oo(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),$.o_(new fe(te.UNAVAILABLE,"The operation could not be completed")))})),Il(k,Ll.EventType.MESSAGE,(H=>{var B;if(!A){const K=H.data[0];qe(!!K,16349);const ne=K,se=(ne==null?void 0:ne.error)||((B=ne[0])==null?void 0:B.error);if(se){le(Xt,`RPC '${e}' stream ${o} received error:`,se);const W=se.status;let ce=(function(re){const C=_t[re];if(C!==void 0)return P1(C)})(W),we=se.message;ce===void 0&&(ce=te.INTERNAL,we="Unknown error status: "+W+" with message "+se.message),A=!0,$.o_(new fe(ce,we)),k.close()}else le(Xt,`RPC '${e}' stream ${o} received:`,K),$.__(K)}})),eo.u_(),setTimeout((()=>{$.s_()}),0),$}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,a){super.Go(e,n,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Zw()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function jI(s){return new eo(s)}function fp(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Gh(s){return new z_(s,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/eo.c_=!1;class W1{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=a,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-a);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const w0="PersistentStream";class Q1{constructor(e,n,a,o,u,d,p,m){this.Ci=e,this.b_=a,this.S_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new W1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(cs(n.toString()),cs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===n&&this.G_(a,o)}),(a=>{e((()=>{const o=new fe(te.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,n){const a=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(w0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(le(w0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class FI extends Q1{constructor(e,n,a,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=q_(this.serializer,e),a=(function(o){if(!("targetChange"in o))return Ee.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ee.min():u.readTime?Ir(u.readTime):Ee.min()})(e);return this.listener.J_(n,a)}Z_(e){const n={};n.database=jp(this.serializer),n.addTarget=(function(o,u){let d;const p=u.target;if(d=Lp(p)?{documents:K_(o,p)}:{query:W_(o,p).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=M1(o,u.resumeToken);const m=Op(o,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ee.min())>0){d.readTime=bh(o,u.snapshotVersion.toTimestamp());const m=Op(o,u.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const a=X_(this.serializer,e);a&&(n.labels=a),this.K_(n)}X_(e){const n={};n.database=jp(this.serializer),n.removeTarget=e,this.K_(n)}}class VI extends Q1{constructor(e,n,a,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,d),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=B_(e.writeResults,e.commitTime),a=Ir(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=jp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>G_(this.serializer,a)))};this.K_(n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class UI{}class zI extends UI{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Wo(e,Dp(n,a),o,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(te.UNKNOWN,u.toString())}))}jo(e,n,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,Dp(n,a),o,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new fe(te.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function HI(s,e,n,a){return new zI(s,e,n,a)}class $I{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cs(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Qa="RemoteStore";class qI{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{ri(this)&&(le(Qa,"Restarting streams for network reachability change."),await(async function(p){const m=Te(p);m.Ea.add(4),await ou(m),m.Va.set("Unknown"),m.Ea.delete(4),await Bh(m)})(this))}))})),this.Va=new $I(a,o)}}async function Bh(s){if(ri(s))for(const e of s.Ra)await e(!0)}async function ou(s){for(const e of s.Ra)await e(!1)}function X1(s,e){const n=Te(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Tm(n)?xm(n):bo(n).O_()&&Em(n,e))}function km(s,e){const n=Te(s),a=bo(n);n.Ia.delete(e),a.O_()&&Y1(n,e),n.Ia.size===0&&(a.O_()?a.L_():ri(n)&&n.Va.set("Unknown"))}function Em(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bo(s).Z_(e)}function Y1(s,e){s.da.$e(e),bo(s).X_(e)}function xm(s){s.da=new j_({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),bo(s).start(),s.Va.ua()}function Tm(s){return ri(s)&&!bo(s).x_()&&s.Ia.size>0}function ri(s){return Te(s).Ea.size===0}function J1(s){s.da=void 0}async function GI(s){s.Va.set("Online")}async function BI(s){s.Ia.forEach(((e,n)=>{Em(s,e)}))}async function KI(s,e){J1(s),Tm(s)?(s.Va.ha(e),xm(s)):s.Va.set("Unknown")}async function WI(s,e,n){if(s.Va.set("Online"),e instanceof D1&&e.state===2&&e.cause)try{await(async function(a,o){const u=o.cause;for(const d of o.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a.Ia.delete(d),a.da.removeTarget(d))})(s,e)}catch(a){le(Qa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await kh(s,a)}else if(e instanceof nh?s.da.Xe(e):e instanceof O1?s.da.st(e):s.da.tt(e),!n.isEqual(Ee.min()))try{const a=await K1(s.localStore);n.compareTo(a)>=0&&await(function(o,u){const d=o.da.Tt(u);return d.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const y=o.Ia.get(m);y&&o.Ia.set(m,y.withResumeToken(p.resumeToken,u))}})),d.targetMismatches.forEach(((p,m)=>{const y=o.Ia.get(p);if(!y)return;o.Ia.set(p,y.withResumeToken(Wt.EMPTY_BYTE_STRING,y.snapshotVersion)),Y1(o,p);const k=new Js(y.target,p,m,y.sequenceNumber);Em(o,k)})),o.remoteSyncer.applyRemoteEvent(d)})(s,n)}catch(a){le(Qa,"Failed to raise snapshot:",a),await kh(s,a)}}async function kh(s,e,n){if(!vo(e))throw e;s.Ea.add(1),await ou(s),s.Va.set("Offline"),n||(n=()=>K1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{le(Qa,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Bh(s)}))}function Z1(s,e){return e().catch((n=>kh(s,n,e)))}async function Kh(s){const e=Te(s),n=ca(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:om;for(;QI(e);)try{const o=await II(e.localStore,a);if(o===null){e.Ta.length===0&&n.L_();break}a=o.batchId,XI(e,o)}catch(o){await kh(e,o)}ek(e)&&tk(e)}function QI(s){return ri(s)&&s.Ta.length<10}function XI(s,e){s.Ta.push(e);const n=ca(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function ek(s){return ri(s)&&!ca(s).x_()&&s.Ta.length>0}function tk(s){ca(s).start()}async function YI(s){ca(s).ra()}async function JI(s){const e=ca(s);for(const n of s.Ta)e.ea(n.mutations)}async function ZI(s,e,n){const a=s.Ta.shift(),o=pm.from(a,e,n);await Z1(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Kh(s)}async function e4(s,e){e&&ca(s).Y_&&await(async function(n,a){if((function(o){return O_(o)&&o!==te.ABORTED})(a.code)){const o=n.Ta.shift();ca(n).B_(),await Z1(n,(()=>n.remoteSyncer.rejectFailedWrite(o.batchId,a))),await Kh(n)}})(s,e),ek(s)&&tk(s)}async function k0(s,e){const n=Te(s);n.asyncQueue.verifyOperationInProgress(),le(Qa,"RemoteStore received new credentials");const a=ri(n);n.Ea.add(3),await ou(n),a&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Bh(n)}async function t4(s,e){const n=Te(s);e?(n.Ea.delete(2),await Bh(n)):e||(n.Ea.add(2),await ou(n),n.Va.set("Unknown"))}function bo(s){return s.ma||(s.ma=(function(e,n,a){const o=Te(e);return o.sa(),new FI(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(s.datastore,s.asyncQueue,{Zo:GI.bind(null,s),Yo:BI.bind(null,s),t_:KI.bind(null,s),J_:WI.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),Tm(s)?xm(s):s.Va.set("Unknown")):(await s.ma.stop(),J1(s))}))),s.ma}function ca(s){return s.fa||(s.fa=(function(e,n,a){const o=Te(e);return o.sa(),new VI(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:YI.bind(null,s),t_:e4.bind(null,s),ta:JI.bind(null,s),na:ZI.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Kh(s)):(await s.fa.stop(),s.Ta.length>0&&(le(Qa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Sm{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const d=Date.now()+a,p=new Sm(e,n,d,o,u);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cm(s,e){if(cs("AsyncQueue",`${e}: ${s}`),vo(s))return new fe(te.UNAVAILABLE,`${e}: ${s}`);throw s}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class to{static emptySet(e){return new to(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||ge.comparator(n.key,a.key):(n,a)=>ge.comparator(n.key,a.key),this.keyedMap=Pl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof to)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new to;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class E0{constructor(){this.ga=new ht(ge.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class fo{constructor(e,n,a,o,u,d,p,m,y){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=y}static fromInitialDocuments(e,n,a,o,u){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new fo(e,n,to.emptySet(n),d,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class n4{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class r4{constructor(){this.queries=x0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,n){const a=Te(e),o=a.queries;a.queries=x0(),o.forEach(((u,d)=>{for(const p of d.ba)p.onError(n)}))})(this,new fe(te.ABORTED,"Firestore shutting down"))}}function x0(){return new ti((s=>k1(s)),Uh)}async function s4(s,e){const n=Te(s);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(a=2):(u=new n4,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const p=Cm(d,`Initialization of query '${Xi(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Nm(n)}async function a4(s,e){const n=Te(s),a=e.query;let o=3;const u=n.queries.get(a);if(u){const d=u.ba.indexOf(e);d>=0&&(u.ba.splice(d,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function i4(s,e){const n=Te(s);let a=!1;for(const o of e){const u=o.query,d=n.queries.get(u);if(d){for(const p of d.ba)p.Fa(o)&&(a=!0);d.wa=o}}a&&Nm(n)}function o4(s,e,n){const a=Te(s),o=a.queries.get(e);if(o)for(const u of o.ba)u.onError(n);a.queries.delete(e)}function Nm(s){s.Ca.forEach((e=>{e.next()}))}var Up,T0;(T0=Up||(Up={})).Ma="default",T0.Cache="cache";class l4{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new fo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Up.Cache}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nk{constructor(e){this.key=e}}class rk{constructor(e){this.key=e}}class u4{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Me(),this.mutatedKeys=Me(),this.eu=E1(e),this.tu=new to(this.eu)}get nu(){return this.Za}ru(e,n){const a=n?n.iu:new E0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((k,E)=>{const A=o.get(k),$=zh(this.query,E)?E:null,H=!!A&&this.mutatedKeys.has(A.key),B=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let K=!1;A&&$?A.data.isEqual($.data)?H!==B&&(a.track({type:3,doc:$}),K=!0):this.su(A,$)||(a.track({type:2,doc:$}),K=!0,(m&&this.eu($,m)>0||y&&this.eu($,y)<0)&&(p=!0)):!A&&$?(a.track({type:0,doc:$}),K=!0):A&&!$&&(a.track({type:1,doc:A}),K=!0,(m||y)&&(p=!0)),K&&($?(d=d.add($),u=B?u.add(k):u.delete(k)):(d=d.delete(k),u=u.delete(k)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const k=this.query.limitType==="F"?d.last():d.first();d=d.delete(k.key),u=u.delete(k.key),a.track({type:1,doc:k})}return{tu:d,iu:a,Ss:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((k,E)=>(function(A,$){const H=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Vt:B})}};return H(A)-H($)})(k.type,E.type)||this.eu(k.doc,E.doc))),this.ou(a),o=o??!1;const p=n&&!o?this._u():[],m=this.Ya.size===0&&this.current&&!o?1:0,y=m!==this.Xa;return this.Xa=m,d.length!==0||y?{snapshot:new fo(this.query,e.tu,u,d,e.mutatedKeys,m===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new E0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Me(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const n=[];return e.forEach((a=>{this.Ya.has(a)||n.push(new rk(a))})),this.Ya.forEach((a=>{e.has(a)||n.push(new nk(a))})),n}cu(e){this.Za=e.ks,this.Ya=Me();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return fo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const _m="SyncEngine";class c4{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class h4{constructor(e){this.key=e,this.hu=!1}}class d4{constructor(e,n,a,o,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ti((p=>k1(p)),Uh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ht(ge.comparator),this.Au=new Map,this.Vu=new ym,this.du={},this.mu=new Map,this.fu=ho.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function f4(s,e,n=!0){const a=uk(s);let o;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await sk(a,e,n,!0),o}async function p4(s,e){const n=uk(s);await sk(n,e,!0,!1)}async function sk(s,e,n,a){const o=await AI(s.localStore,Nr(e)),u=o.targetId,d=s.sharedClientState.addLocalQueryTarget(u,n);let p;return a&&(p=await m4(s,e,u,d==="current",o.resumeToken)),s.isPrimaryClient&&n&&X1(s.remoteStore,o),p}async function m4(s,e,n,a,o){s.pu=(E,A,$)=>(async function(H,B,K,ne){let se=B.view.ru(K);se.Ss&&(se=await g0(H.localStore,B.query,!1).then((({documents:re})=>B.view.ru(re,se))));const W=ne&&ne.targetChanges.get(B.targetId),ce=ne&&ne.targetMismatches.get(B.targetId)!=null,we=B.view.applyChanges(se,H.isPrimaryClient,W,ce);return C0(H,B.targetId,we.au),we.snapshot})(s,E,A,$);const u=await g0(s.localStore,e,!0),d=new u4(e,u.ks),p=d.ru(u.documents),m=iu.createSynthesizedTargetChangeForCurrentChange(n,a&&s.onlineState!=="Offline",o),y=d.applyChanges(p,s.isPrimaryClient,m);C0(s,n,y.au);const k=new c4(e,n,d);return s.Tu.set(e,k),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function g4(s,e,n){const a=Te(s),o=a.Tu.get(e),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter((d=>!Uh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Fp(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),n&&km(a.remoteStore,o.targetId),zp(a,o.targetId)})).catch(yo)):(zp(a,o.targetId),await Fp(a.localStore,o.targetId,!0))}async function y4(s,e){const n=Te(s),a=n.Tu.get(e),o=n.Iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),km(n.remoteStore,a.targetId))}async function v4(s,e,n){const a=S4(s);try{const o=await(function(u,d){const p=Te(u),m=at.now(),y=d.reduce(((A,$)=>A.add($.key)),Me());let k,E;return p.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let $=hs(),H=Me();return p.xs.getEntries(A,y).next((B=>{$=B,$.forEach(((K,ne)=>{ne.isValidDocument()||(H=H.add(K))}))})).next((()=>p.localDocuments.getOverlayedDocuments(A,$))).next((B=>{k=B;const K=[];for(const ne of d){const se=I_(ne,k.get(ne.key).overlayedDocument);se!=null&&K.push(new ni(ne.key,se,f1(se.value.mapValue),_r.exists(!0)))}return p.mutationQueue.addMutationBatch(A,m,K,d)})).next((B=>{E=B;const K=B.applyToLocalDocumentSet(k,H);return p.documentOverlayCache.saveOverlays(A,B.batchId,K)}))})).then((()=>({batchId:E.batchId,changes:T1(k)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(u,d,p){let m=u.du[u.currentUser.toKey()];m||(m=new ht(De)),m=m.insert(d,p),u.du[u.currentUser.toKey()]=m})(a,o.batchId,n),await lu(a,o.changes),await Kh(a.remoteStore)}catch(o){const u=Cm(o,"Failed to persist write");n.reject(u)}}async function ak(s,e){const n=Te(s);try{const a=await NI(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const d=n.Au.get(u);d&&(qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?qe(d.hu,14607):o.removedDocuments.size>0&&(qe(d.hu,42227),d.hu=!1))})),await lu(n,a,e)}catch(a){await yo(a)}}function S0(s,e,n){const a=Te(s);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Tu.forEach(((u,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(u,d){const p=Te(u);p.onlineState=d;let m=!1;p.queries.forEach(((y,k)=>{for(const E of k.ba)E.va(d)&&(m=!0)})),m&&Nm(p)})(a.eventManager,e),o.length&&a.Pu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function b4(s,e,n){const a=Te(s);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Au.get(e),u=o&&o.key;if(u){let d=new ht(ge.comparator);d=d.insert(u,Jt.newNoDocument(u,Ee.min()));const p=Me().add(u),m=new qh(Ee.min(),new Map,new ht(De),d,p);await ak(a,m),a.Ru=a.Ru.remove(u),a.Au.delete(e),Im(a)}else await Fp(a.localStore,e,!1).then((()=>zp(a,e,n))).catch(yo)}async function w4(s,e){const n=Te(s),a=e.batch.batchId;try{const o=await CI(n.localStore,e);ok(n,a,null),ik(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await lu(n,o)}catch(o){await yo(o)}}async function k4(s,e,n){const a=Te(s);try{const o=await(function(u,d){const p=Te(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return p.mutationQueue.lookupMutationBatch(m,d).next((k=>(qe(k!==null,37113),y=k.keys(),p.mutationQueue.removeMutationBatch(m,k)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,y,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>p.localDocuments.getDocuments(m,y)))}))})(a.localStore,e);ok(a,e,n),ik(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await lu(a,o)}catch(o){await yo(o)}}function ik(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function ok(s,e,n){const a=Te(s);let o=a.du[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.du[a.currentUser.toKey()]=o}}function zp(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),n&&s.Pu.yu(a,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||lk(s,a)}))}function lk(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(km(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),Im(s))}function C0(s,e,n){for(const a of n)a instanceof nk?(s.Vu.addReference(a.key,e),E4(s,a)):a instanceof rk?(le(_m,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||lk(s,a.key)):be(19791,{wu:a})}function E4(s,e){const n=e.key,a=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(a)||(le(_m,"New document in limbo: "+n),s.Eu.add(a),Im(s))}function Im(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new ge(st.fromString(e)),a=s.fu.next();s.Au.set(a,new h4(n)),s.Ru=s.Ru.insert(n,a),X1(s.remoteStore,new Js(Nr(w1(n.path)),a,"TargetPurposeLimboResolution",Mh.ce))}}async function lu(s,e,n){const a=Te(s),o=[],u=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,m)=>{d.push(a.pu(m,e,n).then((y=>{var k;if((y||n)&&a.isPrimaryClient){const E=y?!y.fromCache:(k=n==null?void 0:n.targetChanges.get(m.targetId))==null?void 0:k.current;a.sharedClientState.updateQueryState(m.targetId,E?"current":"not-current")}if(y){o.push(y);const E=bm.Es(m.targetId,y);u.push(E)}})))})),await Promise.all(d),a.Pu.J_(o),await(async function(p,m){const y=Te(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(k=>ee.forEach(m,(E=>ee.forEach(E.Ts,(A=>y.persistence.referenceDelegate.addReference(k,E.targetId,A))).next((()=>ee.forEach(E.Is,(A=>y.persistence.referenceDelegate.removeReference(k,E.targetId,A)))))))))}catch(k){if(!vo(k))throw k;le(wm,"Failed to update sequence numbers: "+k)}for(const k of m){const E=k.targetId;if(!k.fromCache){const A=y.vs.get(E),$=A.snapshotVersion,H=A.withLastLimboFreeSnapshotVersion($);y.vs=y.vs.insert(E,H)}}})(a.localStore,u))}async function x4(s,e){const n=Te(s);if(!n.currentUser.isEqual(e)){le(_m,"User change. New user:",e.toKey());const a=await B1(n.localStore,e);n.currentUser=e,(function(o,u){o.mu.forEach((d=>{d.forEach((p=>{p.reject(new fe(te.CANCELLED,u))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await lu(n,a.Ns)}}function T4(s,e){const n=Te(s),a=n.Au.get(e);if(a&&a.hu)return Me().add(a.key);{let o=Me();const u=n.Iu.get(e);if(!u)return o;for(const d of u){const p=n.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function uk(s){const e=Te(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=ak.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=T4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=b4.bind(null,e),e.Pu.J_=i4.bind(null,e.eventManager),e.Pu.yu=o4.bind(null,e.eventManager),e}function S4(s){const e=Te(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=k4.bind(null,e),e}class Eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return SI(this.persistence,new EI,e.initialUser,this.serializer)}Cu(e){return new G1(vm.Vi,this.serializer)}Du(e){return new LI}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eh.provider={build:()=>new Eh};class C4 extends Eh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){qe(this.persistence.referenceDelegate instanceof wh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new oI(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new G1((a=>wh.Vi(a,n)),this.serializer)}}class Hp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>S0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=x4.bind(null,this.syncEngine),await t4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new r4})()}createDatastore(e){const n=Gh(e.databaseInfo.databaseId),a=jI(e.databaseInfo);return HI(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(n,a,o,u,d){return new qI(n,a,o,u,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>S0(this.syncEngine,n,0)),(function(){return b0.v()?new b0:new PI})())}createSyncEngine(e,n){return(function(a,o,u,d,p,m,y){const k=new d4(a,o,u,d,p,m);return y&&(k.gu=!0),k})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const o=Te(a);le(Qa,"RemoteStore shutting down."),o.Ea.add(5),await ou(o),o.Aa.shutdown(),o.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Hp.provider={build:()=>new Hp};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class N4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):cs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ha="FirestoreClient";class _4{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this._databaseInfo=o,this.user=Yt.UNAUTHENTICATED,this.clientId=am.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async d=>{le(ha,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(le(ha,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Cm(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function pp(s,e){s.asyncQueue.verifyOperationInProgress(),le(ha,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let a=n.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await B1(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function N0(s,e){s.asyncQueue.verifyOperationInProgress();const n=await I4(s);le(ha,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((a=>k0(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>k0(e.remoteStore,o))),s._onlineComponents=e}async function I4(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){le(ha,"Using user provided OfflineComponentProvider");try{await pp(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===te.FAILED_PRECONDITION||a.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;oo("Error using user provided cache. Falling back to memory cache: "+n),await pp(s,new Eh)}}else le(ha,"Using default OfflineComponentProvider"),await pp(s,new C4(void 0));return s._offlineComponents}async function ck(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(le(ha,"Using user provided OnlineComponentProvider"),await N0(s,s._uninitializedComponentsProvider._online)):(le(ha,"Using default OnlineComponentProvider"),await N0(s,new Hp))),s._onlineComponents}function A4(s){return ck(s).then((e=>e.syncEngine))}async function R4(s){const e=await ck(s),n=e.eventManager;return n.onListen=f4.bind(null,e.syncEngine),n.onUnlisten=g4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=p4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=y4.bind(null,e.syncEngine),n}function L4(s,e,n={}){const a=new na;return s.asyncQueue.enqueueAndForget((async()=>(function(o,u,d,p,m){const y=new N4({next:E=>{y.Nu(),u.enqueueAndForget((()=>a4(o,k))),E.fromCache&&p.source==="server"?m.reject(new fe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),k=new l4(d,y,{includeMetadataChanges:!0,Ka:!0});return s4(o,k)})(await R4(s),s.asyncQueue,e,n,a))),a.promise}function P4(s,e){const n=new na;return s.asyncQueue.enqueueAndForget((async()=>v4(await A4(s),e,n))),n.promise}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function hk(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const O4="ComponentProvider",_0=new Map;function D4(s,e,n,a,o){return new YN(s,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,hk(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const dk="firestore.googleapis.com",I0=!0;class A0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dk,this.ssl=I0}else this.host=e.host,this.ssl=e.ssl??I0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=q1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aI)throw new fe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hk(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,a){return n.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wh{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new AN;switch(n.type){case"firstParty":return new ON(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new fe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const n=_0.get(e);n&&(le(O4,"Removing Datastore"),_0.delete(e),n.terminate())})(this),Promise.resolve()}}function M4(s,e,n,a={}){var o;s=$l(s,Wh);const u=Ja(e),d=s._getSettings(),p={...d,emulatorOptions:s._getEmulatorOptions()},m=`${e}:${n}`;u&&(Zp(`https://${m}`),em("Firestore",!0)),d.host!==dk&&d.host!==m&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...d,host:m,ssl:u,emulatorOptions:a};if(!Ba(y,p)&&(s._setSettings(y),a.mockUserToken)){let k,E;if(typeof a.mockUserToken=="string")k=a.mockUserToken,E=Yt.MOCK_USER;else{k=Hw(a.mockUserToken,(o=s._app)==null?void 0:o.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new fe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Yt(A)}s._authCredentials=new RN(new t1(k,E))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qh{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Qh(this.firestore,e,this._query)}}class Kt{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(su(n,Kt._jsonSchema))return new Kt(e,a||null,new ge(st.fromString(n.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:It("string",Kt._jsonSchemaVersion),referencePath:It("string")};class ra extends Qh{constructor(e,n,a){super(e,n,w1(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new ge(e))}withConverter(e){return new ra(this.firestore,e,this._path)}}function $p(s,e,...n){if(s=hn(s),n1("collection","path",e),s instanceof Wh){const a=st.fromString(e,...n);return qb(a),new ra(s,null,a)}{if(!(s instanceof Kt||s instanceof ra))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(st.fromString(e,...n));return qb(a),new ra(s.firestore,null,a)}}function fk(s,e,...n){if(s=hn(s),arguments.length===1&&(e=am.newId()),n1("doc","path",e),s instanceof Wh){const a=st.fromString(e,...n);return $b(a),new Kt(s,null,new ge(a))}{if(!(s instanceof Kt||s instanceof ra))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(st.fromString(e,...n));return $b(a),new Kt(s.firestore,s instanceof ra?s.converter:null,new ge(a))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const R0="AsyncQueue";class L0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new W1(this,"async_queue_retry"),this._c=()=>{const a=fp();a&&le(R0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=fp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=fp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new na;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!vo(e))throw e;le(R0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,cs("INTERNAL UNHANDLED ERROR: ",P0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Sm.createAndSchedule(this,e,n,a,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:P0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function P0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Xh extends Wh{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new L0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new L0(e),this._firestoreClient=void 0,await e}}}function j4(s,e){const n=typeof s=="object"?s:rm(),a=typeof s=="string"?s:fh,o=Dh(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=Vw("firestore");u&&M4(o,...u)}return o}function pk(s){if(s._terminated)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||F4(s),s._firestoreClient}function F4(s){var e,n,a,o;const u=s._freezeSettings(),d=D4(s._databaseId,((e=s._app)==null?void 0:e.options.appId)||"",s._persistenceKey,(n=s._app)==null?void 0:n.options.apiKey,u);s._componentsProvider||(a=u.localCache)!=null&&a._offlineComponentProvider&&(o=u.localCache)!=null&&o._onlineComponentProvider&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new _4(s._authCredentials,s._appCheckCredentials,s._queue,d,s._componentsProvider&&(function(p){const m=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(m),_online:m}})(s._componentsProvider))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(Wt.fromBase64String(e))}catch(n){throw new fe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Mn(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(su(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:It("string",Mn._jsonSchemaVersion),bytes:It("string")};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mk{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gk{constructor(e){this._methodName=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ar{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ar._jsonSchemaVersion}}static fromJSON(e){if(su(e,Ar._jsonSchema))return new Ar(e.latitude,e.longitude)}}Ar._jsonSchemaVersion="firestore/geoPoint/1.0",Ar._jsonSchema={type:It("string",Ar._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class er{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,a){if(n.length!==a.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:er._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(su(e,er._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new er(e.vectorValues);throw new fe(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}er._jsonSchemaVersion="firestore/vectorValue/1.0",er._jsonSchema={type:It("string",er._jsonSchemaVersion),vectorValues:It("object")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const V4=/^__.*__$/;class U4{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new ni(e,this.data,this.fieldMask,n,this.fieldTransforms):new au(e,this.data,n,this.fieldTransforms)}}function yk(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{dataSource:s})}}class Am{constructor(e,n,a,o,u,d){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Am({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var n;const a=(n=this.path)==null?void 0:n.child(e),o=this.contextWith({path:a,arrayElement:!1});return o.validatePathSegment(e),o}childContextForFieldPath(e){var n;const a=(n=this.path)==null?void 0:n.child(e),o=this.contextWith({path:a,arrayElement:!1});return o.validatePath(),o}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return xh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(yk(this.dataSource)&&V4.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class z4{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Gh(e)}createContext(e,n,a,o=!1){return new Am({dataSource:e,methodName:n,targetDoc:a,path:Bt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function H4(s){const e=s._freezeSettings(),n=Gh(s._databaseId);return new z4(s._databaseId,!!e.ignoreUndefinedProperties,n)}function $4(s,e,n,a,o,u={}){const d=s.createContext(u.merge||u.mergeFields?2:0,e,n,o);kk("Data must be an object, but it was:",d,a);const p=bk(a,d);let m,y;if(u.merge)m=new Yn(d.fieldMask),y=d.fieldTransforms;else if(u.mergeFields){const k=[];for(const E of u.mergeFields){const A=Rm(e,E,n);if(!d.contains(A))throw new fe(te.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);B4(k,A)||k.push(A)}m=new Yn(k),y=d.fieldTransforms.filter((E=>m.covers(E.field)))}else m=null,y=d.fieldTransforms;return new U4(new Dn(p),m,y)}function vk(s,e){if(wk(s=hn(s)))return kk("Unsupported field value:",e,s),bk(s,e);if(s instanceof gk)return(function(n,a){if(!yk(a.dataSource))throw a.createError(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(n,a){const o=[];let u=0;for(const d of n){let p=vk(d,a.childContextForArray(u));p==null&&(p={nullValue:"NULL_VALUE"}),o.push(p),u++}return{arrayValue:{values:o}}})(s,e)}return(function(n,a){if((n=hn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return x_(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=at.fromDate(n);return{timestampValue:bh(a.serializer,o)}}if(n instanceof at){const o=new at(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:bh(a.serializer,o)}}if(n instanceof Ar)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Mn)return{bytesValue:M1(a.serializer,n._byteString)};if(n instanceof Kt){const o=a.databaseId,u=n.firestore._databaseId;if(!u.isEqual(o))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:gm(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof er)return(function(o,u){const d=o instanceof er?o.toArray():o;return{mapValue:{fields:{[h1]:{stringValue:d1},[ph]:{arrayValue:{values:d.map((p=>{if(typeof p!="number")throw u.createError("VectorValues must only contain numeric values.");return dm(u.serializer,p)}))}}}}}})(n,a);if($1(n))return n._toProto(a.serializer);throw a.createError(`Unsupported field value: ${im(n)}`)})(s,e)}function bk(s,e){const n={};return a1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ei(s,((a,o)=>{const u=vk(o,e.childContextForField(a));u!=null&&(n[a]=u)})),{mapValue:{fields:n}}}function wk(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof at||s instanceof Ar||s instanceof Mn||s instanceof Kt||s instanceof gk||s instanceof er||$1(s))}function kk(s,e,n){if(!wk(n)||!r1(n)){const a=im(n);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function Rm(s,e,n){if((e=hn(e))instanceof mk)return e._internalPath;if(typeof e=="string")return G4(s,e);throw xh("Field path arguments must be of type string or ",s,!1,void 0,n)}const q4=new RegExp("[~\\*/\\[\\]]");function G4(s,e,n){if(e.search(q4)>=0)throw xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new mk(...e.split("."))._internalPath}catch{throw xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function xh(s,e,n,a,o){const u=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(u||d)&&(m+=" (found",u&&(m+=` in field ${a}`),d&&(m+=` in document ${o}`),m+=")"),new fe(te.INVALID_ARGUMENT,p+s+m)}function B4(s,e){return s.some((n=>n.isEqual(e)))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class K4{convertValue(e,n="none"){switch(ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(la(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return ei(e,((o,u)=>{a[o]=this.convertValue(u,n)})),a}convertVectorValue(e){var n,a,o;const u=(o=(a=(n=e.fields)==null?void 0:n[ph].arrayValue)==null?void 0:a.values)==null?void 0:o.map((d=>vt(d.doubleValue)));return new er(u)}convertGeoPoint(e){return new Ar(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Fh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Gl(e));default:return null}}convertTimestamp(e){const n=oa(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=st.fromString(e);qe(H1(a),9688,{name:e});const o=new Bl(a.get(1),a.get(3)),u=new ge(a.popFirst(5));return o.isEqual(n)||cs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class W4 extends K4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}const O0="@firebase/firestore",D0="4.10.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ek{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Q4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Rm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Q4 extends Ek{data(){return super.data()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function X4(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new fe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function Y4(s,e,n){let a;return a=s?s.toFirestore(e):e,a}class Kc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class no extends Ek{constructor(e,n,a,o,u,d){super(e,n,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(Rm("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=no._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()||(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED")),n}}no._jsonSchemaVersion="firestore/documentSnapshot/1.0",no._jsonSchema={type:It("string",no._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class rh extends no{data(e={}){return super.data(e)}}class ro{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Kc(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new rh(this._firestore,this._userDataWriter,a.key,a,new Kc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((d=>{const p=new rh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Kc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>o||d.type!==3)).map((d=>{const p=new rh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Kc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),y=u.indexOf(d.doc.key)),{type:J4(d.type),doc:p,oldIndex:m,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ro._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=am.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function J4(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:s})}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/ro._jsonSchemaVersion="firestore/querySnapshot/1.0",ro._jsonSchema={type:It("string",ro._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};function xk(s){s=$l(s,Qh);const e=$l(s.firestore,Xh),n=pk(e),a=new W4(e);return X4(s._query),L4(n,s._query).then((o=>new ro(e,a,s,o)))}function Z4(s){return Tk($l(s.firestore,Xh),[new fm(s._key,_r.none())])}function eA(s,e){const n=$l(s.firestore,Xh),a=fk(s),o=Y4(s.converter,e),u=H4(s.firestore);return Tk(n,[$4(u,"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,_r.exists(!1))]).then((()=>a))}function Tk(s,e){const n=pk(s);return P4(n,e)}(function(s,e=!0){IN(Za),Ka(new aa("firestore",((n,{instanceIdentifier:a,options:o})=>{const u=n.getProvider("app").getImmediate(),d=new Xh(new LN(n.getProvider("auth-internal")),new DN(u,n.getProvider("app-check-internal")),JN(u,a),u);return o={useFetchStreams:e,...o},d._setSettings(o),d}),"PUBLIC").setMultipleInstances(!0)),Cr(O0,D0,s),Cr(O0,D0,"esm2020")})();var tA="firebase",nA="12.8.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/Cr(tA,nA,"app");function Sk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rA=Sk,Ck=new nu("auth","Firebase",Sk());/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Th=new tm("@firebase/auth");function sA(s,...e){Th.logLevel<=Oe.WARN&&Th.warn(`Auth (${Za}): ${s}`,...e)}function sh(s,...e){Th.logLevel<=Oe.ERROR&&Th.error(`Auth (${Za}): ${s}`,...e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function nr(s,...e){throw Lm(s,...e)}function Rr(s,...e){return Lm(s,...e)}function Nk(s,e,n){const a={...rA(),[e]:n};return new nu("auth","Firebase",a).create(e,{appName:s.name})}function sa(s){return Nk(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lm(s,...e){if(typeof s!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(n,...a)}return Ck.create(s,...e)}function ve(s,e,...n){if(!s)throw Lm(e,...n)}function as(s){const e="INTERNAL ASSERTION FAILED: "+s;throw sh(e),new Error(e)}function ds(s,e){s||as(e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function qp(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.href)||""}function aA(){return M0()==="http:"||M0()==="https:"}function M0(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.protocol)||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function iA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aA()||lC()||"connection"in navigator)?navigator.onLine:!0}function oA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ds(n>e,"Short delay should be less than long delay!"),this.isMobile=aC()||uC()}get(){return iA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Pm(s,e){ds(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _k{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;as("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;as("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;as("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const lA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const uA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cA=new uu(3e4,6e4);function si(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function da(s,e,n,a,o={}){return Ik(s,o,async()=>{let u={},d={};a&&(e==="GET"?d=a:u={body:JSON.stringify(a)});const p=ru({key:s.config.apiKey,...d}).slice(1),m=await s._getAdditionalHeaders();m["Content-Type"]="application/json",s.languageCode&&(m["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:m,...u};return oC()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Ja(s.emulatorConfig.host)&&(y.credentials="include"),_k.fetch()(await Ak(s,s.config.apiHost,n,p),y)})}async function Ik(s,e,n){s._canInitEmulator=!1;const a={...lA,...e};try{const o=new dA(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Wc(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[m,y]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wc(s,"credential-already-in-use",d);if(m==="EMAIL_EXISTS")throw Wc(s,"email-already-in-use",d);if(m==="USER_DISABLED")throw Wc(s,"user-disabled",d);const k=a[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Nk(s,k,y);nr(s,k)}}catch(o){if(o instanceof jr)throw o;nr(s,"network-request-failed",{message:String(o)})}}async function Yh(s,e,n,a,o={}){const u=await da(s,e,n,a,o);return"mfaPendingCredential"in u&&nr(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function Ak(s,e,n,a){const o=`${e}${n}?${a}`,u=s,d=u.config.emulator?Pm(s.config,o):`${s.config.apiScheme}://${o}`;return uA.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function hA(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Rr(this.auth,"network-request-failed")),cA.get())})}}function Wc(s,e,n){const a={appName:s.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=Rr(s,e,a);return o.customData._tokenResponse=n,o}function j0(s){return s!==void 0&&s.enterprise!==void 0}class fA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return hA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pA(s,e){return da(s,"GET","/v2/recaptchaConfig",si(s,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function mA(s,e){return da(s,"POST","/v1/accounts:delete",e)}async function Sh(s,e){return da(s,"POST","/v1/accounts:lookup",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ul(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gA(s,e=!1){const n=hn(s),a=await n.getIdToken(e),o=Om(a);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:Ul(mp(o.auth_time)),issuedAtTime:Ul(mp(o.iat)),expirationTime:Ul(mp(o.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function mp(s){return Number(s)*1e3}function Om(s){const[e,n,a]=s.split(".");if(e===void 0||n===void 0||a===void 0)return sh("JWT malformed, contained fewer than 3 sections"),null;try{const o=jw(n);return o?JSON.parse(o):(sh("Failed to decode base64 JWT payload"),null)}catch(o){return sh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function F0(s){const e=Om(s);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Xl(s,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof jr&&yA(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function yA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Gp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Ch(s){var e;const n=s.auth,a=await s.getIdToken(),o=await Xl(s,Sh(n,{idToken:a}));ve(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];s._notifyReloadListener(u);const d=(e=u.providerUserInfo)!=null&&e.length?Rk(u.providerUserInfo):[],p=wA(s.providerData,d),m=s.isAnonymous,y=!(s.email&&u.passwordHash)&&!(p!=null&&p.length),k=m?y:!1,E={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new Gp(u.createdAt,u.lastLoginAt),isAnonymous:k};Object.assign(s,E)}async function bA(s){const e=hn(s);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wA(s,e){return[...s.filter(n=>!e.some(a=>a.providerId===n.providerId)),...e]}function Rk(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function kA(s,e){const n=await Ik(s,{},async()=>{const a=ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,d=await Ak(s,o,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:p,body:a};return s.emulatorConfig&&Ja(s.emulatorConfig.host)&&(m.credentials="include"),_k.fetch()(d,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function EA(s,e){return da(s,"POST","/v2/accounts:revokeToken",si(s,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class so{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):F0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=F0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await kA(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,d=new so;return a&&(ve(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(ve(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new so,this.toJSON())}_performRefresh(){return as("not implemented")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Bs(s,e){ve(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Jn{constructor({uid:e,auth:n,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new vA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Gp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Xl(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gA(this,e)}reload(){return bA(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Jn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Ch(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(On(this.auth.app))return Promise.reject(sa(this.auth));const e=await this.getIdToken();return await Xl(this,mA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,m=n._redirectEventId??void 0,y=n.createdAt??void 0,k=n.lastLoginAt??void 0,{uid:E,emailVerified:A,isAnonymous:$,providerData:H,stsTokenManager:B}=n;ve(E&&B,e,"internal-error");const K=so.fromJSON(this.name,B);ve(typeof E=="string",e,"internal-error"),Bs(a,e.name),Bs(o,e.name),ve(typeof A=="boolean",e,"internal-error"),ve(typeof $=="boolean",e,"internal-error"),Bs(u,e.name),Bs(d,e.name),Bs(p,e.name),Bs(m,e.name),Bs(y,e.name),Bs(k,e.name);const ne=new Jn({uid:E,auth:e,email:o,emailVerified:A,displayName:a,isAnonymous:$,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:K,createdAt:y,lastLoginAt:k});return H&&Array.isArray(H)&&(ne.providerData=H.map(se=>({...se}))),m&&(ne._redirectEventId=m),ne}static async _fromIdTokenResponse(e,n,a=!1){const o=new so;o.updateFromServerResponse(n);const u=new Jn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Ch(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Rk(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new so;p.updateFromIdToken(a);const m=new Jn({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Gp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,y),m}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const V0=new Map;function is(s){ds(s instanceof Function,"Expected a class definition");let e=V0.get(s);return e?(ds(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,V0.set(s,e),e)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Lk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Lk.type="NONE";const U0=Lk;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ah(s,e,n){return`firebase:${s}:${e}:${n}`}class ao{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=ah(this.userKey,o.apiKey,u),this.fullPersistenceKey=ah("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sh(this.auth,{idToken:e}).catch(()=>{});return n?Jn._fromGetAccountInfoResponse(this.auth,n,e):null}return Jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new ao(is(U0),e,a);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||is(U0);const d=ah(a,e.config.apiKey,e.name);let p=null;for(const y of n)try{const k=await y._get(d);if(k){let E;if(typeof k=="string"){const A=await Sh(e,{idToken:k}).catch(()=>{});if(!A)break;E=await Jn._fromGetAccountInfoResponse(e,A,k)}else E=Jn._fromJSON(e,k);y!==u&&(p=E),u=y;break}}catch{}const m=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new ao(u,e,a):(u=m[0],p&&await u._set(d,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(d)}catch{}})),new ao(u,e,a))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function z0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Mk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Pk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Fk(e))return"Blackberry";if(Vk(e))return"Webos";if(Ok(e))return"Safari";if((e.includes("chrome/")||Dk(e))&&!e.includes("edge/"))return"Chrome";if(jk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function Pk(s=Zt()){return/firefox\//i.test(s)}function Ok(s=Zt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Dk(s=Zt()){return/crios\//i.test(s)}function Mk(s=Zt()){return/iemobile/i.test(s)}function jk(s=Zt()){return/android/i.test(s)}function Fk(s=Zt()){return/blackberry/i.test(s)}function Vk(s=Zt()){return/webos/i.test(s)}function Dm(s=Zt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function xA(s=Zt()){var e;return Dm(s)&&!!((e=window.navigator)!=null&&e.standalone)}function TA(){return cC()&&document.documentMode===10}function Uk(s=Zt()){return Dm(s)||jk(s)||Vk(s)||Fk(s)||/windows phone/i.test(s)||Mk(s)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function zk(s,e=[]){let n;switch(s){case"Browser":n=z0(Zt());break;case"Worker":n=`${z0(Zt())}-${s}`;break;default:n=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Za}/${a}`}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class SA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((d,p)=>{try{const m=e(u);d(m)}catch(m){p(m)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function CA(s,e={}){return da(s,"GET","/v2/passwordPolicy",si(s,e))}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const NA=6;class _A{constructor(e){var n;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=a.minPasswordLength??NA,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class IA{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new H0(this),this.idTokenSubscription=new H0(this),this.beforeStateQueue=new SA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ck,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=is(n)),this._initializationPromise=this.queue(async()=>{var a,o,u;if(!this._deleted&&(this.persistenceManager=await ao.create(this,e),(a=this._resolvePersistenceManagerAvailable)==null||a.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sh(this,{idToken:e}),a=await Jn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(On(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)==null?void 0:n._redirectEventId,p=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!d||d===p)&&m!=null&&m.user&&(o=m.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(On(this.app))return Promise.reject(sa(this));const n=e?hn(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return On(this.app)?Promise.reject(sa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return On(this.app)?Promise.reject(sa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CA(this),n=new _A(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new nu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await EA(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&is(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[is(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)==null?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=((e=this.currentUser)==null?void 0:e.uid)??null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,a,o);return()=>{d=!0,m()}}else{const m=e.addObserver(n);return()=>{d=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getToken());return n!=null&&n.error&&sA(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function wo(s){return hn(s)}class H0{constructor(e){this.auth=e,this.observer=null,this.addObserver=vC(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Jh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AA(s){Jh=s}function Hk(s){return Jh.loadJS(s)}function RA(){return Jh.recaptchaEnterpriseScript}function LA(){return Jh.gapiScript}function PA(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class OA{constructor(){this.enterprise=new DA}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class DA{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const MA="recaptcha-enterprise",$k="NO_RECAPTCHA";class jA{constructor(e){this.type=MA,this.auth=wo(e)}async verify(e="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{pA(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new fA(m);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,d(y.siteKey)}}).catch(m=>{p(m)})})}function o(u,d,p){const m=window.grecaptcha;j0(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(y=>{d(y)}).catch(()=>{d($k)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new OA().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{a(this.auth).then(p=>{if(!n&&j0(window.grecaptcha))o(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let m=RA();m.length!==0&&(m+=p),Hk(m).then(()=>{o(p,u,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function $0(s,e,n,a=!1,o=!1){const u=new jA(s);let d;if(o)d=$k;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const m=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const m=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function q0(s,e,n,a,o){var u;if((u=s._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await $0(s,e,n,n==="getOobCode");return a(s,d)}else return a(s,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await $0(s,e,n,n==="getOobCode");return a(s,p)}else return Promise.reject(d)})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function FA(s,e){const n=Dh(s,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if(Ba(o,e??{}))return a;nr(a,"already-initialized")}return n.initialize({options:e})}function VA(s,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(is);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function UA(s,e,n){const a=wo(s);ve(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=qk(e),{host:d,port:p}=zA(e),m=p===null?"":`:${p}`,y={url:`${u}//${d}${m}/`},k=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){ve(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),ve(Ba(y,a.config.emulator)&&Ba(k,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=k,a.settings.appVerificationDisabledForTesting=!0,Ja(d)?(Zp(`${u}//${d}${m}`),em("Auth",!0)):HA()}function qk(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function zA(s){const e=qk(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:G0(a.substr(u.length+1))}}else{const[u,d]=a.split(":");return{host:u,port:G0(d)}}}function G0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function HA(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Mm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return as("not implemented")}_getIdTokenResponse(e){return as("not implemented")}_linkToIdToken(e,n){return as("not implemented")}_getReauthenticationResolver(e){return as("not implemented")}}async function $A(s,e){return da(s,"POST","/v1/accounts:signUp",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function qA(s,e){return Yh(s,"POST","/v1/accounts:signInWithPassword",si(s,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function GA(s,e){return Yh(s,"POST","/v1/accounts:signInWithEmailLink",si(s,e))}async function BA(s,e){return Yh(s,"POST","/v1/accounts:signInWithEmailLink",si(s,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yl extends Mm{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Yl(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new Yl(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&n!=null&&n.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return q0(e,n,"signInWithPassword",qA);case"emailLink":return GA(e,{email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return q0(e,a,"signUpPassword",$A);case"emailLink":return BA(e,{idToken:n,email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function io(s,e){return Yh(s,"POST","/v1/accounts:signInWithIdp",si(s,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const KA="http://localhost";class Xa extends Mm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):nr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...u}=n;if(!a||!o)return null;const d=new Xa(a,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return io(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,io(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,io(e,n)}buildRequest(){const e={requestUri:KA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ru(n)}return e}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function WA(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QA(s){const e=Al(Rl(s)).link,n=e?Al(Rl(e)).deep_link_id:null,a=Al(Rl(s)).deep_link_id;return(a?Al(Rl(a)).link:null)||a||n||e||s}class jm{constructor(e){const n=Al(Rl(e)),a=n.apiKey??null,o=n.oobCode??null,u=WA(n.mode??null);ve(a&&o&&u,"argument-error"),this.apiKey=a,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=QA(e);try{return new jm(n)}catch{return null}}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ko{constructor(){this.providerId=ko.PROVIDER_ID}static credential(e,n){return Yl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=jm.parseLink(n);return ve(a,"argument-error"),Yl._fromEmailAndCode(e,a.code,a.tenantId)}}ko.PROVIDER_ID="password";ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Gk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cu extends Gk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ws extends cu{constructor(){super("facebook.com")}static credential(e){return Xa._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ws.credential(e.oauthAccessToken)}catch{return null}}}Ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ws.PROVIDER_ID="facebook.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qs extends cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xa._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Qs.credential(n,a)}catch{return null}}}Qs.GOOGLE_SIGN_IN_METHOD="google.com";Qs.PROVIDER_ID="google.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xs extends cu{constructor(){super("github.com")}static credential(e){return Xa._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xs.credential(e.oauthAccessToken)}catch{return null}}}Xs.GITHUB_SIGN_IN_METHOD="github.com";Xs.PROVIDER_ID="github.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ys extends cu{constructor(){super("twitter.com")}static credential(e,n){return Xa._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Ys.credential(n,a)}catch{return null}}}Ys.TWITTER_SIGN_IN_METHOD="twitter.com";Ys.PROVIDER_ID="twitter.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await Jn._fromIdTokenResponse(e,a,o),d=B0(a);return new po({user:u,providerId:d,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=B0(a);return new po({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function B0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Nh extends jr{constructor(e,n,a,o){super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new Nh(e,n,a,o)}}function Bk(s,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(s,o,e,a):o})}async function XA(s,e,n=!1){const a=await Xl(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return po._forOperation(s,"link",a)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function YA(s,e,n=!1){const{auth:a}=s;if(On(a.app))return Promise.reject(sa(a));const o="reauthenticate";try{const u=await Xl(s,Bk(a,o,e,s),n);ve(u.idToken,a,"internal-error");const d=Om(u.idToken);ve(d,a,"internal-error");const{sub:p}=d;return ve(s.uid===p,a,"user-mismatch"),po._forOperation(s,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&nr(a,"user-mismatch"),u}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Kk(s,e,n=!1){if(On(s.app))return Promise.reject(sa(s));const a="signIn",o=await Bk(s,a,e),u=await po._fromIdTokenResponse(s,a,o);return n||await s._updateCurrentUser(u.user),u}async function JA(s,e){return Kk(wo(s),e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function ZA(s){const e=wo(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function eR(s,e,n){return On(s.app)?Promise.reject(sa(s)):JA(hn(s),ko.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&ZA(s),a})}function tR(s,e,n,a){return hn(s).onIdTokenChanged(e,n,a)}function nR(s,e,n){return hn(s).beforeAuthStateChanged(e,n)}function rR(s){return hn(s).signOut()}const _h="__sak";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Wk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_h,"1"),this.storage.removeItem(_h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const sR=1e3,aR=10;class Qk extends Wk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Uk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,m)=>{this.notifyListeners(d,m)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!n&&this.localCache[a]===d||this.notifyListeners(a,d)},u=this.storage.getItem(a);TA()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,aR):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},sR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Qk.type="LOCAL";const iR=Qk;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xk extends Wk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Xk.type="SESSION";const Yk=Xk;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function oR(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new Zh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async y=>y(n.origin,u)),m=await oR(p);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zh.receivers=[];/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Fm(s="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return s+n}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((p,m)=>{const y=Fm("",20);o.port1.start();const k=setTimeout(()=>{m(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(E){const A=E;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(k),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(A.data.response);break;default:clearTimeout(k),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Lr(){return window}function uR(s){Lr().location.href=s}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Jk(){return typeof Lr().WorkerGlobalScope<"u"&&typeof Lr().importScripts=="function"}async function cR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hR(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)==null?void 0:s.controller)||null}function dR(){return Jk()?self:null}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Zk="firebaseLocalStorageDb",fR=1,Ih="firebaseLocalStorage",eE="fbase_key";class hu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ed(s,e){return s.transaction([Ih],e?"readwrite":"readonly").objectStore(Ih)}function pR(){const s=indexedDB.deleteDatabase(Zk);return new hu(s).toPromise()}function Bp(){const s=indexedDB.open(Zk,fR);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Ih,{keyPath:eE})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Ih)?e(a):(a.close(),await pR(),e(await Bp()))})})}async function K0(s,e,n){const a=ed(s,!0).put({[eE]:e,value:n});return new hu(a).toPromise()}async function mR(s,e){const n=ed(s,!1).get(e),a=await new hu(n).toPromise();return a===void 0?null:a.value}function W0(s,e){const n=ed(s,!0).delete(e);return new hu(n).toPromise()}const gR=800,yR=3;class tE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>yR)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Jk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zh._getInstance(dR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await cR(),!this.activeServiceWorker)return;this.sender=new lR(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&(e=a[0])!=null&&e.fulfilled&&(n=a[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bp();return await K0(e,_h,"1"),await W0(e,_h),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>K0(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>mR(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>W0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=ed(o,!1).getAll();return new hu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tE.type="LOCAL";const vR=tE;new uu(3e4,6e4);/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function bR(s,e){return e?is(e):(ve(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vm extends Mm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return io(e,this._buildIdpRequest())}_linkToIdToken(e,n){return io(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return io(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wR(s){return Kk(s.auth,new Vm(s),s.bypassAuthState)}function kR(s){const{auth:e,user:n}=s;return ve(n,e,"internal-error"),YA(n,new Vm(s),s.bypassAuthState)}async function ER(s){const{auth:e,user:n}=s;return ve(n,e,"internal-error"),XA(n,new Vm(s),s.bypassAuthState)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nE{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const m={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wR;case"linkViaPopup":case"linkViaRedirect":return ER;case"reauthViaPopup":case"reauthViaRedirect":return kR;default:nr(this.auth,"internal-error")}}resolve(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const xR=new uu(2e3,1e4);class Zi extends nE{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,Zi.currentPopupAction&&Zi.currentPopupAction.cancel(),Zi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const e=Fm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if((a=(n=this.authWindow)==null?void 0:n.window)!=null&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xR.get())};e()}}Zi.currentPopupAction=null;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const TR="pendingRedirect",ih=new Map;class SR extends nE{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=ih.get(this.auth._key());if(!e){try{const n=await CR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(n){e=()=>Promise.reject(n)}ih.set(this.auth._key(),e)}return this.bypassAuthState||ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CR(s,e){const n=IR(e),a=_R(s);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function NR(s,e){ih.set(s._key(),e)}function _R(s){return is(s._redirectPersistence)}function IR(s){return ah(TR,s.config.apiKey,s.name)}async function AR(s,e,n=!1){if(On(s.app))return Promise.reject(sa(s));const a=wo(s),o=bR(a,e),u=await new SR(a,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await a._persistUserIfCurrent(u.user),await a._setRedirectUser(null,e)),u}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const RR=600*1e3;class LR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!rE(e)){const o=((a=e.error.code)==null?void 0:a.split("auth/")[1])||"internal-error";n.onError(Rr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Q0(e))}saveEventToCache(e){this.cachedEventUids.add(Q0(e)),this.lastProcessedEventTime=Date.now()}}function Q0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function rE({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function PR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rE(s);default:return!1}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function OR(s,e={}){return da(s,"GET","/v1/projects",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const DR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MR=/^https?/;async function jR(s){if(s.config.emulator)return;const{authorizedDomains:e}=await OR(s);for(const n of e)try{if(FR(n))return}catch{}nr(s,"unauthorized-domain")}function FR(s){const e=qp(),{protocol:n,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const u=new URL(s);return u.hostname===""&&a===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===a}if(!MR.test(n))return!1;if(DR.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const VR=new uu(3e4,6e4);function X0(){const s=Lr().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function UR(s){return new Promise((e,n)=>{var a,o,u;function d(){X0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{X0(),n(Rr(s,"network-request-failed"))},timeout:VR.get()})}if((o=(a=Lr().gapi)==null?void 0:a.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((u=Lr().gapi)!=null&&u.load)d();else{const p=PA("iframefcb");return Lr()[p]=()=>{gapi.load?d():n(Rr(s,"network-request-failed"))},Hk(`${LA()}?onload=${p}`).catch(m=>n(m))}}).catch(e=>{throw oh=null,e})}let oh=null;function zR(s){return oh=oh||UR(s),oh}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const HR=new uu(5e3,15e3),$R="__/auth/iframe",qR="emulator/auth/iframe",GR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KR(s){const e=s.config;ve(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Pm(e,qR):`https://${s.config.authDomain}/${$R}`,a={apiKey:e.apiKey,appName:s.name,v:Za},o=BR.get(s.config.apiHost);o&&(a.eid=o);const u=s._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${ru(a).slice(1)}`}async function WR(s){const e=await zR(s),n=Lr().gapi;return ve(n,s,"internal-error"),e.open({where:document.body,url:KR(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GR,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const d=Rr(s,"network-request-failed"),p=Lr().setTimeout(()=>{u(d)},HR.get());function m(){Lr().clearTimeout(p),o(a)}a.ping(m).then(m,()=>{u(d)})}))}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const QR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XR=500,YR=600,JR="_blank",ZR="http://localhost";class Y0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function e3(s,e,n,a=XR,o=YR){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const m={...QR,width:a.toString(),height:o.toString(),top:u,left:d},y=Zt().toLowerCase();n&&(p=Dk(y)?JR:n),Pk(y)&&(e=e||ZR,m.scrollbars="yes");const k=Object.entries(m).reduce((A,[$,H])=>`${A}${$}=${H},`,"");if(xA(y)&&p!=="_self")return t3(e||"",p),new Y0(null);const E=window.open(e||"",p,k);ve(E,s,"popup-blocked");try{E.focus()}catch{}return new Y0(E)}function t3(s,e){const n=document.createElement("a");n.href=s,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const n3="__/auth/handler",r3="emulator/auth/handler",s3=encodeURIComponent("fac");async function J0(s,e,n,a,o,u){ve(s.config.authDomain,s,"auth-domain-config-required"),ve(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:a,v:Za,eventId:o};if(e instanceof Gk){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",yC(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[k,E]of Object.entries({}))d[k]=E}if(e instanceof cu){const k=e.getScopes().filter(E=>E!=="");k.length>0&&(d.scopes=k.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const k of Object.keys(p))p[k]===void 0&&delete p[k];const m=await s._getAppCheckToken(),y=m?`#${s3}=${encodeURIComponent(m)}`:"";return`${a3(s)}?${ru(p).slice(1)}${y}`}function a3({config:s}){return s.emulator?Pm(s,r3):`https://${s.authDomain}/${n3}`}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const gp="webStorageSupport";class i3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yk,this._completeRedirectFn=AR,this._overrideRedirectResult=NR}async _openPopup(e,n,a,o){var u;ds((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const d=await J0(e,n,a,qp(),o);return e3(e,d,Fm())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await J0(e,n,a,qp(),o);return uR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ds(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await WR(e),a=new LR(e);return n.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gp,{type:gp},a=>{var o;const u=(o=a==null?void 0:a[0])==null?void 0:o[gp];u!==void 0&&n(!!u),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Uk()||Ok()||Dm()}}const o3=i3;var Z0="@firebase/auth",ew="1.12.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class l3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function u3(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function c3(s){Ka(new aa("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;ve(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const m={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zk(s)},y=new IA(a,o,u,m);return VA(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),Ka(new aa("auth-internal",e=>{const n=wo(e.getProvider("auth").getImmediate());return(a=>new l3(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cr(Z0,ew,u3(s)),Cr(Z0,ew,"esm2020")}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const h3=300,d3=zw("authIdTokenMaxAge")||h3;let tw=null;const f3=s=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>d3)return;const o=n==null?void 0:n.token;tw!==o&&(tw=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function p3(s=rm()){const e=Dh(s,"auth");if(e.isInitialized())return e.getImmediate();const n=FA(s,{popupRedirectResolver:o3,persistence:[vR,iR,Yk]}),a=zw("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const d=f3(u.toString());nR(n,d,()=>d(n.currentUser)),tR(n,p=>d(p))}}const o=Fw("auth");return o&&UA(n,`http://${o}`),n}function m3(){var s;return((s=document.getElementsByTagName("head"))==null?void 0:s[0])??document}AA({loadJS(s){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const u=Rr("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",m3().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});c3("Browser");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const sE="firebasestorage.googleapis.com",g3="storageBucket",y3=120*1e3,v3=600*1e3;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fr extends jr{constructor(e,n,a=0){super(yp(e),`Firebase Storage: ${n} (${yp(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Fr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return yp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Dr;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Dr||(Dr={}));function yp(s){return"storage/"+s}function b3(){const s="An unknown error occurred, please check the error payload for server response.";return new Fr(Dr.UNKNOWN,s)}function w3(){return new Fr(Dr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function k3(){return new Fr(Dr.CANCELED,"User canceled the upload/download.")}function E3(s){return new Fr(Dr.INVALID_URL,"Invalid URL '"+s+"'.")}function x3(s){return new Fr(Dr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function nw(s){return new Fr(Dr.INVALID_ARGUMENT,s)}function aE(){return new Fr(Dr.APP_DELETED,"The Firebase app was deleted.")}function T3(s){return new Fr(Dr.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let a;try{a=Zn.makeFromUrl(e,n)}catch{return new Zn(e,"")}if(a.path==="")return a;throw x3(e)}static makeFromUrl(e,n){let a=null;const o="([A-Za-z0-9.\\-_]+)";function u(W){W.path.charAt(W.path.length-1)==="/"&&(W.path_=W.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+o+d,"i"),m={bucket:1,path:3};function y(W){W.path_=decodeURIComponent(W.path)}const k="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",$=new RegExp(`^https?://${E}/${k}/b/${o}/o${A}`,"i"),H={bucket:1,path:3},B=n===sE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,K="([^?#]*)",ne=new RegExp(`^https?://${B}/${o}/${K}`,"i"),se=[{regex:p,indices:m,postModify:u},{regex:$,indices:H,postModify:y},{regex:ne,indices:{bucket:1,path:2},postModify:y}];for(let W=0;W<se.length;W++){const ce=se[W],we=ce.regex.exec(e);if(we){const re=we[ce.indices.bucket];let C=we[ce.indices.path];C||(C=""),a=new Zn(re,C),ce.postModify(a);break}}if(a==null)throw E3(e);return a}}class S3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function C3(s,e,n){let a=1,o=null,u=null,d=!1,p=0;function m(){return p===2}let y=!1;function k(...K){y||(y=!0,e.apply(null,K))}function E(K){o=setTimeout(()=>{o=null,s($,m())},K)}function A(){u&&clearTimeout(u)}function $(K,...ne){if(y){A();return}if(K){A(),k.call(null,K,...ne);return}if(m()||d){A(),k.call(null,K,...ne);return}a<64&&(a*=2);let se;p===1?(p=2,se=0):se=(a+Math.random())*1e3,E(se)}let H=!1;function B(K){H||(H=!0,A(),!y&&(o!==null?(K||(p=2),clearTimeout(o),E(0)):K||(p=1)))}return E(0),u=setTimeout(()=>{d=!0,B(!0)},n),B}function N3(s){s(!1)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _3(s){return s!==void 0}function rw(s,e,n,a){if(a<e)throw nw(`Invalid value for '${s}'. Expected ${e} or greater.`);if(a>n)throw nw(`Invalid value for '${s}'. Expected ${n} or less.`)}function I3(s){const e=encodeURIComponent;let n="?";for(const a in s)if(s.hasOwnProperty(a)){const o=e(a)+"="+e(s[a]);n=n+o+"&"}return n=n.slice(0,-1),n}var Ah;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(Ah||(Ah={}));/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function A3(s,e){const n=s>=500&&s<600,a=[408,429].indexOf(s)!==-1,o=e.indexOf(s)!==-1;return n||a||o}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class R3{constructor(e,n,a,o,u,d,p,m,y,k,E,A=!0,$=!1){this.url_=e,this.method_=n,this.headers_=a,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=m,this.timeout_=y,this.progressCallback_=k,this.connectionFactory_=E,this.retry=A,this.isUsingEmulator=$,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((H,B)=>{this.resolve_=H,this.reject_=B,this.start_()})}start_(){const e=(a,o)=>{if(o){a(!1,new Qc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const d=p=>{const m=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,y)};this.progressCallback_!==null&&u.addUploadProgressListener(d),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(d),this.pendingConnection_=null;const p=u.getErrorCode()===Ah.NO_ERROR,m=u.getStatus();if(!p||A3(m,this.additionalRetryCodes_)&&this.retry){const k=u.getErrorCode()===Ah.ABORT;a(!1,new Qc(!1,null,k));return}const y=this.successCodes_.indexOf(m)!==-1;a(!0,new Qc(y,u))})},n=(a,o)=>{const u=this.resolve_,d=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(p,p.getResponse());_3(m)?u(m):u()}catch(m){d(m)}else if(p!==null){const m=b3();m.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,m)):d(m)}else if(o.canceled){const m=this.appDelete_?aE():k3();d(m)}else{const m=w3();d(m)}};this.canceled_?n(!1,new Qc(!1,null,!0)):this.backoffId_=C3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&N3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Qc{constructor(e,n,a){this.wasSuccessCode=e,this.connection=n,this.canceled=!!a}}function L3(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function P3(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function O3(s,e){e&&(s["X-Firebase-GMPID"]=e)}function D3(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function M3(s,e,n,a,o,u,d=!0,p=!1){const m=I3(s.urlParams),y=s.url+m,k=Object.assign({},s.headers);return O3(k,e),L3(k,n),P3(k,u),D3(k,a),new R3(y,s.method,k,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,d,p)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function j3(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function F3(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Rh{constructor(e,n){this._service=e,n instanceof Zn?this._location=n:this._location=Zn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Rh(e,n)}get root(){const e=new Zn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return F3(this._location.path)}get storage(){return this._service}get parent(){const e=j3(this._location.path);if(e===null)return null;const n=new Zn(this._location.bucket,e);return new Rh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw T3(e)}}function sw(s,e){const n=e==null?void 0:e[g3];return n==null?null:Zn.makeFromBucketSpec(n,s)}function V3(s,e,n,a={}){s.host=`${e}:${n}`;const o=Ja(e);o&&(Zp(`https://${s.host}/b`),em("Storage",!0)),s._isUsingEmulator=!0,s._protocol=o?"https":"http";const{mockUserToken:u}=a;u&&(s._overrideAuthToken=typeof u=="string"?u:Hw(u,s.app.options.projectId))}class U3{constructor(e,n,a,o,u,d=!1){this.app=e,this._authProvider=n,this._appCheckProvider=a,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=d,this._bucket=null,this._host=sE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=y3,this._maxUploadRetryTime=v3,this._requests=new Set,o!=null?this._bucket=Zn.makeFromBucketSpec(o,this._host):this._bucket=sw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zn.makeFromBucketSpec(this._url,e):this._bucket=sw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){rw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){rw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Rh(this,e)}_makeRequest(e,n,a,o,u=!0){if(this._deleted)return new S3(aE());{const d=M3(e,this._appId,a,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,n){const[a,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,a,o).getPromise()}}const aw="@firebase/storage",iw="0.14.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const iE="storage";function z3(s=rm(),e){s=hn(s);const n=Dh(s,iE).getImmediate({identifier:e}),a=Vw("storage");return a&&H3(n,...a),n}function H3(s,e,n,a={}){V3(s,e,n,a)}function $3(s,{instanceIdentifier:e}){const n=s.getProvider("app").getImmediate(),a=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new U3(n,a,o,e,Za)}function q3(){Ka(new aa(iE,$3,"PUBLIC").setMultipleInstances(!0)),Cr(aw,iw,""),Cr(aw,iw,"esm2020")}q3();const G3={apiKey:"AIzaSyANDicHlWH5ODqa2XRb1-Ypq3sBrYb6oBY",authDomain:"nmstudio-b4105.firebaseapp.com",projectId:"nmstudio-b4105",storageBucket:"nmstudio-b4105.firebasestorage.app",messagingSenderId:"",appId:""},Um=Gw(G3),vp=p3(Um),lh=j4(Um);z3(Um);const B3=({heroImages:s})=>{const[e,n]=U.useState(0),a=U.useCallback(()=>{n(u=>u===(s||[]).length-1?0:u+1)},[s]),o=U.useCallback(()=>{n(u=>u===0?(s||[]).length-1:u-1)},[s]);return U.useEffect(()=>{const u=setInterval(a,6e3);return()=>clearInterval(u)},[a]),w.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[(s||[]).map((u,d)=>w.jsxs("div",{className:`absolute inset-0 transition-opacity duration-1000 ease-in-out ${d===e?"opacity-100":"opacity-0"}`,children:[w.jsx("div",{className:"absolute inset-0 animate-breathe",children:w.jsx("img",{src:u,className:"w-full h-full object-cover",alt:`Hero ${d+1}`})}),w.jsx("div",{className:"absolute inset-0 bg-black/45 animate-pulse-brightness"})]},d)),w.jsx("button",{onClick:o,className:"absolute left-6 top-1/2 -translate-y-1/2 z-20 p-4 border border-white/20 text-white rounded-full hover:bg-brand-primary hover:border-brand-primary transition-all group",children:w.jsx(qT,{className:"w-10 h-10 group-hover:scale-110 transition-transform"})}),w.jsx("button",{onClick:a,className:"absolute right-6 top-1/2 -translate-y-1/2 z-20 p-4 border border-white/20 text-white rounded-full hover:bg-brand-primary hover:border-brand-primary transition-all group",children:w.jsx(BT,{className:"w-10 h-10 group-hover:scale-110 transition-transform"})}),w.jsx("div",{className:"absolute bottom-12 left-1/2 -translate-x-1/2 z-20 flex gap-3",children:(s||[]).map((u,d)=>w.jsx("button",{onClick:()=>n(d),className:`transition-all duration-500 rounded-full h-1.5 ${d===e?"w-12 bg-brand-primary":"w-4 bg-white/30 hover:bg-white/50"}`},d))})]})},K3=({target:s,duration:e=1e3,suffix:n="+"})=>{const[a,o]=U.useState(0),u=U.useRef(null),[d,p]=U.useState(!1);return U.useEffect(()=>{const m=new IntersectionObserver(([y])=>{y.isIntersecting&&!d&&p(!0)},{threshold:.5});return u.current&&m.observe(u.current),()=>m.disconnect()},[d]),U.useEffect(()=>{if(!d)return;let m=null;const y=k=>{m||(m=k);const E=k-m,A=Math.min(Math.floor(E/e*s),s);o(A),E<e&&requestAnimationFrame(y)};requestAnimationFrame(y)},[d,s,e]),w.jsxs("div",{ref:u,className:"text-4xl font-heading font-bold text-[#705d3f] transition-colors duration-300",style:{filter:"drop-shadow(0 2px 2px rgba(0,0,0,0.1))"},children:[a,n]})},W3={nav_items:[{label:"V CHNG TI",href:"#story",view:"about"},{label:"DCH V",href:"#services",view:"services"},{label:"D N",href:"#projects",view:"home"},{label:"CM NANG",href:"#blog",view:"handbook"},{label:"LIN H",href:"#contact",view:"contact"}],hero_images:["https://images.unsplash.com/photo-1600607686527-6fb886090705?auto=format&fit=crop&q=80&w=2000"],project_categories:[{id:"all",label:"Tt c",header:"TT C D N"},{id:"arch",label:"Thit k kin trc",header:"THIT K KIN TRC"},{id:"interior",label:"Thit k ni tht",header:"THIT K NI THT"},{id:"construction",label:"Thi Cng",header:"THI CNG HON THIN"},{id:"cgi",label:"Din ha CGI",header:"DIN HA CGI"},{id:"ai",label:"Dch V AI",header:"SNG TO BNG AI"}],projects:[]},oE=[{title:"THIT K KIN TRC",icon:w.jsx(Lw,{className:"w-5 h-5"}),img:"https://images.unsplash.com/photo-1600607687920-4e2a09cf159d?auto=format&fit=crop&q=80&w=600"},{title:"THIT K NI THT",icon:w.jsx(Rw,{className:"w-5 h-5"}),img:"https://images.unsplash.com/photo-1618221195710-dd6b41faaea6?auto=format&fit=crop&q=80&w=600"},{title:"THI CNG HON THIN",icon:w.jsx(Iw,{className:"w-5 h-5"}),img:"https://images.unsplash.com/photo-1503387762-592dee58c460?auto=format&fit=crop&q=80&w=600"},{title:"T VN GIM ST",icon:w.jsx(Aw,{className:"w-5 h-5"}),img:"https://images.unsplash.com/photo-1541888946425-d81bb19480c5?auto=format&fit=crop&q=80&w=600"},{title:"DIN HO CGI",icon:w.jsx(_w,{className:"w-5 h-5"}),img:"https://images.unsplash.com/photo-1600566753376-12c8ab7fb75b?auto=format&fit=crop&q=80&w=600"},{title:"SNG TO BNG AI",icon:w.jsx(Ow,{className:"w-5 h-5"}),img:"https://images.unsplash.com/photo-1677442136019-21780ecad995?auto=format&fit=crop&q=80&w=600"}],bp={arch:{label:"QUY TRNH THIT K KIN TRC",stages:[{title:"G 1",subtitle:"TIP NHN THNG TIN & KHO ST",desc:"Tip nhn yu cu, kho st hin trng t/cng trnh v kho st nhu cu chi tit ca gia ch.",icon:w.jsx(AS,{className:"w-8 h-8"})},{title:"G 2",subtitle:"BO GI & HP NG",desc:"Lp bo gi chi tit, cht tin  v k kt hp ng thit k chnh thc.",pay:" 50% Ph thit k",icon:w.jsx(nS,{className:"w-8 h-8"})},{title:"G 3",subtitle:"PHC THO & CONCEPT",desc:"Mt bng cng nng (2D) v gii gii php hnh khi kin trc (3D). iu chnh ti a 3 ln.",pay:" 30% Ph thit k",icon:w.jsx(Lw,{className:"w-8 h-8"})},{title:"G 4",subtitle:"H S K THUT THI CNG",desc:"Trin khai h s k thut chi tit phc v xin php v thi cng hon thin.",pay:" 20% Bn giao h s",icon:w.jsx(Rw,{className:"w-8 h-8"})}]},interior:{label:"QUY TRNH THIT K NI THT",stages:[{title:"G 1",subtitle:"KHO ST & PHN TCH",desc:"Kho st hin trng mt bng, o c v phn tch thi quen sinh hot gia ch.",icon:w.jsx(LS,{className:"w-8 h-8"})},{title:"G 2",subtitle:"BO GI & HP NG",desc:" xut phng n hp tc v k kt hp ng thit k ni tht.",pay:" 50% Ph thit k",icon:w.jsx(VT,{className:"w-8 h-8"})},{title:"G 3",subtitle:"PHC THO & CONCEPT",desc:"Mt bng 2D, Concept Moodboard vt liu v dng phi cnh 3D ni tht.",pay:" 30% Ph thit k",icon:w.jsx(lS,{className:"w-8 h-8"})},{title:"G 4",subtitle:"H S K THUT",desc:"Thit k h s k thut thi cng, sn xut ni tht chi tit v bn giao.",pay:" 20% Bn giao h s",icon:w.jsx(_b,{className:"w-8 h-8"})}]},construction:{label:"THI CNG HON THIN NI THT",stages:[{title:"G 1",subtitle:"CHUN B",desc:"Kho st o c thc t, lp d ton chi tit v k hp ng thi cng.",pay:" 50% Tm ng thi cng",icon:w.jsx(XT,{className:"w-8 h-8"})},{title:"G 2",subtitle:"TRIN KHAI THI CNG",desc:"Sn xut ni tht ti xng, thi cng lp t ti cng trnh theo tin .",pay:" 30% Theo tin ",icon:w.jsx(Iw,{className:"w-8 h-8"})},{title:"G 3",subtitle:"HON THIN & BN GIAO",desc:"Nghim thu thm m, bn giao cng trnh v kch hot bo hnh.",pay:" 20% Khi bn giao",icon:w.jsx(jT,{className:"w-8 h-8"})}]},supervision:{label:"T VN GIM ST",stages:[{title:"G 1",subtitle:"TIP NHN & THNG NHT",desc:"Tip nhn h s thit k, xc nh phm vi v lp k hoch gim st.",pay:" 40% Tm ng",icon:w.jsx(_b,{className:"w-8 h-8"})},{title:"G 2",subtitle:"GIM ST THI CNG",desc:"Kim tra thi cng theo h s, ghi nhn bo co v kin ngh iu chnh k thut.",pay:" 40% Theo tin ",icon:w.jsx(Aw,{className:"w-8 h-8"})},{title:"G 3",subtitle:"NGHIM THU & BN GIAO",desc:"Tham gia nghim thu hon thin v bo co nh gi kt qu gim st.",pay:" 20% Kt thc H",icon:w.jsx(WT,{className:"w-8 h-8"})}]},cgi:{label:"QUY TRNH DIN HO CGI",stages:[{title:"G 1",subtitle:"TIP NHN BRIEF",desc:"Nhn bn v concept, thng nht s lng nh v mc  chi tit th hin.",pay:" 50% Tm ng",icon:w.jsx(sS,{className:"w-8 h-8"})},{title:"G 2",subtitle:"DNG HNH & NH SNG",desc:"Dng Model 3D khng gian, thit lp vt liu, nh sng v gc my.",icon:w.jsx(dS,{className:"w-8 h-8"})},{title:"G 3",subtitle:"RENDER & HIU CHNH",desc:"Render nh cht lng cao v hiu chnh theo phn hi ca khch hng.",pay:" 40% Sau Render",icon:w.jsx(_w,{className:"w-8 h-8"})},{title:"G 4",subtitle:"BN GIAO",desc:"Bn giao sn phm Final cht lng cao phc v truyn thng.",pay:" 10% Quyt ton",icon:w.jsx(FS,{className:"w-8 h-8"})}]},ai:{label:"SNG TO BNG AI",stages:[{title:"G 1",subtitle:"TIP NHN & NH HNG",desc:"Nhn Brief mc tiu s dng,  xut hng concept AI ph hp.",pay:" 50% Tm ng",icon:w.jsx(Ow,{className:"w-8 h-8"})},{title:"G 2",subtitle:"TRIN KHAI PHNG N AI",desc:"To concept & hnh nh bng AI chuyn su, th nghim nhiu bin th nhanh.",icon:w.jsx(DT,{className:"w-8 h-8"})},{title:"G 3",subtitle:"TINH CHNH & HON THIN",desc:"Lc chn phng n tt nht v tinh chnh chi tit theo phn hi.",pay:" 40% Cht phng n",icon:w.jsx(MS,{className:"w-8 h-8"})},{title:"G 4",subtitle:"BN GIAO",desc:"Bn giao sn phm Final v hng dn h tr s dng cho gia ch.",pay:" 10% Quyt ton",icon:w.jsx(ES,{className:"w-8 h-8"})}]}},Q3=({content:s})=>{var e;const n=eu(),a=rr(),o=U.useRef(null),[u,d]=U.useState("arch"),[p,m]=U.useState("all"),[y,k]=U.useState(!1),{hero_images:E,project_categories:A,projects:$}=s,[H,B]=U.useState([]);U.useEffect(()=>{B($||[]),(async()=>{try{const W=(await xk($p(lh,"projects"))).docs.map(ce=>({id:ce.id,...ce.data()}));B(ce=>[...W,...ce])}catch(W){console.error("Failed to fetch dynamic projects:",W)}})()},[$]),U.useEffect(()=>{var W;((W=a.state)==null?void 0:W.scrollTo)==="projects"&&setTimeout(()=>{var ce;(ce=o.current)==null||ce.scrollIntoView({behavior:"smooth"})},100)},[a]);const K=p==="all"?H:H.filter(W=>W.category===p),ne=y?K:K.slice(0,3),se=((e=(A||[]).find(W=>W.id===p))==null?void 0:e.header)||"TT C D N";return w.jsxs(w.Fragment,{children:[w.jsxs("section",{className:"relative h-screen flex items-center justify-center text-white overflow-hidden",children:[w.jsx(B3,{heroImages:E}),w.jsxs("div",{className:"relative z-10 text-center px-6 max-w-4xl",children:[w.jsx("h1",{className:"text-5xl md:text-7xl font-heading font-bold mb-4 leading-tight",children:"Gii php khng gian t  tng n hon thin"}),w.jsx("p",{className:"text-sm md:text-base text-gray-200 mb-10 max-w-2xl mx-auto font-light leading-relaxed",children:"Thit k, thi cng, din ho v sng to bng AI"}),w.jsx("div",{className:"flex flex-col md:flex-row gap-4 justify-center",children:w.jsx("a",{href:"#projects",onClick:W=>{var ce;W.preventDefault(),(ce=o.current)==null||ce.scrollIntoView({behavior:"smooth"})},className:"bg-brand-primary py-4 px-10 font-bold uppercase tracking-widest hover:bg-white hover:text-black transition-all",children:"XEM CNG TRNH THC T"})})]})]}),w.jsx("section",{className:"bg-white py-20 border-b border-gray-100",children:w.jsx("div",{className:"container mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-8 text-center relative",children:[{v:15,l:"NM KINH NGHIM"},{v:250,l:"CNG TRNH HON THIN"},{v:10,l:"TNH THNH / QUC GIA"}].map((W,ce)=>w.jsxs("div",{className:"group cursor-default flex flex-col items-center",children:[w.jsx(K3,{target:W.v}),w.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400 mt-2 font-bold",children:W.l})]},ce))})}),w.jsx("section",{id:"services",className:"py-24 bg-white border-b border-gray-50 overflow-hidden",children:w.jsxs("div",{className:"container mx-auto px-6",children:[w.jsxs("div",{className:"text-center mb-16",children:[w.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold uppercase tracking-widest",children:"DCH V CUNG CP"}),w.jsx("div",{className:"w-20 h-1 bg-brand-primary mx-auto mt-6"})]}),w.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:oE.map((W,ce)=>w.jsxs("div",{onClick:()=>n("/services"),className:"group relative overflow-hidden h-[350px] cursor-pointer shadow-lg rounded-sm",children:[w.jsx("img",{src:W.img,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",alt:W.title}),w.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent flex flex-col justify-end p-6",children:[w.jsx("div",{className:"text-brand-primary mb-3 transition-transform group-hover:-translate-y-1",children:W.icon}),w.jsx("h3",{className:"text-[10px] md:text-xs font-bold text-white uppercase tracking-[0.15em] leading-tight",children:W.title})]})]},ce))})]})}),w.jsx("section",{className:"py-16 bg-[#e0ddd2] text-gray-900 overflow-hidden",children:w.jsxs("div",{className:"container mx-auto px-6",children:[w.jsx("div",{className:"flex justify-center mb-16 overflow-x-auto scrollbar-hide pb-4",children:w.jsx("div",{className:"inline-flex bg-white/50 p-1 rounded-sm border border-black/5 whitespace-nowrap shadow-sm",children:Object.keys(bp).map(W=>w.jsx("button",{onClick:()=>d(W),className:`px-5 py-3 text-[9px] md:text-[10px] font-bold uppercase tracking-[0.2em] transition-all ${u===W?"bg-brand-primary text-white shadow-lg":"text-gray-500 hover:text-brand-primary"}`,children:bp[W].label},W))})}),w.jsx("div",{className:"max-w-7xl mx-auto relative px-4",children:w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:bp[u].stages.map((W,ce)=>w.jsxs("div",{className:"relative group animate-fadeIn flex flex-col items-center text-center",children:[w.jsx("div",{className:"w-12 h-12 rounded-full bg-white border border-gray-200 flex items-center justify-center z-10 group-hover:border-brand-primary transition-all shadow-md mb-6",children:w.jsx("div",{className:"text-gray-400 group-hover:text-brand-primary transition-all scale-75",children:W.icon})}),w.jsxs("div",{className:"bg-white/70 backdrop-blur-sm p-6 rounded-sm border border-black/5 group-hover:border-brand-primary/20 transition-all flex flex-col items-center w-full h-full shadow-sm hover:shadow-xl group-hover:bg-white",children:[w.jsx("h5",{className:"text-[10px] font-bold text-brand-primary uppercase tracking-[0.3em] mb-2",children:W.title}),w.jsx("h4",{className:"text-sm md:text-base font-bold mb-4 uppercase tracking-widest min-h-[40px] flex items-center justify-center text-gray-800",children:W.subtitle}),w.jsx("p",{className:"text-gray-600 text-[11px] font-medium tracking-widest leading-relaxed mb-6",children:W.desc}),W.pay&&w.jsxs("div",{className:"mt-auto flex items-center gap-2 bg-brand-primary/10 py-2 px-4 rounded-sm border border-brand-primary/10 w-fit",children:[w.jsx(JT,{className:"w-3 h-3 text-brand-primary"}),w.jsxs("span",{className:"text-[9px] font-bold text-brand-primary uppercase tracking-widest leading-none",children:["THNG TON: ",W.pay.replace("","").trim()]})]})]})]},ce))})})]})}),w.jsx("section",{id:"projects",ref:o,className:"py-24 bg-gray-50 overflow-hidden",children:w.jsxs("div",{className:"container mx-auto px-6",children:[w.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-16 gap-6",children:[w.jsxs("div",{className:"w-full md:w-1/2",children:[w.jsx("h4",{className:"text-brand-primary font-bold text-xs uppercase tracking-[0.3em] mb-4 uppercase",children:"D N"}),w.jsx("h2",{className:"text-4xl font-heading font-bold uppercase tracking-widest transition-all animate-fadeIn",children:se})]}),w.jsx("div",{className:"w-full md:w-1/2 flex justify-end",children:w.jsx("div",{className:"flex flex-wrap gap-2 justify-end bg-white/50 p-2 border border-gray-100 rounded-sm",children:(A||[]).map(W=>w.jsx("button",{onClick:()=>{m(W.id),k(!1)},className:`px-4 py-2 text-[10px] font-bold uppercase tracking-widest transition-all ${p===W.id?"bg-brand-primary text-white shadow-sm":"text-gray-400 hover:text-brand-primary"}`,children:W.label},W.id))})})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:ne.length>0?ne.map(W=>w.jsxs("div",{onClick:()=>n(`/project/${W.id}`),className:"group cursor-pointer bg-white overflow-hidden shadow-md hover:shadow-2xl transition-all duration-500 rounded-sm",children:[w.jsxs("div",{className:"relative overflow-hidden aspect-[4/3]",children:[w.jsx("img",{src:W.gallery[0]||"placeholder.jpg",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-1000",alt:W.title}),w.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors"})]}),w.jsx("div",{className:"p-8 flex justify-between items-center text-center",children:w.jsxs("div",{className:"w-full",children:[w.jsx("h3",{className:"text-xl font-bold mb-2 group-hover:text-brand-primary transition-colors uppercase",children:W.title}),w.jsxs("p",{className:"text-[10px] text-gray-500 uppercase tracking-widest font-bold",children:[W.floors,"  ",W.area,"  ",W.style]})]})})]},W.id)):w.jsx("div",{className:"col-span-full py-20 text-center opacity-40",children:w.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest",children:"ang cp nht thm d n trong mc ny..."})})}),!y&&K.length>3&&w.jsx("div",{className:"flex justify-center mt-16 animate-fadeIn",children:w.jsxs("button",{onClick:()=>k(!0),className:"border-2 border-[#705d3f] text-[#705d3f] px-12 py-4 text-[12px] font-bold uppercase tracking-[0.3em] hover:bg-[#705d3f] hover:text-white transition-all rounded-sm shadow-md flex items-center gap-4 group",children:["TI THM ",w.jsx(Pw,{className:"w-4 h-4 group-hover:rotate-90 transition-transform"})]})})]})})]})},X3=()=>w.jsxs("div",{className:"pt-24 min-h-screen bg-[#e0ddd2] flex flex-col lg:flex-row animate-fadeIn",children:[w.jsxs("div",{className:"w-full lg:w-1/2 px-8 lg:px-24 py-16 flex flex-col justify-center",children:[w.jsx("h4",{className:"text-brand-primary font-bold text-xs uppercase tracking-[0.4em] mb-6",children:"GII THIU"}),w.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-bold mb-10 text-brand-secondary leading-tight uppercase",children:"V NM Studio"}),w.jsxs("div",{className:"space-y-6 text-gray-700 leading-relaxed text-sm md:text-base font-light",children:[w.jsx("p",{children:"NM Studio l n v hot ng trong lnh vc thit k kin trc  ni tht, thi cng hon thin v din ho khng gian, vi hn 15 nm kinh nghim trong ngnh."}),w.jsx("p",{children:"Thnh lp t nm 2007, NM Studio khi u vi cc d n thit k nh , bit th v tham gia din ho kin trc  ni tht cho nhiu cng ty thit k trong v ngoi nc."})]}),w.jsx("div",{className:"mt-12",children:w.jsx("div",{className:"w-20 h-1 bg-brand-primary"})})]}),w.jsx("div",{className:"w-full lg:w-1/2 min-h-[500px] lg:min-h-0 relative overflow-hidden",children:w.jsx("img",{src:"https://images.unsplash.com/photo-1600607687920-4e2a09cf159d?auto=format&fit=crop&q=80&w=2000",className:"w-full h-full object-cover grayscale hover:grayscale-0 transition-all duration-1000",alt:"Studio View"})})]}),Y3=()=>w.jsxs("div",{className:"pt-24 min-h-screen bg-[#f4f1ea] animate-fadeIn",children:[w.jsxs("div",{className:"container mx-auto px-6 py-16 text-center max-w-4xl",children:[w.jsx("h4",{className:"text-brand-primary font-bold text-xs uppercase tracking-[0.4em] mb-6",children:"GII PHP TON DIN"}),w.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-bold mb-8 text-brand-secondary uppercase tracking-widest",children:"DCH V  NM STUDIO"}),w.jsx("p",{className:"text-gray-600 leading-relaxed text-sm md:text-base font-light mb-12",children:"NM Studio cung cp h sinh thi dch v ton din, p ng trn vn nhu cu t  tng n trin khai cho d n ca bn."}),w.jsx("div",{className:"w-20 h-1 bg-brand-primary mx-auto"})]}),w.jsx("div",{className:"container mx-auto px-6 pb-24 grid md:grid-cols-2 gap-16 items-center",children:oE.map((s,e)=>w.jsxs("div",{className:"group relative overflow-hidden h-[400px] shadow-xl",children:[w.jsx("img",{src:s.img,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700",alt:s.title}),w.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/20 to-transparent flex flex-col justify-end p-8",children:[w.jsx("div",{className:"text-brand-primary mb-4",children:s.icon}),w.jsx("h3",{className:"text-xl font-bold text-white uppercase tracking-widest",children:s.title})]})]},e))})]}),J3=()=>w.jsxs("div",{className:"pt-24 min-h-screen bg-white animate-fadeIn",children:[w.jsxs("div",{className:"h-[60vh] relative overflow-hidden flex items-center justify-center text-center",children:[w.jsx("img",{src:"https://images.unsplash.com/photo-1497366216548-37526070297c?auto=format&fit=crop&q=80&w=2000",className:"absolute inset-0 w-full h-full object-cover grayscale opacity-20",alt:"Blog BG"}),w.jsxs("div",{className:"relative z-10 px-6 max-w-4xl",children:[w.jsx("h4",{className:"text-brand-primary font-bold text-xs uppercase tracking-[0.5em] mb-6",children:"KIN THC CHUYN NGNH"}),w.jsx("h1",{className:"text-5xl md:text-7xl font-heading font-bold text-gray-900 mb-8 uppercase tracking-widest",children:"Cm Nang NM Studio"}),w.jsx("p",{className:"text-gray-500 font-light text-sm md:text-base leading-relaxed max-w-2xl mx-auto",children:"Chia s kinh nghim thc t trong thit k, thi cng v qun l d n xy dng t i ng 15 nm kinh nghim."})]})]}),w.jsx("div",{className:"container mx-auto px-6 py-20",children:w.jsx("div",{className:"max-w-4xl mx-auto space-y-24",children:w.jsxs("article",{className:"prose prose-brand max-w-none",children:[w.jsxs("div",{className:"flex items-center gap-4 mb-10 text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:[w.jsxs("span",{className:"flex items-center gap-2",children:[w.jsx(zT,{className:"w-3 h-3"})," 24 Thng 05, 2024"]}),w.jsx("span",{className:"w-1 h-1 bg-gray-300 rounded-full"}),w.jsx("span",{className:"text-brand-primary",children:"Kin trc & K thut"})]}),w.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-gray-900 mb-8 uppercase tracking-wide leading-snug",children:"La chn phong cch kin trc: Cn hiu ng  trnh lng ph v hi tic"}),w.jsxs("div",{className:"text-sm md:text-base text-gray-600 font-light leading-relaxed space-y-8",children:[w.jsxs("p",{children:[w.jsx("strong",{children:"1. M bi:"})," Trong hn 15 nm tham gia t vn v thi cng, chng ti nhn thy mt sai lm ph bin ca nhiu ch u t..."]}),w.jsx("h3",{className:"text-xl font-bold text-gray-800 uppercase tracking-widest mt-12 border-l-4 border-brand-primary pl-4",children:"2. Gii thch khi nim"}),w.jsx("p",{children:'Phong cch kin trc khng ch l "ci v" bn ngoi ca ngi nh...'}),w.jsx("div",{className:"mt-20 pt-10 border-t border-gray-100 italic text-gray-400 text-sm text-center",children:"Vic hiu ng v la chn phong cch kin trc s gip ch u t hn ch ri ro v pht sinh khng cn thit trong qu trnh thit k  thi cng. Nu cn t vn c th cho d n ca mnh, bn c th trao i thm vi NM Studio."})]})]})})})]}),Z3=()=>w.jsxs("div",{className:"pt-24 min-h-screen bg-[#111] animate-fadeIn",children:[w.jsxs("div",{className:"py-20 text-center px-6",children:[w.jsx("h4",{className:"text-brand-primary font-bold text-[10px] uppercase tracking-[0.5em] mb-4",children:"CONTACT US"}),w.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-bold text-white uppercase tracking-widest mb-6",children:"Lin H / Nhn T Vn"}),w.jsx("div",{className:"w-16 h-1 bg-brand-primary mx-auto"})]}),w.jsx("div",{className:"container mx-auto px-6 pb-24",children:w.jsx("div",{className:"max-w-4xl mx-auto bg-[#1a1a1a] p-8 md:p-12 border border-white/5 shadow-2xl rounded-sm",children:w.jsxs("form",{id:"nm-contact",className:"space-y-10",children:[w.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Tn (bt buc)"}),w.jsx("input",{name:"firstName",required:!0,placeholder:"Tn",className:"w-full bg-[#111] border border-white/10 p-4 text-xs text-white focus:border-brand-primary outline-none transition-all"})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"H (bt buc)"}),w.jsx("input",{name:"lastName",required:!0,placeholder:"H",className:"w-full bg-[#111] border border-white/10 p-4 text-xs text-white focus:border-brand-primary outline-none transition-all"})]})]}),w.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Email (bt buc)"}),w.jsx("input",{type:"email",name:"email",required:!0,placeholder:"example@email.com",className:"w-full bg-[#111] border border-white/10 p-4 text-xs text-white focus:border-brand-primary outline-none transition-all"})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"in thoi (bt buc)"}),w.jsx("input",{name:"phone",required:!0,placeholder:"09xx xxx xxx",className:"w-full bg-[#111] border border-white/10 p-4 text-xs text-white focus:border-brand-primary outline-none transition-all"})]})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("legend",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Loi d n (bt buc  chn nhiu)"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:["Cng trnh mi","Ci to / nng cp","Ni tht","Kin trc","Thng mi / Vn phng / Dch v","Khc"].map(s=>w.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[w.jsx("input",{type:"checkbox",name:"projectTypes",value:s,className:"w-4 h-4 accent-brand-primary"}),w.jsx("span",{className:"text-[11px] text-gray-400 group-hover:text-white transition-colors",children:s})]},s))})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("legend",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Dch v quan tm (bt buc  chn nhiu)"}),w.jsx("div",{className:"space-y-3",children:["Design  Thit k kin trc / ni tht","Build  Thi cng hon thin ni tht","Visualization (CGI)  Din ho kin trc / ni tht","AI  Din ho nhanh & concept","AI Creative  Logo / Website /  ho / Truyn thng","Cha xc nh  cn t vn"].map(s=>w.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[w.jsx("input",{type:"checkbox",name:"services",value:s,className:"w-4 h-4 accent-brand-primary"}),w.jsx("span",{className:"text-[11px] text-gray-400 group-hover:text-white transition-colors",children:s})]},s))})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"V tr d n"}),w.jsx("input",{name:"location",placeholder:"Qun / Thnh ph / Tnh",className:"w-full bg-[#111] border border-white/10 p-4 text-xs text-white focus:border-brand-primary outline-none transition-all"})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("legend",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Phm vi mong mun (chn nhiu)"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["T vn nh hng ban u","Thit k concept","Thit k chi tit k thut","Thi cng trn gi","Din ho thuyt trnh / marketing","ng dng AI  ln  tng nhanh"].map(s=>w.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[w.jsx("input",{type:"checkbox",name:"scope",value:s,className:"w-4 h-4 accent-brand-primary"}),w.jsx("span",{className:"text-[11px] text-gray-400 group-hover:text-white transition-colors",children:s})]},s))})]}),w.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Thi gian d kin"}),w.jsxs("select",{name:"timeline",className:"w-full bg-[#111] border border-white/10 p-4 text-xs text-white focus:border-brand-primary outline-none transition-all appearance-none",children:[w.jsx("option",{value:"",children:"Chn"}),w.jsx("option",{children:"Ngay"}),w.jsx("option",{children:"Trong 13 thng"}),w.jsx("option",{children:"Trong 36 thng"}),w.jsx("option",{children:"Cha xc nh"})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Ngn sch d kin"}),w.jsxs("select",{name:"budget",className:"w-full bg-[#111] border border-white/10 p-4 text-xs text-white focus:border-brand-primary outline-none transition-all appearance-none",children:[w.jsx("option",{value:"",children:"Chn"}),w.jsx("option",{children:"Di 500 triu"}),w.jsx("option",{children:"500 triu  1 t"}),w.jsx("option",{children:"1  3 t"}),w.jsx("option",{children:"Trn 3 t"}),w.jsx("option",{children:"Cha xc nh / mun t vn"})]})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Hy cho chng ti bit thm v d n ca bn (bt buc)"}),w.jsx("p",{className:"text-[9px] text-gray-500 uppercase italic mb-2 tracking-widest",children:"Gi : Loi cng trnh, din tch, tnh trng hin ti, phong cch mong mun..."}),w.jsx("textarea",{name:"message",required:!0,rows:6,placeholder:"V d: Cn h 85m2, cn thit k ni tht theo phong cch hin i...",className:"w-full bg-[#111] border border-white/10 p-4 text-xs text-white focus:border-brand-primary outline-none transition-all resize-none"})]}),w.jsxs("div",{className:"text-center space-y-4",children:[w.jsxs("button",{type:"submit",className:"bg-[#D49910] hover:bg-[#B3800D] text-black font-bold uppercase tracking-[0.3em] px-12 py-5 text-sm transition-all shadow-xl rounded-sm active:scale-95 flex items-center gap-4 mx-auto",children:["Np / Send ",w.jsx(OS,{className:"w-4 h-4"})]}),w.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-widest opacity-75",children:"NM Studio s lin h li trong 2448 gi lm vic."})]})]})})})]}),e6=({projects:s})=>{const{id:e}=L2(),n=eu(),a=s.find(d=>String(d.id)===e),[o,u]=U.useState("");return U.useEffect(()=>{a&&a.gallery&&a.gallery.length>0&&u(a.gallery[0])},[a]),a?w.jsx("div",{className:"pt-24 min-h-screen bg-white animate-fadeIn",children:w.jsxs("div",{className:"container mx-auto px-6 py-12",children:[w.jsxs("button",{onClick:()=>n("/"),className:"flex items-center gap-2 text-gray-400 hover:text-brand-primary text-xs font-bold uppercase tracking-widest mb-12 transition-all group",children:[w.jsx(PT,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})," Quay li trang ch"]}),w.jsxs("div",{className:"flex flex-col lg:flex-row gap-16",children:[w.jsxs("div",{className:"w-full lg:w-1/3 space-y-10",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-bold text-gray-900 leading-tight mb-4 uppercase",children:a.title}),w.jsx("div",{className:"w-16 h-1 bg-brand-primary"})]}),w.jsx("div",{className:"grid grid-cols-2 gap-y-8 gap-x-4",children:[{label:"V tr",val:a.location},{label:"Nm thc hin",val:a.year},{label:"Phong cch",val:a.style},{label:"Quy m",val:a.floors},{label:"Din tch",val:a.area},{label:"Loi hnh",val:a.type}].map((d,p)=>w.jsxs("div",{children:[w.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest mb-1",children:d.label}),w.jsx("p",{className:"text-sm font-bold text-gray-800 uppercase",children:d.val})]},p))}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest mb-1",children:"M t d n"}),w.jsx("p",{className:"text-sm text-gray-600 leading-relaxed font-light",children:a.description})]}),w.jsx("button",{onClick:()=>n("/contact"),className:"w-full bg-brand-primary text-white py-4 px-10 text-[11px] font-bold uppercase tracking-widest hover:bg-brand-secondary transition-all shadow-lg",children:"LIN H NGAY"})]}),w.jsxs("div",{className:"w-full lg:w-2/3 space-y-6",children:[w.jsx("div",{className:"aspect-video w-full overflow-hidden shadow-2xl bg-gray-100",children:w.jsx("img",{src:o,className:"w-full h-full object-cover animate-fadeIn",alt:a.title})}),w.jsx("div",{className:"grid grid-cols-4 md:grid-cols-6 gap-4",children:a.gallery.map((d,p)=>w.jsx("div",{onClick:()=>u(d),className:`aspect-square overflow-hidden cursor-pointer border-2 transition-all ${o===d?"border-brand-primary opacity-100 scale-95":"border-transparent opacity-60 hover:opacity-100"}`,children:w.jsx("img",{src:d,className:"w-full h-full object-cover",alt:`Thumb ${p}`})},p))})]})]})]})}):w.jsxs("div",{className:"pt-32 text-center",children:[w.jsx("p",{children:"Khng tm thy d n hoc ang ti..."}),w.jsx("button",{onClick:()=>n("/"),className:"text-brand-primary mt-4 underline",children:"Quay v trang ch"})]})},t6=()=>{U.useEffect(()=>{console.log("!!! ADMIN COMPONENT MOUNTED !!!")},[]);const[s,e]=U.useState(null),[n,a]=U.useState(""),[o,u]=U.useState(""),[d,p]=U.useState(""),[m,y]=U.useState([]),[k,E]=U.useState(!1),[A,$]=U.useState(!1),[H,B]=U.useState({title:"",category:"arch",location:"",year:new Date().getFullYear().toString(),style:"",floors:"",area:"",type:"",description:"",gallery:[]});U.useEffect(()=>vp.onAuthStateChanged(re=>{e(re),re&&K()}),[]);const K=async()=>{try{const re=(await xk($p(lh,"projects"))).docs.map(C=>({id:C.id,...C.data()}));y(re)}catch(re){console.error("Error fetching posts:",re)}},ne=async re=>{re.preventDefault(),p("");try{await eR(vp,n,o)}catch(C){p("Login failed. Check your email/password."),console.error(C)}},se=async re=>{if(re.preventDefault(),!H.title)return alert("Title is required");try{$(!0),await eA($p(lh,"projects"),{...H,createdAt:new Date().toISOString()}),alert("Project created successfully!"),B({title:"",category:"arch",location:"",year:new Date().getFullYear().toString(),style:"",floors:"",area:"",type:"",description:"",gallery:[]}),E(!1),K()}catch(C){console.error("Error adding document: ",C),alert("Error saving post")}finally{$(!1)}},W=async re=>{if(!re.target.files)return;$(!0);const C=Array.from(re.target.files),S="dwupjsbf0",N="nmstudio_upload";try{const O=C.map(async M=>{var _;const Xe=new FormData;Xe.append("file",M),Xe.append("upload_preset",N);const ut=await fetch(`https://api.cloudinary.com/v1_1/${S}/image/upload`,{method:"POST",body:Xe});if(!ut.ok){const Q=await ut.json();throw new Error(((_=Q.error)==null?void 0:_.message)||"Upload failed")}return(await ut.json()).secure_url}),L=await Promise.all(O);B(M=>({...M,gallery:[...M.gallery,...L]}))}catch(O){console.error("Upload failed",O),alert("Upload failed. Check console for details.")}finally{$(!1)}},ce=async re=>{if(confirm("Are you sure you want to delete this project?"))try{await Z4(fk(lh,"projects",re)),K()}catch(C){console.error("Error deleting doc:",C)}},we=re=>{B(C=>({...C,gallery:C.gallery.filter((S,N)=>N!==re)}))};return s?w.jsx("div",{className:"pt-24 pb-24 min-h-screen bg-gray-50 text-gray-800",children:w.jsxs("div",{className:"container mx-auto px-6",children:[w.jsxs("div",{className:"flex justify-between items-center mb-8",children:[w.jsx("h1",{className:"text-3xl font-heading font-bold text-brand-secondary",children:"Admin Dashboard"}),w.jsxs("div",{className:"flex gap-4",children:[w.jsxs("button",{onClick:()=>E(!k),className:"flex items-center gap-2 bg-brand-primary text-white px-4 py-2 rounded shadow hover:bg-brand-secondary transition",children:[w.jsx(Pw,{className:"w-4 h-4"})," ",k?"Cancel":"New Project"]}),w.jsx("button",{onClick:()=>rR(vp),className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 transition",children:"Sign Out"})]})]}),k&&w.jsxs("div",{className:"bg-white p-8 rounded shadow-xl mb-10 animate-fadeIn border border-gray-200",children:[w.jsx("h2",{className:"text-xl font-bold mb-6 uppercase tracking-widest text-brand-primary",children:"Create New Project"}),w.jsxs("form",{onSubmit:se,className:"space-y-6",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 mb-1 block",children:"Tn D n"}),w.jsx("input",{className:"w-full border p-2 rounded",placeholder:"e.g. Villa Riverside",value:H.title,onChange:re=>B({...H,title:re.target.value})})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 mb-1 block",children:"Danh Mc"}),w.jsxs("select",{className:"w-full border p-2 rounded",value:H.category,onChange:re=>B({...H,category:re.target.value}),children:[w.jsx("option",{value:"arch",children:"Kin Trc"}),w.jsx("option",{value:"interior",children:"Ni Tht"}),w.jsx("option",{value:"construction",children:"Thi Cng"}),w.jsx("option",{value:"cgi",children:"CGI"}),w.jsx("option",{value:"ai",children:"AI Creative"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 mb-1 block",children:"V Tr"}),w.jsx("input",{className:"w-full border p-2 rounded",placeholder:"H Ni",value:H.location,onChange:re=>B({...H,location:re.target.value})})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 mb-1 block",children:"Nm"}),w.jsx("input",{className:"w-full border p-2 rounded",placeholder:"2024",value:H.year,onChange:re=>B({...H,year:re.target.value})})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 mb-1 block",children:"Din Tch"}),w.jsx("input",{className:"w-full border p-2 rounded",placeholder:"350m2",value:H.area,onChange:re=>B({...H,area:re.target.value})})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 mb-1 block",children:"S Tng / Quy M"}),w.jsx("input",{className:"w-full border p-2 rounded",placeholder:"3 tng",value:H.floors,onChange:re=>B({...H,floors:re.target.value})})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 mb-1 block",children:"Phong Cch"}),w.jsx("input",{className:"w-full border p-2 rounded",placeholder:"Hin i / Indochine",value:H.style,onChange:re=>B({...H,style:re.target.value})})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 mb-1 block",children:"Loi Hnh"}),w.jsx("input",{className:"w-full border p-2 rounded",placeholder:"Bit th / Nh ph",value:H.type,onChange:re=>B({...H,type:re.target.value})})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 mb-1 block",children:"M t"}),w.jsx("textarea",{className:"w-full border p-2 rounded h-32",placeholder:"M t chi tit d n...",value:H.description,onChange:re=>B({...H,description:re.target.value})})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 mb-2 block",children:"Hnh nh (Gallery)"}),w.jsx("div",{className:"border-2 border-dashed border-gray-300 p-8 text-center rounded bg-gray-50 hover:bg-gray-100 transition relative",children:A?w.jsx("p",{className:"text-brand-primary animate-pulse",children:"Uploading..."}):w.jsxs(w.Fragment,{children:[w.jsx(HS,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),w.jsx("p",{className:"text-sm text-gray-500",children:"Click to upload images"}),w.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:W,className:"absolute inset-0 opacity-0 cursor-pointer"})]})}),H.gallery.length>0&&w.jsx("div",{className:"grid grid-cols-6 gap-2 mt-4",children:H.gallery.map((re,C)=>w.jsxs("div",{className:"relative group aspect-square",children:[w.jsx("img",{src:re,className:"w-full h-full object-cover rounded shadow-sm",alt:"Preview"}),w.jsx("button",{type:"button",onClick:()=>we(C),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition",children:w.jsx(qS,{className:"w-3 h-3"})})]},C))})]}),w.jsx("div",{className:"flex justify-end pt-4",children:w.jsx("button",{type:"submit",disabled:A,className:"bg-brand-primary text-white px-8 py-3 rounded font-bold uppercase tracking-widest hover:bg-brand-secondary transition disabled:opacity-50",children:A?"Processing...":"Publish Project"})})]})]}),w.jsxs("div",{className:"bg-white rounded shadow-sm border border-gray-100 overflow-hidden",children:[w.jsx("div",{className:"p-6 border-b border-gray-100 bg-gray-50",children:w.jsxs("h3",{className:"font-bold uppercase text-sm text-gray-500 tracking-widest",children:["Existing Projects (",m.length,")"]})}),m.length===0?w.jsx("div",{className:"p-8 text-center text-gray-400",children:"No projects found. Create one!"}):w.jsx("div",{className:"divide-y divide-gray-100",children:m.map(re=>{var C;return w.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-gray-50 transition",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded overflow-hidden",children:((C=re.gallery)==null?void 0:C[0])&&w.jsx("img",{src:re.gallery[0],className:"w-full h-full object-cover",alt:"Thumb"})}),w.jsxs("div",{children:[w.jsx("h4",{className:"font-bold text-brand-secondary",children:re.title}),w.jsxs("p",{className:"text-xs text-gray-500",children:[re.category,"  ",re.year]})]})]}),w.jsx("div",{className:"flex gap-2",children:w.jsx("button",{onClick:()=>ce(re.id),className:"p-2 text-red-400 hover:text-red-600",children:w.jsx(US,{className:"w-5 h-5"})})})]},re.id)})})]})]})}):w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 py-32",children:w.jsxs("div",{className:"bg-white p-10 rounded-xl shadow-2xl w-full max-w-md border-t-8 border-brand-primary animate-fadeIn",children:[w.jsxs("div",{className:"text-center mb-10",children:[w.jsx("h2",{className:"text-3xl font-heading font-black text-brand-secondary uppercase tracking-tighter",children:"H THNG QUN TR"}),w.jsx("p",{className:"text-[10px] text-brand-primary font-bold mt-1",children:"BUILD V3.0 - CLOUDINARY"}),w.jsx("p",{className:"text-xs text-gray-400 mt-2 font-bold uppercase tracking-widest",children:"N&M Studio Control Panel"})]}),d&&w.jsx("p",{className:"bg-red-50 text-red-500 text-xs p-3 rounded mb-6 border border-red-100 font-medium",children:d}),w.jsxs("form",{onSubmit:ne,className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),w.jsx("input",{type:"email",required:!0,className:"mt-1 block w-full border border-gray-300 rounded p-2",value:n,onChange:re=>a(re.target.value)})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),w.jsx("input",{type:"password",required:!0,className:"mt-1 block w-full border border-gray-300 rounded p-2",value:o,onChange:re=>u(re.target.value)})]}),w.jsx("button",{type:"submit",className:"w-full bg-brand-primary text-white py-2 rounded hover:bg-brand-secondary transition font-bold",children:"LOGIN"})]})]})})},n6=()=>{const s=rr(),[e,n]=U.useState(W3),[a,o]=U.useState(!0);return U.useEffect(()=>{console.log("Current Path:",s.pathname)},[s]),U.useEffect(()=>{fetch("/content.json").then(u=>u.json()).then(u=>{n(u),o(!1)}).catch(u=>{console.error("Failed to load content:",u),o(!1)})},[]),a?w.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-[#111]",children:w.jsx("div",{className:"animate-pulse text-brand-primary font-heading font-bold tracking-widest uppercase text-xl",children:"NM Studio Loading..."})}):w.jsxs("div",{className:"font-sans text-gray-900 selection:bg-brand-primary selection:text-white",children:[w.jsx(BS,{navItems:e.nav_items}),w.jsxs(K2,{children:[w.jsx(Ks,{path:"/admin",element:w.jsx(t6,{})}),w.jsx(Ks,{path:"/about",element:w.jsx(X3,{})}),w.jsx(Ks,{path:"/services",element:w.jsx(Y3,{})}),w.jsx(Ks,{path:"/handbook",element:w.jsx(J3,{})}),w.jsx(Ks,{path:"/contact",element:w.jsx(Z3,{})}),w.jsx(Ks,{path:"/project/:id",element:w.jsx(e6,{projects:e.projects||[]})}),w.jsx(Ks,{path:"/",element:w.jsx(Q3,{content:e})})]}),w.jsx(KS,{})]})},r6=Qx.createRoot(document.getElementById("root"));r6.render(w.jsx(Hx.StrictMode,{children:w.jsx(yT,{children:w.jsx(n6,{})})}));
