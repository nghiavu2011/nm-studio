(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();function hx(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var wb={exports:{}},Rl={};/**
* @license React
* react-jsx-runtime.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var kb;function dx(){if(kb)return Rl;kb=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:s,type:i,key:d,ref:o!==void 0?o:null,props:u}}return Rl.Fragment=e,Rl.jsx=n,Rl.jsxs=n,Rl}var Eb;function fx(){return Eb||(Eb=1,wb.exports=dx()),wb.exports}var w=fx(),xb={exports:{}},xe={};/**
* @license React
* react.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Tb;function px(){if(Tb)return xe;Tb=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),A=Symbol.iterator;function q(L){return L===null||typeof L!="object"?null:(L=A&&L[A]||L["@@iterator"],typeof L=="function"?L:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,W={};function ne(L,X,oe){this.props=L,this.context=X,this.refs=W,this.updater=oe||V}ne.prototype.isReactComponent={},ne.prototype.setState=function(L,X){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,X,"setState")},ne.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function re(){}re.prototype=ne.prototype;function G(L,X,oe){this.props=L,this.context=X,this.refs=W,this.updater=oe||V}var le=G.prototype=new re;le.constructor=G,K(le,ne.prototype),le.isPureReactComponent=!0;var we=Array.isArray;function se(){}var _={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function N(L,X,oe){var ce=oe.ref;return{$$typeof:s,type:L,key:X,ref:ce!==void 0?ce:null,props:oe}}function P(L,X){return N(L.type,X,L.props)}function R(L){return typeof L=="object"&&L!==null&&L.$$typeof===s}function j(L){var X={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(oe){return X[oe]})}var C=/\/+/g;function it(L,X){return typeof L=="object"&&L!==null&&L.key!=null?j(""+L.key):X.toString(36)}function Rt(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(se,se):(L.status="pending",L.then(function(X){L.status==="pending"&&(L.status="fulfilled",L.value=X)},function(X){L.status==="pending"&&(L.status="rejected",L.reason=X)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Y(L,X,oe,ce,ke){var _e=typeof L;(_e==="undefined"||_e==="boolean")&&(L=null);var Fe=!1;if(L===null)Fe=!0;else switch(_e){case"bigint":case"string":case"number":Fe=!0;break;case"object":switch(L.$$typeof){case s:case e:Fe=!0;break;case k:return Fe=L._init,Y(Fe(L._payload),X,oe,ce,ke)}}if(Fe)return ke=ke(L),Fe=ce===""?"."+it(L,0):ce,we(ke)?(oe="",Fe!=null&&(oe=Fe.replace(C,"$&/")+"/"),Y(ke,X,oe,"",function(yi){return yi})):ke!=null&&(R(ke)&&(ke=P(ke,oe+(ke.key==null||L&&L.key===ke.key?"":(""+ke.key).replace(C,"$&/")+"/")+Fe)),X.push(ke)),1;Fe=0;var Ot=ce===""?".":ce+":";if(we(L))for(var at=0;at<L.length;at++)ce=L[at],_e=Ot+it(ce,at),Fe+=Y(ce,X,oe,_e,ke);else if(at=q(L),typeof at=="function")for(L=at.call(L),at=0;!(ce=L.next()).done;)ce=ce.value,_e=Ot+it(ce,at++),Fe+=Y(ce,X,oe,_e,ke);else if(_e==="object"){if(typeof L.then=="function")return Y(Rt(L),X,oe,ce,ke);throw X=String(L),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Fe}function ae(L,X,oe){if(L==null)return L;var ce=[],ke=0;return Y(L,ce,"","",function(_e){return X.call(oe,_e,ke++)}),ce}function me(L){if(L._status===-1){var X=L._result;X=X(),X.then(function(oe){(L._status===0||L._status===-1)&&(L._status=1,L._result=oe)},function(oe){(L._status===0||L._status===-1)&&(L._status=2,L._result=oe)}),L._status===-1&&(L._status=0,L._result=X)}if(L._status===1)return L._result.default;throw L._result}var ze=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Be={map:ae,forEach:function(L,X,oe){ae(L,function(){X.apply(this,arguments)},oe)},count:function(L){var X=0;return ae(L,function(){X++}),X},toArray:function(L){return ae(L,function(X){return X})||[]},only:function(L){if(!R(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return xe.Activity=E,xe.Children=Be,xe.Component=ne,xe.Fragment=n,xe.Profiler=o,xe.PureComponent=G,xe.StrictMode=i,xe.Suspense=m,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,xe.__COMPILER_RUNTIME={__proto__:null,c:function(L){return _.H.useMemoCache(L)}},xe.cache=function(L){return function(){return L.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(L,X,oe){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ce=K({},L.props),ke=L.key;if(X!=null)for(_e in X.key!==void 0&&(ke=""+X.key),X)!S.call(X,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&X.ref===void 0||(ce[_e]=X[_e]);var _e=arguments.length-2;if(_e===1)ce.children=oe;else if(1<_e){for(var Fe=Array(_e),Ot=0;Ot<_e;Ot++)Fe[Ot]=arguments[Ot+2];ce.children=Fe}return N(L.type,ke,ce)},xe.createContext=function(L){return L={$$typeof:d,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:u,_context:L},L},xe.createElement=function(L,X,oe){var ce,ke={},_e=null;if(X!=null)for(ce in X.key!==void 0&&(_e=""+X.key),X)S.call(X,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(ke[ce]=X[ce]);var Fe=arguments.length-2;if(Fe===1)ke.children=oe;else if(1<Fe){for(var Ot=Array(Fe),at=0;at<Fe;at++)Ot[at]=arguments[at+2];ke.children=Ot}if(L&&L.defaultProps)for(ce in Fe=L.defaultProps,Fe)ke[ce]===void 0&&(ke[ce]=Fe[ce]);return N(L,_e,ke)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(L){return{$$typeof:p,render:L}},xe.isValidElement=R,xe.lazy=function(L){return{$$typeof:k,_payload:{_status:-1,_result:L},_init:me}},xe.memo=function(L,X){return{$$typeof:y,type:L,compare:X===void 0?null:X}},xe.startTransition=function(L){var X=_.T,oe={};_.T=oe;try{var ce=L(),ke=_.S;ke!==null&&ke(oe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(se,ze)}catch(_e){ze(_e)}finally{X!==null&&oe.types!==null&&(X.types=oe.types),_.T=X}},xe.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},xe.use=function(L){return _.H.use(L)},xe.useActionState=function(L,X,oe){return _.H.useActionState(L,X,oe)},xe.useCallback=function(L,X){return _.H.useCallback(L,X)},xe.useContext=function(L){return _.H.useContext(L)},xe.useDebugValue=function(){},xe.useDeferredValue=function(L,X){return _.H.useDeferredValue(L,X)},xe.useEffect=function(L,X){return _.H.useEffect(L,X)},xe.useEffectEvent=function(L){return _.H.useEffectEvent(L)},xe.useId=function(){return _.H.useId()},xe.useImperativeHandle=function(L,X,oe){return _.H.useImperativeHandle(L,X,oe)},xe.useInsertionEffect=function(L,X){return _.H.useInsertionEffect(L,X)},xe.useLayoutEffect=function(L,X){return _.H.useLayoutEffect(L,X)},xe.useMemo=function(L,X){return _.H.useMemo(L,X)},xe.useOptimistic=function(L,X){return _.H.useOptimistic(L,X)},xe.useReducer=function(L,X,oe){return _.H.useReducer(L,X,oe)},xe.useRef=function(L){return _.H.useRef(L)},xe.useState=function(L){return _.H.useState(L)},xe.useSyncExternalStore=function(L,X,oe){return _.H.useSyncExternalStore(L,X,oe)},xe.useTransition=function(){return _.H.useTransition()},xe.version="19.2.4",xe}var Sb;function tm(){return Sb||(Sb=1,xb.exports=px()),xb.exports}var z=tm();const mx=hx(z);var ap={exports:{}},Ol={},_b={exports:{}},Nb={};/**
* @license React
* scheduler.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Cb;function gx(){return Cb||(Cb=1,(function(s){function e(Y,ae){var me=Y.length;Y.push(ae);e:for(;0<me;){var ze=me-1>>>1,Be=Y[ze];if(0<o(Be,ae))Y[ze]=ae,Y[me]=Be,me=ze;else break e}}function n(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var ae=Y[0],me=Y.pop();if(me!==ae){Y[0]=me;e:for(var ze=0,Be=Y.length,L=Be>>>1;ze<L;){var X=2*(ze+1)-1,oe=Y[X],ce=X+1,ke=Y[ce];if(0>o(oe,me))ce<Be&&0>o(ke,oe)?(Y[ze]=ke,Y[ce]=me,ze=ce):(Y[ze]=oe,Y[X]=me,ze=X);else if(ce<Be&&0>o(ke,me))Y[ze]=ke,Y[ce]=me,ze=ce;else break e}}return ae}function o(Y,ae){var me=Y.sortIndex-ae.sortIndex;return me!==0?me:Y.id-ae.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var m=[],y=[],k=1,E=null,A=3,q=!1,V=!1,K=!1,W=!1,ne=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function le(Y){for(var ae=n(y);ae!==null;){if(ae.callback===null)i(y);else if(ae.startTime<=Y)i(y),ae.sortIndex=ae.expirationTime,e(m,ae);else break;ae=n(y)}}function we(Y){if(K=!1,le(Y),!V)if(n(m)!==null)V=!0,se||(se=!0,j());else{var ae=n(y);ae!==null&&Rt(we,ae.startTime-Y)}}var se=!1,_=-1,S=5,N=-1;function P(){return W?!0:!(s.unstable_now()-N<S)}function R(){if(W=!1,se){var Y=s.unstable_now();N=Y;var ae=!0;try{e:{V=!1,K&&(K=!1,re(_),_=-1),q=!0;var me=A;try{t:{for(le(Y),E=n(m);E!==null&&!(E.expirationTime>Y&&P());){var ze=E.callback;if(typeof ze=="function"){E.callback=null,A=E.priorityLevel;var Be=ze(E.expirationTime<=Y);if(Y=s.unstable_now(),typeof Be=="function"){E.callback=Be,le(Y),ae=!0;break t}E===n(m)&&i(m),le(Y)}else i(m);E=n(m)}if(E!==null)ae=!0;else{var L=n(y);L!==null&&Rt(we,L.startTime-Y),ae=!1}}break e}finally{E=null,A=me,q=!1}ae=void 0}}finally{ae?j():se=!1}}}var j;if(typeof G=="function")j=function(){G(R)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,it=C.port2;C.port1.onmessage=R,j=function(){it.postMessage(null)}}else j=function(){ne(R,0)};function Rt(Y,ae){_=ne(function(){Y(s.unstable_now())},ae)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Y){Y.callback=null},s.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Y?Math.floor(1e3/Y):5},s.unstable_getCurrentPriorityLevel=function(){return A},s.unstable_next=function(Y){switch(A){case 1:case 2:case 3:var ae=3;break;default:ae=A}var me=A;A=ae;try{return Y()}finally{A=me}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(Y,ae){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var me=A;A=Y;try{return ae()}finally{A=me}},s.unstable_scheduleCallback=function(Y,ae,me){var ze=s.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ze+me:ze):me=ze,Y){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=me+Be,Y={id:k++,callback:ae,priorityLevel:Y,startTime:me,expirationTime:Be,sortIndex:-1},me>ze?(Y.sortIndex=me,e(y,Y),n(m)===null&&Y===n(y)&&(K?(re(_),_=-1):K=!0,Rt(we,me-ze))):(Y.sortIndex=Be,e(m,Y),V||q||(V=!0,se||(se=!0,j()))),Y},s.unstable_shouldYield=P,s.unstable_wrapCallback=function(Y){var ae=A;return function(){var me=A;A=ae;try{return Y.apply(this,arguments)}finally{A=me}}}})(Nb)),Nb}var Ib;function yx(){return Ib||(Ib=1,_b.exports=gx()),_b.exports}var op={exports:{}},Xt={};/**
* @license React
* react-dom.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Ab;function vx(){if(Ab)return Xt;Ab=1;var s=tm();function e(m){var y="https://react.dev/errors/"+m;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var k=2;k<arguments.length;k++)y+="&args[]="+encodeURIComponent(arguments[k])}return"Minified React error #"+m+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,y,k){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:m,containerInfo:y,implementation:k}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,y){if(m==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Xt.createPortal=function(m,y){var k=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(m,y,null,k)},Xt.flushSync=function(m){var y=d.T,k=i.p;try{if(d.T=null,i.p=2,m)return m()}finally{d.T=y,i.p=k,i.d.f()}},Xt.preconnect=function(m,y){typeof m=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(m,y))},Xt.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Xt.preinit=function(m,y){if(typeof m=="string"&&y&&typeof y.as=="string"){var k=y.as,E=p(k,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;k==="style"?i.d.S(m,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:q}):k==="script"&&i.d.X(m,{crossOrigin:E,integrity:A,fetchPriority:q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xt.preinitModule=function(m,y){if(typeof m=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var k=p(y.as,y.crossOrigin);i.d.M(m,{crossOrigin:k,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(m)},Xt.preload=function(m,y){if(typeof m=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var k=y.as,E=p(k,y.crossOrigin);i.d.L(m,k,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xt.preloadModule=function(m,y){if(typeof m=="string")if(y){var k=p(y.as,y.crossOrigin);i.d.m(m,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:k,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(m)},Xt.requestFormReset=function(m){i.d.r(m)},Xt.unstable_batchedUpdates=function(m,y){return m(y)},Xt.useFormState=function(m,y,k){return d.H.useFormState(m,y,k)},Xt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xt.version="19.2.4",Xt}var Rb;function bx(){if(Rb)return op.exports;Rb=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),op.exports=vx(),op.exports}/**
* @license React
* react-dom-client.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Ob;function wx(){if(Ob)return Ol;Ob=1;var s=yx(),e=tm(),n=bx();function i(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function d(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(i(188))}function y(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(i(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return m(h),t;if(f===l)return m(h),r;f=f.sibling}throw Error(i(188))}if(a.return!==l.return)a=h,l=f;else{for(var v=!1,x=h.child;x;){if(x===a){v=!0,a=h,l=f;break}if(x===l){v=!0,l=h,a=f;break}x=x.sibling}if(!v){for(x=f.child;x;){if(x===a){v=!0,a=f,l=h;break}if(x===l){v=!0,l=f,a=h;break}x=x.sibling}if(!v)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:r}function k(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=k(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),re=Symbol.for("react.consumer"),G=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),we=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=R&&t[R]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function it(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case ne:return"Profiler";case W:return"StrictMode";case we:return"Suspense";case se:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case V:return"Portal";case G:return t.displayName||"Context";case re:return(t._context.displayName||"Context")+".Consumer";case le:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _:return r=t.displayName||null,r!==null?r:it(t.type)||"Memo";case S:r=t._payload,t=t._init;try{return it(t(r))}catch{}}return null}var Rt=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ze=[],Be=-1;function L(t){return{current:t}}function X(t){0>Be||(t.current=ze[Be],ze[Be]=null,Be--)}function oe(t,r){Be++,ze[Be]=t.current,t.current=r}var ce=L(null),ke=L(null),_e=L(null),Fe=L(null);function Ot(t,r){switch(oe(_e,r),oe(ke,t),oe(ce,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?qv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=qv(r),t=Hv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(ce),oe(ce,t)}function at(){X(ce),X(ke),X(_e)}function yi(t){t.memoizedState!==null&&oe(Fe,t);var r=ce.current,a=Hv(r,t.type);r!==a&&(oe(ke,t),oe(ce,a))}function ca(t){ke.current===t&&(X(ce),X(ke)),Fe.current===t&&(X(Fe),Nl._currentValue=me)}var ha,da;function or(t){if(ha===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ha=r&&r[1]||"",da=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ha+t+da}var No=!1;function vi(t,r){if(!t||No)return"";No=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(B){var $=B}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(B){$=B}t.call(Z.prototype)}}else{try{throw Error()}catch(B){$=B}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(B){if(B&&$&&typeof B.stack=="string")return[B.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],x=f[1];if(v&&x){var I=v.split(`
`),U=x.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===U.length)for(l=I.length-1,h=U.length-1;1<=l&&0<=h&&I[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==U[h]){var Q=`
`+I[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{No=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?or(a):""}function Co(t,r){switch(t.tag){case 26:case 27:case 5:return or(t.type);case 16:return or("Lazy");case 13:return t.child!==r&&r!==null?or("Suspense Fallback"):or("Suspense");case 19:return or("SuspenseList");case 0:case 15:return vi(t.type,!1);case 11:return vi(t.type.render,!1);case 1:return vi(t.type,!0);case 31:return or("Activity");default:return""}}function Io(t){try{var r="",a=null;do r+=Co(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var wt=Object.prototype.hasOwnProperty,Lt=s.unstable_scheduleCallback,ms=s.unstable_cancelCallback,od=s.unstable_shouldYield,bu=s.unstable_requestPaint,rn=s.unstable_now,bi=s.unstable_getCurrentPriorityLevel,Ao=s.unstable_ImmediatePriority,Ro=s.unstable_UserBlockingPriority,gs=s.unstable_NormalPriority,ld=s.unstable_LowPriority,wu=s.unstable_IdlePriority,ku=s.log,Eu=s.unstable_setDisableYieldValue,$n=null,Vt=null;function _n(t){if(typeof ku=="function"&&Eu(t),Vt&&typeof Vt.setStrictMode=="function")try{Vt.setStrictMode($n,t)}catch{}}var mt=Math.clz32?Math.clz32:Tu,xu=Math.log,fa=Math.LN2;function Tu(t){return t>>>=0,t===0?32:31-(xu(t)/fa|0)|0}var lr=256,wi=262144,kt=4194304;function ur(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function cr(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var x=l&134217727;return x!==0?(l=x&~f,l!==0?h=ur(l):(v&=x,v!==0?h=ur(v):a||(a=x&~t,a!==0&&(h=ur(a))))):(x=l&~f,x!==0?h=ur(x):v!==0?h=ur(v):a||(a=l&~t,a!==0&&(h=ur(a)))),h===0?0:r!==0&&r!==h&&(r&f)===0&&(f=h&-h,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:h}function qn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function ud(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Su(){var t=kt;return kt<<=1,(kt&62914560)===0&&(kt=4194304),t}function hr(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function ki(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function cd(t,r,a,l,h,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var x=t.entanglements,I=t.expirationTimes,U=t.hiddenUpdates;for(a=v&~a;0<a;){var Q=31-mt(a),Z=1<<Q;x[Q]=0,I[Q]=-1;var $=U[Q];if($!==null)for(U[Q]=null,Q=0;Q<$.length;Q++){var B=$[Q];B!==null&&(B.lane&=-536870913)}a&=~Z}l!==0&&Ei(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~r))}function Ei(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-mt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Oo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-mt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function Lo(t,r){var a=r&-r;return a=(a&42)!==0?1:xi(a),(a&(t.suspendedLanes|r))!==0?0:a}function xi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Vr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function _u(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:fb(t.type))}function Hn(t,r){var a=ae.p;try{return ae.p=t,r()}finally{ae.p=a}}var Bn=Math.random().toString(36).slice(2),Et="__reactFiber$"+Bn,Mt="__reactProps$"+Bn,dr="__reactContainer$"+Bn,pa="__reactEvents$"+Bn,hd="__reactListeners$"+Bn,Nu="__reactHandles$"+Bn,Cu="__reactResources$"+Bn,fr="__reactMarker$"+Bn;function ma(t){delete t[Et],delete t[Mt],delete t[pa],delete t[hd],delete t[Nu]}function pr(t){var r=t[Et];if(r)return r;for(var a=t.parentNode;a;){if(r=a[dr]||a[Et]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Jv(t);t!==null;){if(a=t[Et])return a;t=Jv(t)}return r}t=a,a=t.parentNode}return null}function Nn(t){if(t=t[Et]||t[dr]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function mn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(i(33))}function mr(t){var r=t[Cu];return r||(r=t[Cu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function xt(t){t[fr]=!0}var Po=new Set,Do={};function gr(t,r){yr(t,r),yr(t+"Capture",r)}function yr(t,r){for(Do[t]=r,t=0;t<r.length;t++)Po.add(r[t])}var jo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mo={},Fo={};function Iu(t){return wt.call(Fo,t)?!0:wt.call(Mo,t)?!1:jo.test(t)?Fo[t]=!0:(Mo[t]=!0,!1)}function ga(t,r,a){if(Iu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function gn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Tt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function Ft(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ys(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Uo(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,f.call(this,v)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ge(t){if(!t._valueTracker){var r=ys(t)?"checked":"value";t._valueTracker=Uo(t,r,""+t[r])}}function Ti(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=ys(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function vr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Si=/[\n"\\]/g;function yn(t){return t.replace(Si,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ya(t,r,a,l,h,f,v,x){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Ft(r)):t.value!==""+Ft(r)&&(t.value=""+Ft(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?zo(t,v,Ft(r)):a!=null?zo(t,v,Ft(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Ft(x):t.removeAttribute("name")}function Au(t,r,a,l,h,f,v,x){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null)){Ge(t);return}a=a!=null?""+Ft(a):"",r=r!=null?""+Ft(r):a,x||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=x?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Ge(t)}function zo(t,r,a){r==="number"&&vr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function vs(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ft(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Ru(t,r,a){if(r!=null&&(r=""+Ft(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Ft(a):""}function bs(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(i(92));if(Rt(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Ft(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ge(t)}function ln(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Ou=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Ou.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function $o(t,r,a){if(r!=null&&typeof r!="object")throw Error(i(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Vo(t,h,l)}else for(var f in r)r.hasOwnProperty(f)&&Vo(t,f,r[f])}function va(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ws=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(t){return ws.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Gn(){}var qo=null;function Cn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ks=null,br=null;function _i(t){var r=Nn(t);if(r&&(t=r.stateNode)){var a=t[Mt]||null;e:switch(t=r.stateNode,r.type){case"input":if(ya(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+yn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[Mt]||null;if(!h)throw Error(i(90));ya(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Ti(l)}break e;case"textarea":Ru(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&vs(t,!!a.multiple,r,!1)}}}var wa=!1;function Es(t,r,a){if(wa)return t(r,a);wa=!0;try{var l=t(r);return l}finally{if(wa=!1,(ks!==null||br!==null)&&(_c(),ks&&(r=ks,t=br,br=ks=null,_i(r),t)))for(r=0;r<t.length;r++)_i(t[r])}}function Kn(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Mt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,r,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ni=!1;if(In)try{var Ye={};Object.defineProperty(Ye,"passive",{get:function(){Ni=!0}}),window.addEventListener("test",Ye,Ye),window.removeEventListener("test",Ye,Ye)}catch{Ni=!1}var wr=null,Ho=null,Ci=null;function Bo(){if(Ci)return Ci;var t,r=Ho,a=r.length,l,h="value"in wr?wr.value:wr.textContent,f=h.length;for(t=0;t<a&&r[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===h[f-l];l++);return Ci=h.slice(t,1<l?1-l:void 0)}function Ii(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function $r(){return!0}function Wn(){return!1}function $t(t){function r(a,l,h,f,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(a=t[x],this[x]=a?a(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?$r:Wn,this.isPropagationStopped=Wn,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$r)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$r)},persist:function(){},isPersistent:$r}),r}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kr=$t(qr),xs=E({},qr,{view:0,detail:0}),Go=$t(xs),Ts,ka,Er,Ea=E({},xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ss,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Er&&(Er&&t.type==="mousemove"?(Ts=t.screenX-Er.screenX,ka=t.screenY-Er.screenY):ka=Ts=0,Er=t),Ts)},movementY:function(t){return"movementY"in t?t.movementY:ka}}),Ko=$t(Ea),Ai=E({},Ea,{dataTransfer:0}),Pu=$t(Ai),Du=E({},xs,{relatedTarget:0}),Ri=$t(Du),Wo=E({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),ju=$t(Wo),xa=E({},qr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Mu=$t(xa),Fu=E({},qr,{data:0}),xr=$t(Fu),Uu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $u(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Vu[t])?!!r[t]:!1}function Ss(){return $u}var sn=E({},xs,{key:function(t){if(t.key){var r=Uu[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ii(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ss,charCode:function(t){return t.type==="keypress"?Ii(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ii(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qu=$t(sn),Hu=E({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hr=$t(Hu),c=E({},xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ss}),g=$t(c),b=E({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=$t(b),M=E({},Ea,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=$t(M),ie=E({},qr,{newState:0,oldState:0}),Ne=$t(ie),gt=[9,13,27,32],Ke=In&&"CompositionEvent"in window,ot=null;In&&"documentMode"in document&&(ot=document.documentMode);var An=In&&"TextEvent"in window&&!ot,Br=In&&(!Ke||ot&&8<ot&&11>=ot),Qn=" ",Yn=!1;function Oi(t,r){switch(t){case"keyup":return gt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ta(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sa=!1;function DE(t,r){switch(t){case"compositionend":return Ta(r);case"keypress":return r.which!==32?null:(Yn=!0,Qn);case"textInput":return t=r.data,t===Qn&&Yn?null:t;default:return null}}function jE(t,r){if(Sa)return t==="compositionend"||!Ke&&Oi(t,r)?(t=Bo(),Ci=Ho=wr=null,Sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Br&&r.locale!=="ko"?null:r.data;default:return null}}var ME={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!ME[t.type]:r==="textarea"}function tg(t,r,a,l){ks?br?br.push(l):br=[l]:ks=l,r=Lc(r,"onChange"),0<r.length&&(a=new kr("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Qo=null,Yo=null;function FE(t){Mv(t,0)}function Bu(t){var r=mn(t);if(Ti(r))return t}function ng(t,r){if(t==="change")return r}var rg=!1;if(In){var dd;if(In){var fd="oninput"in document;if(!fd){var sg=document.createElement("div");sg.setAttribute("oninput","return;"),fd=typeof sg.oninput=="function"}dd=fd}else dd=!1;rg=dd&&(!document.documentMode||9<document.documentMode)}function ig(){Qo&&(Qo.detachEvent("onpropertychange",ag),Yo=Qo=null)}function ag(t){if(t.propertyName==="value"&&Bu(Yo)){var r=[];tg(r,Yo,t,Cn(t)),Es(FE,r)}}function UE(t,r,a){t==="focusin"?(ig(),Qo=r,Yo=a,Qo.attachEvent("onpropertychange",ag)):t==="focusout"&&ig()}function zE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bu(Yo)}function VE(t,r){if(t==="click")return Bu(r)}function $E(t,r){if(t==="input"||t==="change")return Bu(r)}function qE(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var vn=typeof Object.is=="function"?Object.is:qE;function Jo(t,r){if(vn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!wt.call(r,h)||!vn(t[h],r[h]))return!1}return!0}function og(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lg(t,r){var a=og(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=og(a)}}function ug(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?ug(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function cg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=vr(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=vr(t.document)}return r}function pd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var HE=In&&"documentMode"in document&&11>=document.documentMode,_a=null,md=null,Xo=null,gd=!1;function hg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gd||_a==null||_a!==vr(l)||(l=_a,"selectionStart"in l&&pd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xo&&Jo(Xo,l)||(Xo=l,l=Lc(md,"onSelect"),0<l.length&&(r=new kr("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=_a)))}function Li(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Na={animationend:Li("Animation","AnimationEnd"),animationiteration:Li("Animation","AnimationIteration"),animationstart:Li("Animation","AnimationStart"),transitionrun:Li("Transition","TransitionRun"),transitionstart:Li("Transition","TransitionStart"),transitioncancel:Li("Transition","TransitionCancel"),transitionend:Li("Transition","TransitionEnd")},yd={},dg={};In&&(dg=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function Pi(t){if(yd[t])return yd[t];if(!Na[t])return t;var r=Na[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in dg)return yd[t]=r[a];return t}var fg=Pi("animationend"),pg=Pi("animationiteration"),mg=Pi("animationstart"),BE=Pi("transitionrun"),GE=Pi("transitionstart"),KE=Pi("transitioncancel"),gg=Pi("transitionend"),yg=new Map,vd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vd.push("scrollEnd");function Jn(t,r){yg.set(t,r),gr(r,[t])}var Gu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Rn=[],Ca=0,bd=0;function Ku(){for(var t=Ca,r=bd=Ca=0;r<t;){var a=Rn[r];Rn[r++]=null;var l=Rn[r];Rn[r++]=null;var h=Rn[r];Rn[r++]=null;var f=Rn[r];if(Rn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&vg(a,h,f)}}function Wu(t,r,a,l){Rn[Ca++]=t,Rn[Ca++]=r,Rn[Ca++]=a,Rn[Ca++]=l,bd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function wd(t,r,a,l){return Wu(t,r,a,l),Qu(t)}function Di(t,r){return Wu(t,null,null,r),Qu(t)}function vg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&r!==null&&(h=31-mt(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),f):null}function Qu(t){if(50<wl)throw wl=0,Af=null,Error(i(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ia={};function WE(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,r,a,l){return new WE(t,r,a,l)}function kd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gr(t,r){var a=t.alternate;return a===null?(a=bn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function bg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Yu(t,r,a,l,h,f){var v=0;if(l=t,typeof t=="function")kd(t)&&(v=1);else if(typeof t=="string")v=Z2(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=bn(31,a,r,h),t.elementType=N,t.lanes=f,t;case K:return ji(a.children,h,f,r);case W:v=8,h|=24;break;case ne:return t=bn(12,a,r,h|2),t.elementType=ne,t.lanes=f,t;case we:return t=bn(13,a,r,h),t.elementType=we,t.lanes=f,t;case se:return t=bn(19,a,r,h),t.elementType=se,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G:v=10;break e;case re:v=9;break e;case le:v=11;break e;case _:v=14;break e;case S:v=16,l=null;break e}v=29,a=Error(i(130,t===null?"null":typeof t,"")),l=null}return r=bn(v,a,r,h),r.elementType=t,r.type=l,r.lanes=f,r}function ji(t,r,a,l){return t=bn(7,t,l,r),t.lanes=a,t}function Ed(t,r,a){return t=bn(6,t,null,r),t.lanes=a,t}function wg(t){var r=bn(18,null,null,0);return r.stateNode=t,r}function xd(t,r,a){return r=bn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var kg=new WeakMap;function On(t,r){if(typeof t=="object"&&t!==null){var a=kg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Io(r)},kg.set(t,r),r)}return{value:t,source:r,stack:Io(r)}}var Aa=[],Ra=0,Ju=null,Zo=0,Ln=[],Pn=0,_s=null,Tr=1,Sr="";function Kr(t,r){Aa[Ra++]=Zo,Aa[Ra++]=Ju,Ju=t,Zo=r}function Eg(t,r,a){Ln[Pn++]=Tr,Ln[Pn++]=Sr,Ln[Pn++]=_s,_s=t;var l=Tr;t=Sr;var h=32-mt(l)-1;l&=~(1<<h),a+=1;var f=32-mt(r)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Tr=1<<32-mt(r)+h|a<<h|l,Sr=f+t}else Tr=1<<f|a<<h|l,Sr=t}function Td(t){t.return!==null&&(Kr(t,1),Eg(t,1,0))}function Sd(t){for(;t===Ju;)Ju=Aa[--Ra],Aa[Ra]=null,Zo=Aa[--Ra],Aa[Ra]=null;for(;t===_s;)_s=Ln[--Pn],Ln[Pn]=null,Sr=Ln[--Pn],Ln[Pn]=null,Tr=Ln[--Pn],Ln[Pn]=null}function xg(t,r){Ln[Pn++]=Tr,Ln[Pn++]=Sr,Ln[Pn++]=_s,Tr=r.id,Sr=r.overflow,_s=t}var qt=null,tt=null,Me=!1,Ns=null,Dn=!1,_d=Error(i(519));function Cs(t){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw el(On(r,t)),_d}function Tg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Et]=t,r[Mt]=l,a){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(a=0;a<El.length;a++)Re(El[a],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":Re("invalid",r),Au(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Re("invalid",r);break;case"textarea":Re("invalid",r),bs(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Vv(r.textContent,a)?(l.popover!=null&&(Re("beforetoggle",r),Re("toggle",r)),l.onScroll!=null&&Re("scroll",r),l.onScrollEnd!=null&&Re("scrollend",r),l.onClick!=null&&(r.onclick=Gn),r=!0):r=!1,r||Cs(t,!0)}function Sg(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:qt=qt.return}}function Oa(t){if(t!==qt)return!1;if(!Me)return Sg(t),Me=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Bf(t.type,t.memoizedProps)),a=!a),a&&tt&&Cs(t),Sg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));tt=Yv(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));tt=Yv(t)}else r===27?(r=tt,$s(t.type)?(t=Yf,Yf=null,tt=t):tt=r):tt=qt?jn(t.stateNode.nextSibling):null;return!0}function Mi(){tt=qt=null,Me=!1}function Nd(){var t=Ns;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),Ns=null),t}function el(t){Ns===null?Ns=[t]:Ns.push(t)}var Cd=L(null),Fi=null,Wr=null;function Is(t,r,a){oe(Cd,r._currentValue),r._currentValue=a}function Qr(t){t._currentValue=Cd.current,X(Cd)}function Id(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Ad(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;e:for(;f!==null;){var x=f;f=h;for(var I=0;I<r.length;I++)if(x.context===r[I]){f.lanes|=a,x=f.alternate,x!==null&&(x.lanes|=a),Id(f.return,a,t),l||(v=null);break e}f=x.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(i(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Id(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function La(t,r,a,l){t=null;for(var h=r,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var x=h.type;vn(h.pendingProps.value,v.value)||(t!==null?t.push(x):t=[x])}}else if(h===Fe.current){if(v=h.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}h=h.return}t!==null&&Ad(r,t,a,l),r.flags|=262144}function Xu(t){for(t=t.firstContext;t!==null;){if(!vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ui(t){Fi=t,Wr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return _g(Fi,t)}function Zu(t,r){return Fi===null&&Ui(t),_g(t,r)}function _g(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Wr===null){if(t===null)throw Error(i(308));Wr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Wr=Wr.next=r;return a}var QE=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},YE=s.unstable_scheduleCallback,JE=s.unstable_NormalPriority,St={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rd(){return{controller:new QE,data:new Map,refCount:0}}function tl(t){t.refCount--,t.refCount===0&&YE(JE,function(){t.controller.abort()})}var nl=null,Od=0,Pa=0,Da=null;function XE(t,r){if(nl===null){var a=nl=[];Od=0,Pa=jf(),Da={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Od++,r.then(Ng,Ng),r}function Ng(){if(--Od===0&&nl!==null){Da!==null&&(Da.status="fulfilled");var t=nl;nl=null,Pa=0,Da=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function ZE(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Cg=Y.S;Y.S=function(t,r){hv=rn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&XE(t,r),Cg!==null&&Cg(t,r)};var zi=L(null);function Ld(){var t=zi.current;return t!==null?t:et.pooledCache}function ec(t,r){r===null?oe(zi,zi.current):oe(zi,r.pool)}function Ig(){var t=Ld();return t===null?null:{parent:St._currentValue,pool:t}}var ja=Error(i(460)),Pd=Error(i(474)),tc=Error(i(542)),nc={then:function(){}};function Ag(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Rg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Gn,Gn),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Lg(t),t;default:if(typeof r.status=="string")r.then(Gn,Gn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Lg(t),t}throw $i=r,ja}}function Vi(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?($i=a,ja):a}}var $i=null;function Og(){if($i===null)throw Error(i(459));var t=$i;return $i=null,t}function Lg(t){if(t===ja||t===tc)throw Error(i(483))}var Ma=null,rl=0;function rc(t){var r=rl;return rl+=1,Ma===null&&(Ma=[]),Rg(Ma,t,r)}function sl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function sc(t,r){throw r.$$typeof===A?Error(i(525)):(t=Object.prototype.toString.call(r),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Pg(t){function r(D,O){if(t){var F=D.deletions;F===null?(D.deletions=[O],D.flags|=16):F.push(O)}}function a(D,O){if(!t)return null;for(;O!==null;)r(D,O),O=O.sibling;return null}function l(D){for(var O=new Map;D!==null;)D.key!==null?O.set(D.key,D):O.set(D.index,D),D=D.sibling;return O}function h(D,O){return D=Gr(D,O),D.index=0,D.sibling=null,D}function f(D,O,F){return D.index=F,t?(F=D.alternate,F!==null?(F=F.index,F<O?(D.flags|=67108866,O):F):(D.flags|=67108866,O)):(D.flags|=1048576,O)}function v(D){return t&&D.alternate===null&&(D.flags|=67108866),D}function x(D,O,F,J){return O===null||O.tag!==6?(O=Ed(F,D.mode,J),O.return=D,O):(O=h(O,F),O.return=D,O)}function I(D,O,F,J){var pe=F.type;return pe===K?Q(D,O,F.props.children,J,F.key):O!==null&&(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===S&&Vi(pe)===O.type)?(O=h(O,F.props),sl(O,F),O.return=D,O):(O=Yu(F.type,F.key,F.props,null,D.mode,J),sl(O,F),O.return=D,O)}function U(D,O,F,J){return O===null||O.tag!==4||O.stateNode.containerInfo!==F.containerInfo||O.stateNode.implementation!==F.implementation?(O=xd(F,D.mode,J),O.return=D,O):(O=h(O,F.children||[]),O.return=D,O)}function Q(D,O,F,J,pe){return O===null||O.tag!==7?(O=ji(F,D.mode,J,pe),O.return=D,O):(O=h(O,F),O.return=D,O)}function Z(D,O,F){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Ed(""+O,D.mode,F),O.return=D,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case q:return F=Yu(O.type,O.key,O.props,null,D.mode,F),sl(F,O),F.return=D,F;case V:return O=xd(O,D.mode,F),O.return=D,O;case S:return O=Vi(O),Z(D,O,F)}if(Rt(O)||j(O))return O=ji(O,D.mode,F,null),O.return=D,O;if(typeof O.then=="function")return Z(D,rc(O),F);if(O.$$typeof===G)return Z(D,Zu(D,O),F);sc(D,O)}return null}function $(D,O,F,J){var pe=O!==null?O.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return pe!==null?null:x(D,O,""+F,J);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case q:return F.key===pe?I(D,O,F,J):null;case V:return F.key===pe?U(D,O,F,J):null;case S:return F=Vi(F),$(D,O,F,J)}if(Rt(F)||j(F))return pe!==null?null:Q(D,O,F,J,null);if(typeof F.then=="function")return $(D,O,rc(F),J);if(F.$$typeof===G)return $(D,O,Zu(D,F),J);sc(D,F)}return null}function B(D,O,F,J,pe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return D=D.get(F)||null,x(O,D,""+J,pe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case q:return D=D.get(J.key===null?F:J.key)||null,I(O,D,J,pe);case V:return D=D.get(J.key===null?F:J.key)||null,U(O,D,J,pe);case S:return J=Vi(J),B(D,O,F,J,pe)}if(Rt(J)||j(J))return D=D.get(F)||null,Q(O,D,J,pe,null);if(typeof J.then=="function")return B(D,O,F,rc(J),pe);if(J.$$typeof===G)return B(D,O,F,Zu(O,J),pe);sc(O,J)}return null}function he(D,O,F,J){for(var pe=null,Ve=null,de=O,Ce=O=0,Le=null;de!==null&&Ce<F.length;Ce++){de.index>Ce?(Le=de,de=null):Le=de.sibling;var $e=$(D,de,F[Ce],J);if($e===null){de===null&&(de=Le);break}t&&de&&$e.alternate===null&&r(D,de),O=f($e,O,Ce),Ve===null?pe=$e:Ve.sibling=$e,Ve=$e,de=Le}if(Ce===F.length)return a(D,de),Me&&Kr(D,Ce),pe;if(de===null){for(;Ce<F.length;Ce++)de=Z(D,F[Ce],J),de!==null&&(O=f(de,O,Ce),Ve===null?pe=de:Ve.sibling=de,Ve=de);return Me&&Kr(D,Ce),pe}for(de=l(de);Ce<F.length;Ce++)Le=B(de,D,Ce,F[Ce],J),Le!==null&&(t&&Le.alternate!==null&&de.delete(Le.key===null?Ce:Le.key),O=f(Le,O,Ce),Ve===null?pe=Le:Ve.sibling=Le,Ve=Le);return t&&de.forEach(function(Ks){return r(D,Ks)}),Me&&Kr(D,Ce),pe}function ye(D,O,F,J){if(F==null)throw Error(i(151));for(var pe=null,Ve=null,de=O,Ce=O=0,Le=null,$e=F.next();de!==null&&!$e.done;Ce++,$e=F.next()){de.index>Ce?(Le=de,de=null):Le=de.sibling;var Ks=$(D,de,$e.value,J);if(Ks===null){de===null&&(de=Le);break}t&&de&&Ks.alternate===null&&r(D,de),O=f(Ks,O,Ce),Ve===null?pe=Ks:Ve.sibling=Ks,Ve=Ks,de=Le}if($e.done)return a(D,de),Me&&Kr(D,Ce),pe;if(de===null){for(;!$e.done;Ce++,$e=F.next())$e=Z(D,$e.value,J),$e!==null&&(O=f($e,O,Ce),Ve===null?pe=$e:Ve.sibling=$e,Ve=$e);return Me&&Kr(D,Ce),pe}for(de=l(de);!$e.done;Ce++,$e=F.next())$e=B(de,D,Ce,$e.value,J),$e!==null&&(t&&$e.alternate!==null&&de.delete($e.key===null?Ce:$e.key),O=f($e,O,Ce),Ve===null?pe=$e:Ve.sibling=$e,Ve=$e);return t&&de.forEach(function(cx){return r(D,cx)}),Me&&Kr(D,Ce),pe}function Ze(D,O,F,J){if(typeof F=="object"&&F!==null&&F.type===K&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case q:e:{for(var pe=F.key;O!==null;){if(O.key===pe){if(pe=F.type,pe===K){if(O.tag===7){a(D,O.sibling),J=h(O,F.props.children),J.return=D,D=J;break e}}else if(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===S&&Vi(pe)===O.type){a(D,O.sibling),J=h(O,F.props),sl(J,F),J.return=D,D=J;break e}a(D,O);break}else r(D,O);O=O.sibling}F.type===K?(J=ji(F.props.children,D.mode,J,F.key),J.return=D,D=J):(J=Yu(F.type,F.key,F.props,null,D.mode,J),sl(J,F),J.return=D,D=J)}return v(D);case V:e:{for(pe=F.key;O!==null;){if(O.key===pe)if(O.tag===4&&O.stateNode.containerInfo===F.containerInfo&&O.stateNode.implementation===F.implementation){a(D,O.sibling),J=h(O,F.children||[]),J.return=D,D=J;break e}else{a(D,O);break}else r(D,O);O=O.sibling}J=xd(F,D.mode,J),J.return=D,D=J}return v(D);case S:return F=Vi(F),Ze(D,O,F,J)}if(Rt(F))return he(D,O,F,J);if(j(F)){if(pe=j(F),typeof pe!="function")throw Error(i(150));return F=pe.call(F),ye(D,O,F,J)}if(typeof F.then=="function")return Ze(D,O,rc(F),J);if(F.$$typeof===G)return Ze(D,O,Zu(D,F),J);sc(D,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,O!==null&&O.tag===6?(a(D,O.sibling),J=h(O,F),J.return=D,D=J):(a(D,O),J=Ed(F,D.mode,J),J.return=D,D=J),v(D)):a(D,O)}return function(D,O,F,J){try{rl=0;var pe=Ze(D,O,F,J);return Ma=null,pe}catch(de){if(de===ja||de===tc)throw de;var Ve=bn(29,de,null,D.mode);return Ve.lanes=J,Ve.return=D,Ve}finally{}}}var qi=Pg(!0),Dg=Pg(!1),As=!1;function Dd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Rs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Os(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qe&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Qu(t),vg(t,null,a),r}return Wu(t,l,r,a),Qu(t)}function il(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Oo(t,a)}}function Md(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=r:f=f.next=r}else h=f=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Fd=!1;function al(){if(Fd){var t=Da;if(t!==null)throw t}}function ol(t,r,a,l){Fd=!1;var h=t.updateQueue;As=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var I=x,U=I.next;I.next=null,v===null?f=U:v.next=U,v=I;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,x=Q.lastBaseUpdate,x!==v&&(x===null?Q.firstBaseUpdate=U:x.next=U,Q.lastBaseUpdate=I))}if(f!==null){var Z=h.baseState;v=0,Q=U=I=null,x=f;do{var $=x.lane&-536870913,B=$!==x.lane;if(B?(Oe&$)===$:(l&$)===$){$!==0&&$===Pa&&(Fd=!0),Q!==null&&(Q=Q.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var he=t,ye=x;$=r;var Ze=a;switch(ye.tag){case 1:if(he=ye.payload,typeof he=="function"){Z=he.call(Ze,Z,$);break e}Z=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ye.payload,$=typeof he=="function"?he.call(Ze,Z,$):he,$==null)break e;Z=E({},Z,$);break e;case 2:As=!0}}$=x.callback,$!==null&&(t.flags|=64,B&&(t.flags|=8192),B=h.callbacks,B===null?h.callbacks=[$]:B.push($))}else B={lane:$,tag:x.tag,payload:x.payload,callback:x.callback,next:null},Q===null?(U=Q=B,I=Z):Q=Q.next=B,v|=$;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;B=x,x=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);Q===null&&(I=Z),h.baseState=I,h.firstBaseUpdate=U,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Ms|=v,t.lanes=v,t.memoizedState=Z}}function jg(t,r){if(typeof t!="function")throw Error(i(191,t));t.call(r)}function Mg(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)jg(a[t],r)}var Fa=L(null),ic=L(0);function Fg(t,r){t=ss,oe(ic,t),oe(Fa,r),ss=t|r.baseLanes}function Ud(){oe(ic,ss),oe(Fa,Fa.current)}function zd(){ss=ic.current,X(Fa),X(ic)}var wn=L(null),Xn=null;function Ls(t){var r=t.alternate;oe(yt,yt.current&1),oe(wn,t),Xn===null&&(r===null||Fa.current!==null||r.memoizedState!==null)&&(Xn=t)}function Vd(t){oe(yt,yt.current),oe(wn,t),Xn===null&&(Xn=t)}function Ug(t){t.tag===22?(oe(yt,yt.current),oe(wn,t),Xn===null&&(Xn=t)):Ps()}function Ps(){oe(yt,yt.current),oe(wn,wn.current)}function kn(t){X(wn),Xn===t&&(Xn=null),X(yt)}var yt=L(0);function ac(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Wf(a)||Qf(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Yr=0,Se=null,Je=null,_t=null,oc=!1,Ua=!1,Hi=!1,lc=0,ll=0,za=null,e2=0;function ht(){throw Error(i(321))}function $d(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!vn(t[a],r[a]))return!1;return!0}function qd(t,r,a,l,h,f){return Yr=f,Se=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=t===null||t.memoizedState===null?Ey:sf,Hi=!1,f=a(l,h),Hi=!1,Ua&&(f=Vg(r,a,l,h)),zg(t),f}function zg(t){Y.H=hl;var r=Je!==null&&Je.next!==null;if(Yr=0,_t=Je=Se=null,oc=!1,ll=0,za=null,r)throw Error(i(300));t===null||Nt||(t=t.dependencies,t!==null&&Xu(t)&&(Nt=!0))}function Vg(t,r,a,l){Se=t;var h=0;do{if(Ua&&(za=null),ll=0,Ua=!1,25<=h)throw Error(i(301));if(h+=1,_t=Je=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Y.H=xy,f=r(a,l)}while(Ua);return f}function t2(){var t=Y.H,r=t.useState()[0];return r=typeof r.then=="function"?ul(r):r,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Se.flags|=1024),r}function Hd(){var t=lc!==0;return lc=0,t}function Bd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Gd(t){if(oc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}oc=!1}Yr=0,_t=Je=Se=null,Ua=!1,ll=lc=0,za=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Se.memoizedState=_t=t:_t=_t.next=t,_t}function vt(){if(Je===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var r=_t===null?Se.memoizedState:_t.next;if(r!==null)_t=r,Je=t;else{if(t===null)throw Se.alternate===null?Error(i(467)):Error(i(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},_t===null?Se.memoizedState=_t=t:_t=_t.next=t}return _t}function uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(t){var r=ll;return ll+=1,za===null&&(za=[]),t=Rg(za,t,r),r=Se,(_t===null?r.memoizedState:_t.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?Ey:sf),t}function cc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ul(t);if(t.$$typeof===G)return Ht(t)}throw Error(i(438,String(t)))}function Kd(t){var r=null,a=Se.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Se.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=uc(),Se.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=P;return r.index++,a}function Jr(t,r){return typeof r=="function"?r(t):r}function hc(t){var r=vt();return Wd(r,Je,t)}function Wd(t,r,a){var l=t.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}r.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{r=h.next;var x=v=null,I=null,U=r,Q=!1;do{var Z=U.lane&-536870913;if(Z!==U.lane?(Oe&Z)===Z:(Yr&Z)===Z){var $=U.revertLane;if($===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Z===Pa&&(Q=!0);else if((Yr&$)===$){U=U.next,$===Pa&&(Q=!0);continue}else Z={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(x=I=Z,v=f):I=I.next=Z,Se.lanes|=$,Ms|=$;Z=U.action,Hi&&a(f,Z),f=U.hasEagerState?U.eagerState:a(f,Z)}else $={lane:Z,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(x=I=$,v=f):I=I.next=$,Se.lanes|=Z,Ms|=Z;U=U.next}while(U!==null&&U!==r);if(I===null?v=f:I.next=x,!vn(f,t.memoizedState)&&(Nt=!0,Q&&(a=Da,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Qd(t){var r=vt(),a=r.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);vn(f,r.memoizedState)||(Nt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,l]}function $g(t,r,a){var l=Se,h=vt(),f=Me;if(f){if(a===void 0)throw Error(i(407));a=a()}else a=r();var v=!vn((Je||h).memoizedState,a);if(v&&(h.memoizedState=a,Nt=!0),h=h.queue,Xd(Bg.bind(null,l,h,t),[t]),h.getSnapshot!==r||v||_t!==null&&_t.memoizedState.tag&1){if(l.flags|=2048,Va(9,{destroy:void 0},Hg.bind(null,l,h,a,r),null),et===null)throw Error(i(349));f||(Yr&127)!==0||qg(l,r,a)}return a}function qg(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Se.updateQueue,r===null?(r=uc(),Se.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Hg(t,r,a,l){r.value=a,r.getSnapshot=l,Gg(r)&&Kg(t)}function Bg(t,r,a){return a(function(){Gg(r)&&Kg(t)})}function Gg(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!vn(t,a)}catch{return!0}}function Kg(t){var r=Di(t,2);r!==null&&fn(r,t,2)}function Yd(t){var r=an();if(typeof t=="function"){var a=t;if(t=a(),Hi){_n(!0);try{a()}finally{_n(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:t},r}function Wg(t,r,a,l){return t.baseState=a,Wd(t,Je,typeof l=="function"?l:Jr)}function n2(t,r,a,l,h){if(pc(t))throw Error(i(485));if(t=r.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};Y.T!==null?a(!0):f.isTransition=!1,l(f),a=r.pending,a===null?(f.next=r.pending=f,Qg(r,f)):(f.next=a.next,r.pending=a.next=f)}}function Qg(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var f=Y.T,v={};Y.T=v;try{var x=a(h,l),I=Y.S;I!==null&&I(v,x),Yg(t,r,x)}catch(U){Jd(t,r,U)}finally{f!==null&&v.types!==null&&(f.types=v.types),Y.T=f}}else try{f=a(h,l),Yg(t,r,f)}catch(U){Jd(t,r,U)}}function Yg(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Jg(t,r,l)},function(l){return Jd(t,r,l)}):Jg(t,r,a)}function Jg(t,r,a){r.status="fulfilled",r.value=a,Xg(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Qg(t,a)))}function Jd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Xg(r),r=r.next;while(r!==l)}t.action=null}function Xg(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Zg(t,r){return r}function ey(t,r){if(Me){var a=et.formState;if(a!==null){e:{var l=Se;if(Me){if(tt){t:{for(var h=tt,f=Dn;h.nodeType!==8;){if(!f){h=null;break t}if(h=jn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){tt=jn(h.nextSibling),l=h.data==="F!";break e}}Cs(l)}l=!1}l&&(r=a[0])}}return a=an(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zg,lastRenderedState:r},a.queue=l,a=by.bind(null,Se,l),l.dispatch=a,l=Yd(!1),f=rf.bind(null,Se,!1,l.queue),l=an(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=n2.bind(null,Se,h,f,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function ty(t){var r=vt();return ny(r,Je,t)}function ny(t,r,a){if(r=Wd(t,r,Zg)[0],t=hc(Jr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=ul(r)}catch(v){throw v===ja?tc:v}else l=r;r=vt();var h=r.queue,f=h.dispatch;return a!==r.memoizedState&&(Se.flags|=2048,Va(9,{destroy:void 0},r2.bind(null,h,a),null)),[l,f,t]}function r2(t,r){t.action=r}function ry(t){var r=vt(),a=Je;if(a!==null)return ny(r,a,t);vt(),r=r.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Va(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Se.updateQueue,r===null&&(r=uc(),Se.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function sy(){return vt().memoizedState}function dc(t,r,a,l){var h=an();Se.flags|=t,h.memoizedState=Va(1|r,{destroy:void 0},a,l===void 0?null:l)}function fc(t,r,a,l){var h=vt();l=l===void 0?null:l;var f=h.memoizedState.inst;Je!==null&&l!==null&&$d(l,Je.memoizedState.deps)?h.memoizedState=Va(r,f,a,l):(Se.flags|=t,h.memoizedState=Va(1|r,f,a,l))}function iy(t,r){dc(8390656,8,t,r)}function Xd(t,r){fc(2048,8,t,r)}function s2(t){Se.flags|=4;var r=Se.updateQueue;if(r===null)r=uc(),Se.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function ay(t){var r=vt().memoizedState;return s2({ref:r,nextImpl:t}),function(){if((qe&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function oy(t,r){return fc(4,2,t,r)}function ly(t,r){return fc(4,4,t,r)}function uy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function cy(t,r,a){a=a!=null?a.concat([t]):null,fc(4,4,uy.bind(null,r,t),a)}function Zd(){}function hy(t,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&$d(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function dy(t,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&$d(r,l[1]))return l[0];if(l=t(),Hi){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,r],l}function ef(t,r,a){return a===void 0||(Yr&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=fv(),Se.lanes|=t,Ms|=t,a)}function fy(t,r,a,l){return vn(a,r)?a:Fa.current!==null?(t=ef(t,a,l),vn(t,r)||(Nt=!0),t):(Yr&42)===0||(Yr&1073741824)!==0&&(Oe&261930)===0?(Nt=!0,t.memoizedState=a):(t=fv(),Se.lanes|=t,Ms|=t,r)}function py(t,r,a,l,h){var f=ae.p;ae.p=f!==0&&8>f?f:8;var v=Y.T,x={};Y.T=x,rf(t,!1,r,a);try{var I=h(),U=Y.S;if(U!==null&&U(x,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=ZE(I,l);cl(t,r,Q,Tn(t))}else cl(t,r,l,Tn(t))}catch(Z){cl(t,r,{then:function(){},status:"rejected",reason:Z},Tn())}finally{ae.p=f,v!==null&&x.types!==null&&(v.types=x.types),Y.T=v}}function i2(){}function tf(t,r,a,l){if(t.tag!==5)throw Error(i(476));var h=my(t).queue;py(t,h,r,me,a===null?i2:function(){return gy(t),a(l)})}function my(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:me},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function gy(t){var r=my(t);r.next===null&&(r=t.alternate.memoizedState),cl(t,r.next.queue,{},Tn())}function nf(){return Ht(Nl)}function yy(){return vt().memoizedState}function vy(){return vt().memoizedState}function a2(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Tn();t=Rs(a);var l=Os(r,t,a);l!==null&&(fn(l,r,a),il(l,r,a)),r={cache:Rd()},t.payload=r;return}r=r.return}}function o2(t,r,a){var l=Tn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},pc(t)?wy(r,a):(a=wd(t,r,a,l),a!==null&&(fn(a,t,l),ky(a,r,l)))}function by(t,r,a){var l=Tn();cl(t,r,a,l)}function cl(t,r,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(pc(t))wy(r,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var v=r.lastRenderedState,x=f(v,a);if(h.hasEagerState=!0,h.eagerState=x,vn(x,v))return Wu(t,r,h,0),et===null&&Ku(),!1}catch{}finally{}if(a=wd(t,r,h,l),a!==null)return fn(a,t,l),ky(a,r,l),!0}return!1}function rf(t,r,a,l){if(l={lane:2,revertLane:jf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},pc(t)){if(r)throw Error(i(479))}else r=wd(t,a,l,2),r!==null&&fn(r,t,2)}function pc(t){var r=t.alternate;return t===Se||r!==null&&r===Se}function wy(t,r){Ua=oc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function ky(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Oo(t,a)}}var hl={readContext:Ht,use:cc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};hl.useEffectEvent=ht;var Ey={readContext:Ht,use:cc,useCallback:function(t,r){return an().memoizedState=[t,r===void 0?null:r],t},useContext:Ht,useEffect:iy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,dc(4194308,4,uy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return dc(4194308,4,t,r)},useInsertionEffect:function(t,r){dc(4,2,t,r)},useMemo:function(t,r){var a=an();r=r===void 0?null:r;var l=t();if(Hi){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=an();if(a!==void 0){var h=a(r);if(Hi){_n(!0);try{a(r)}finally{_n(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=o2.bind(null,Se,t),[l.memoizedState,t]},useRef:function(t){var r=an();return t={current:t},r.memoizedState=t},useState:function(t){t=Yd(t);var r=t.queue,a=by.bind(null,Se,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Zd,useDeferredValue:function(t,r){var a=an();return ef(a,t,r)},useTransition:function(){var t=Yd(!1);return t=py.bind(null,Se,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Se,h=an();if(Me){if(a===void 0)throw Error(i(407));a=a()}else{if(a=r(),et===null)throw Error(i(349));(Oe&127)!==0||qg(l,r,a)}h.memoizedState=a;var f={value:a,getSnapshot:r};return h.queue=f,iy(Bg.bind(null,l,f,t),[t]),l.flags|=2048,Va(9,{destroy:void 0},Hg.bind(null,l,f,a,r),null),a},useId:function(){var t=an(),r=et.identifierPrefix;if(Me){var a=Sr,l=Tr;a=(l&~(1<<32-mt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=lc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=e2++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:nf,useFormState:ey,useActionState:ey,useOptimistic:function(t){var r=an();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=rf.bind(null,Se,!0,a),a.dispatch=r,[t,r]},useMemoCache:Kd,useCacheRefresh:function(){return an().memoizedState=a2.bind(null,Se)},useEffectEvent:function(t){var r=an(),a={impl:t};return r.memoizedState=a,function(){if((qe&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},sf={readContext:Ht,use:cc,useCallback:hy,useContext:Ht,useEffect:Xd,useImperativeHandle:cy,useInsertionEffect:oy,useLayoutEffect:ly,useMemo:dy,useReducer:hc,useRef:sy,useState:function(){return hc(Jr)},useDebugValue:Zd,useDeferredValue:function(t,r){var a=vt();return fy(a,Je.memoizedState,t,r)},useTransition:function(){var t=hc(Jr)[0],r=vt().memoizedState;return[typeof t=="boolean"?t:ul(t),r]},useSyncExternalStore:$g,useId:yy,useHostTransitionStatus:nf,useFormState:ty,useActionState:ty,useOptimistic:function(t,r){var a=vt();return Wg(a,Je,t,r)},useMemoCache:Kd,useCacheRefresh:vy};sf.useEffectEvent=ay;var xy={readContext:Ht,use:cc,useCallback:hy,useContext:Ht,useEffect:Xd,useImperativeHandle:cy,useInsertionEffect:oy,useLayoutEffect:ly,useMemo:dy,useReducer:Qd,useRef:sy,useState:function(){return Qd(Jr)},useDebugValue:Zd,useDeferredValue:function(t,r){var a=vt();return Je===null?ef(a,t,r):fy(a,Je.memoizedState,t,r)},useTransition:function(){var t=Qd(Jr)[0],r=vt().memoizedState;return[typeof t=="boolean"?t:ul(t),r]},useSyncExternalStore:$g,useId:yy,useHostTransitionStatus:nf,useFormState:ry,useActionState:ry,useOptimistic:function(t,r){var a=vt();return Je!==null?Wg(a,Je,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Kd,useCacheRefresh:vy};xy.useEffectEvent=ay;function af(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var of={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Tn(),h=Rs(l);h.payload=r,a!=null&&(h.callback=a),r=Os(t,h,l),r!==null&&(fn(r,t,l),il(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Tn(),h=Rs(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Os(t,h,l),r!==null&&(fn(r,t,l),il(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Tn(),l=Rs(a);l.tag=2,r!=null&&(l.callback=r),r=Os(t,l,a),r!==null&&(fn(r,t,a),il(r,t,a))}};function Ty(t,r,a,l,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):r.prototype&&r.prototype.isPureReactComponent?!Jo(a,l)||!Jo(h,f):!0}function Sy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&of.enqueueReplaceState(r,r.state,null)}function Bi(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function _y(t){Gu(t)}function Ny(t){console.error(t)}function Cy(t){Gu(t)}function mc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Iy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function lf(t,r,a){return a=Rs(a),a.tag=3,a.payload={element:null},a.callback=function(){mc(t,r)},a}function Ay(t){return t=Rs(t),t.tag=3,t}function Ry(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Iy(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Iy(r,a,l),typeof h!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function l2(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&La(r,a,h,!0),a=wn.current,a!==null){switch(a.tag){case 31:case 13:return Xn===null?Nc():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===nc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Lf(t,l,h)),!1;case 22:return a.flags|=65536,l===nc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Lf(t,l,h)),!1}throw Error(i(435,a.tag))}return Lf(t,l,h),Nc(),!1}if(Me)return r=wn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==_d&&(t=Error(i(422),{cause:l}),el(On(t,a)))):(l!==_d&&(r=Error(i(423),{cause:l}),el(On(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=On(l,a),h=lf(t.stateNode,l,h),Md(t,h),dt!==4&&(dt=2)),!1;var f=Error(i(520),{cause:l});if(f=On(f,a),bl===null?bl=[f]:bl.push(f),dt!==4&&(dt=2),r===null)return!0;l=On(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=lf(a.stateNode,l,t),Md(a,t),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Fs===null||!Fs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ay(h),Ry(h,t,a,l),Md(a,h),!1}a=a.return}while(a!==null);return!1}var uf=Error(i(461)),Nt=!1;function Bt(t,r,a,l){r.child=t===null?Dg(r,null,a,l):qi(r,t.child,a,l)}function Oy(t,r,a,l,h){a=a.render;var f=r.ref;if("ref"in l){var v={};for(var x in l)x!=="ref"&&(v[x]=l[x])}else v=l;return Ui(r),l=qd(t,r,a,v,f,h),x=Hd(),t!==null&&!Nt?(Bd(t,r,h),Xr(t,r,h)):(Me&&x&&Td(r),r.flags|=1,Bt(t,r,l,h),r.child)}function Ly(t,r,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!kd(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,Py(t,r,f,l,h)):(t=Yu(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!yf(t,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:Jo,a(v,l)&&t.ref===r.ref)return Xr(t,r,h)}return r.flags|=1,t=Gr(f,l),t.ref=r.ref,t.return=r,r.child=t}function Py(t,r,a,l,h){if(t!==null){var f=t.memoizedProps;if(Jo(f,l)&&t.ref===r.ref)if(Nt=!1,r.pendingProps=l=f,yf(t,h))(t.flags&131072)!==0&&(Nt=!0);else return r.lanes=t.lanes,Xr(t,r,h)}return cf(t,r,a,l,h)}function Dy(t,r,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=r.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,r.child=null;return jy(t,r,f,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&ec(r,f!==null?f.cachePool:null),f!==null?Fg(r,f):Ud(),Ug(r);else return l=r.lanes=536870912,jy(t,r,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(ec(r,f.cachePool),Fg(r,f),Ps(),r.memoizedState=null):(t!==null&&ec(r,null),Ud(),Ps());return Bt(t,r,h,a),r.child}function dl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function jy(t,r,a,l,h){var f=Ld();return f=f===null?null:{parent:St._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},t!==null&&ec(r,null),Ud(),Ug(r),t!==null&&La(t,r,l,!0),r.childLanes=h,null}function gc(t,r){return r=vc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function My(t,r,a){return qi(r,t.child,null,a),t=gc(r,r.pendingProps),t.flags|=2,kn(r),r.memoizedState=null,t}function u2(t,r,a){var l=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Me){if(l.mode==="hidden")return t=gc(r,l),r.lanes=536870912,dl(null,t);if(Vd(r),(t=tt)?(t=Qv(t,Dn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:_s!==null?{id:Tr,overflow:Sr}:null,retryLane:536870912,hydrationErrors:null},a=wg(t),a.return=r,r.child=a,qt=r,tt=null)):t=null,t===null)throw Cs(r);return r.lanes=536870912,null}return gc(r,l)}var f=t.memoizedState;if(f!==null){var v=f.dehydrated;if(Vd(r),h)if(r.flags&256)r.flags&=-257,r=My(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(i(558));else if(Nt||La(t,r,a,!1),h=(a&t.childLanes)!==0,Nt||h){if(l=et,l!==null&&(v=Lo(l,a),v!==0&&v!==f.retryLane))throw f.retryLane=v,Di(t,v),fn(l,t,v),uf;Nc(),r=My(t,r,a)}else t=f.treeContext,tt=jn(v.nextSibling),qt=r,Me=!0,Ns=null,Dn=!1,t!==null&&xg(r,t),r=gc(r,l),r.flags|=4096;return r}return t=Gr(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function yc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function cf(t,r,a,l,h){return Ui(r),a=qd(t,r,a,l,void 0,h),l=Hd(),t!==null&&!Nt?(Bd(t,r,h),Xr(t,r,h)):(Me&&l&&Td(r),r.flags|=1,Bt(t,r,a,h),r.child)}function Fy(t,r,a,l,h,f){return Ui(r),r.updateQueue=null,a=Vg(r,l,a,h),zg(t),l=Hd(),t!==null&&!Nt?(Bd(t,r,f),Xr(t,r,f)):(Me&&l&&Td(r),r.flags|=1,Bt(t,r,a,f),r.child)}function Uy(t,r,a,l,h){if(Ui(r),r.stateNode===null){var f=Ia,v=a.contextType;typeof v=="object"&&v!==null&&(f=Ht(v)),f=new a(l,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=of,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=l,f.state=r.memoizedState,f.refs={},Dd(r),v=a.contextType,f.context=typeof v=="object"&&v!==null?Ht(v):Ia,f.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(af(r,a,v,l),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&of.enqueueReplaceState(f,f.state,null),ol(r,l,f,h),al(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){f=r.stateNode;var x=r.memoizedProps,I=Bi(a,x);f.props=I;var U=f.context,Q=a.contextType;v=Ia,typeof Q=="object"&&Q!==null&&(v=Ht(Q));var Z=a.getDerivedStateFromProps;Q=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",x=r.pendingProps!==x,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(x||U!==v)&&Sy(r,f,l,v),As=!1;var $=r.memoizedState;f.state=$,ol(r,l,f,h),al(),U=r.memoizedState,x||$!==U||As?(typeof Z=="function"&&(af(r,a,Z,l),U=r.memoizedState),(I=As||Ty(r,a,I,l,$,U,v))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=U),f.props=l,f.state=U,f.context=v,l=I):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{f=r.stateNode,jd(t,r),v=r.memoizedProps,Q=Bi(a,v),f.props=Q,Z=r.pendingProps,$=f.context,U=a.contextType,I=Ia,typeof U=="object"&&U!==null&&(I=Ht(U)),x=a.getDerivedStateFromProps,(U=typeof x=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Z||$!==I)&&Sy(r,f,l,I),As=!1,$=r.memoizedState,f.state=$,ol(r,l,f,h),al();var B=r.memoizedState;v!==Z||$!==B||As||t!==null&&t.dependencies!==null&&Xu(t.dependencies)?(typeof x=="function"&&(af(r,a,x,l),B=r.memoizedState),(Q=As||Ty(r,a,Q,l,$,B,I)||t!==null&&t.dependencies!==null&&Xu(t.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,B,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,B,I)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&$===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&$===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=B),f.props=l,f.state=B,f.context=I,l=Q):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&$===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&$===t.memoizedState||(r.flags|=1024),l=!1)}return f=l,yc(t,r),l=(r.flags&128)!==0,f||l?(f=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,t!==null&&l?(r.child=qi(r,t.child,null,h),r.child=qi(r,null,a,h)):Bt(t,r,a,h),r.memoizedState=f.state,t=r.child):t=Xr(t,r,h),t}function zy(t,r,a,l){return Mi(),r.flags|=256,Bt(t,r,a,l),r.child}var hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function df(t){return{baseLanes:t,cachePool:Ig()}}function ff(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=xn),t}function Vy(t,r,a){var l=r.pendingProps,h=!1,f=(r.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(Me){if(h?Ls(r):Ps(),(t=tt)?(t=Qv(t,Dn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:_s!==null?{id:Tr,overflow:Sr}:null,retryLane:536870912,hydrationErrors:null},a=wg(t),a.return=r,r.child=a,qt=r,tt=null)):t=null,t===null)throw Cs(r);return Qf(t)?r.lanes=32:r.lanes=536870912,null}var x=l.children;return l=l.fallback,h?(Ps(),h=r.mode,x=vc({mode:"hidden",children:x},h),l=ji(l,h,a,null),x.return=r,l.return=r,x.sibling=l,r.child=x,l=r.child,l.memoizedState=df(a),l.childLanes=ff(t,v,a),r.memoizedState=hf,dl(null,l)):(Ls(r),pf(r,x))}var I=t.memoizedState;if(I!==null&&(x=I.dehydrated,x!==null)){if(f)r.flags&256?(Ls(r),r.flags&=-257,r=mf(t,r,a)):r.memoizedState!==null?(Ps(),r.child=t.child,r.flags|=128,r=null):(Ps(),x=l.fallback,h=r.mode,l=vc({mode:"visible",children:l.children},h),x=ji(x,h,a,null),x.flags|=2,l.return=r,x.return=r,l.sibling=x,r.child=l,qi(r,t.child,null,a),l=r.child,l.memoizedState=df(a),l.childLanes=ff(t,v,a),r.memoizedState=hf,r=dl(null,l));else if(Ls(r),Qf(x)){if(v=x.nextSibling&&x.nextSibling.dataset,v)var U=v.dgst;v=U,l=Error(i(419)),l.stack="",l.digest=v,el({value:l,source:null,stack:null}),r=mf(t,r,a)}else if(Nt||La(t,r,a,!1),v=(a&t.childLanes)!==0,Nt||v){if(v=et,v!==null&&(l=Lo(v,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,Di(t,l),fn(v,t,l),uf;Wf(x)||Nc(),r=mf(t,r,a)}else Wf(x)?(r.flags|=192,r.child=t.child,r=null):(t=I.treeContext,tt=jn(x.nextSibling),qt=r,Me=!0,Ns=null,Dn=!1,t!==null&&xg(r,t),r=pf(r,l.children),r.flags|=4096);return r}return h?(Ps(),x=l.fallback,h=r.mode,I=t.child,U=I.sibling,l=Gr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,U!==null?x=Gr(U,x):(x=ji(x,h,a,null),x.flags|=2),x.return=r,l.return=r,l.sibling=x,r.child=l,dl(null,l),l=r.child,x=t.child.memoizedState,x===null?x=df(a):(h=x.cachePool,h!==null?(I=St._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Ig(),x={baseLanes:x.baseLanes|a,cachePool:h}),l.memoizedState=x,l.childLanes=ff(t,v,a),r.memoizedState=hf,dl(t.child,l)):(Ls(r),a=t.child,t=a.sibling,a=Gr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function pf(t,r){return r=vc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function vc(t,r){return t=bn(22,t,null,r),t.lanes=0,t}function mf(t,r,a){return qi(r,t.child,null,a),t=pf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function $y(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Id(t.return,r,a)}function gf(t,r,a,l,h,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=f)}function qy(t,r,a){var l=r.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var v=yt.current,x=(v&2)!==0;if(x?(v=v&1|2,r.flags|=128):v&=1,oe(yt,v),Bt(t,r,l,a),l=Me?Zo:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$y(t,a,r);else if(t.tag===19)$y(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&ac(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),gf(r,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&ac(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}gf(r,!0,a,null,f,l);break;case"together":gf(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function Xr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Ms|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(La(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(i(153));if(r.child!==null){for(t=r.child,a=Gr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Gr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function yf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Xu(t)))}function c2(t,r,a){switch(r.tag){case 3:Ot(r,r.stateNode.containerInfo),Is(r,St,t.memoizedState.cache),Mi();break;case 27:case 5:yi(r);break;case 4:Ot(r,r.stateNode.containerInfo);break;case 10:Is(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Vd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ls(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Vy(t,r,a):(Ls(r),t=Xr(t,r,a),t!==null?t.sibling:null);Ls(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(La(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return qy(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(yt,yt.current),l)break;return null;case 22:return r.lanes=0,Dy(t,r,a,r.pendingProps);case 24:Is(r,St,t.memoizedState.cache)}return Xr(t,r,a)}function Hy(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Nt=!0;else{if(!yf(t,a)&&(r.flags&128)===0)return Nt=!1,c2(t,r,a);Nt=(t.flags&131072)!==0}else Nt=!1,Me&&(r.flags&1048576)!==0&&Eg(r,Zo,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=Vi(r.elementType),r.type=t,typeof t=="function")kd(t)?(l=Bi(t,l),r.tag=1,r=Uy(null,r,t,l,a)):(r.tag=0,r=cf(null,r,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===le){r.tag=11,r=Oy(null,r,t,l,a);break e}else if(h===_){r.tag=14,r=Ly(null,r,t,l,a);break e}}throw r=it(t)||t,Error(i(306,r,""))}}return r;case 0:return cf(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Bi(l,r.pendingProps),Uy(t,r,l,h,a);case 3:e:{if(Ot(r,r.stateNode.containerInfo),t===null)throw Error(i(387));l=r.pendingProps;var f=r.memoizedState;h=f.element,jd(t,r),ol(r,l,null,a);var v=r.memoizedState;if(l=v.cache,Is(r,St,l),l!==f.cache&&Ad(r,[St],a,!0),al(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=zy(t,r,l,a);break e}else if(l!==h){h=On(Error(i(424)),r),el(h),r=zy(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(tt=jn(t.firstChild),qt=r,Me=!0,Ns=null,Dn=!0,a=Dg(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Mi(),l===h){r=Xr(t,r,a);break e}Bt(t,r,l,a)}r=r.child}return r;case 26:return yc(t,r),t===null?(a=tb(r.type,null,r.pendingProps,null))?r.memoizedState=a:Me||(a=r.type,t=r.pendingProps,l=Pc(_e.current).createElement(a),l[Et]=r,l[Mt]=t,Gt(l,a,t),xt(l),r.stateNode=l):r.memoizedState=tb(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return yi(r),t===null&&Me&&(l=r.stateNode=Xv(r.type,r.pendingProps,_e.current),qt=r,Dn=!0,h=tt,$s(r.type)?(Yf=h,tt=jn(l.firstChild)):tt=h),Bt(t,r,r.pendingProps.children,a),yc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Me&&((h=l=tt)&&(l=z2(l,r.type,r.pendingProps,Dn),l!==null?(r.stateNode=l,qt=r,tt=jn(l.firstChild),Dn=!1,h=!0):h=!1),h||Cs(r)),yi(r),h=r.type,f=r.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,Bf(h,f)?l=null:v!==null&&Bf(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=qd(t,r,t2,null,null,a),Nl._currentValue=h),yc(t,r),Bt(t,r,l,a),r.child;case 6:return t===null&&Me&&((t=a=tt)&&(a=V2(a,r.pendingProps,Dn),a!==null?(r.stateNode=a,qt=r,tt=null,t=!0):t=!1),t||Cs(r)),null;case 13:return Vy(t,r,a);case 4:return Ot(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=qi(r,null,l,a):Bt(t,r,l,a),r.child;case 11:return Oy(t,r,r.type,r.pendingProps,a);case 7:return Bt(t,r,r.pendingProps,a),r.child;case 8:return Bt(t,r,r.pendingProps.children,a),r.child;case 12:return Bt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Is(r,r.type,l.value),Bt(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Ui(r),h=Ht(h),l=l(h),r.flags|=1,Bt(t,r,l,a),r.child;case 14:return Ly(t,r,r.type,r.pendingProps,a);case 15:return Py(t,r,r.type,r.pendingProps,a);case 19:return qy(t,r,a);case 31:return u2(t,r,a);case 22:return Dy(t,r,a,r.pendingProps);case 24:return Ui(r),l=Ht(St),t===null?(h=Ld(),h===null&&(h=et,f=Rd(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),r.memoizedState={parent:l,cache:h},Dd(r),Is(r,St,h)):((t.lanes&a)!==0&&(jd(t,r),ol(r,null,null,a),al()),h=t.memoizedState,f=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Is(r,St,l)):(l=f.cache,Is(r,St,l),l!==h.cache&&Ad(r,[St],a,!0))),Bt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Zr(t){t.flags|=4}function vf(t,r,a,l,h){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(yv())t.flags|=8192;else throw $i=nc,Pd}else t.flags&=-16777217}function By(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ab(r))if(yv())t.flags|=8192;else throw $i=nc,Pd}function bc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Su():536870912,t.lanes|=r,Ba|=r)}function fl(t,r){if(!Me)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function h2(t,r,a){var l=r.pendingProps;switch(Sd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(r),null;case 1:return nt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Qr(St),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Oa(r)?Zr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Nd())),nt(r),null;case 26:var h=r.type,f=r.memoizedState;return t===null?(Zr(r),f!==null?(nt(r),By(r,f)):(nt(r),vf(r,h,null,l,a))):f?f!==t.memoizedState?(Zr(r),nt(r),By(r,f)):(nt(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&Zr(r),nt(r),vf(r,h,t,l,a)),null;case 27:if(ca(r),a=_e.current,h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Zr(r);else{if(!l){if(r.stateNode===null)throw Error(i(166));return nt(r),null}t=ce.current,Oa(r)?Tg(r):(t=Xv(h,l,a),r.stateNode=t,Zr(r))}return nt(r),null;case 5:if(ca(r),h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Zr(r);else{if(!l){if(r.stateNode===null)throw Error(i(166));return nt(r),null}if(f=ce.current,Oa(r))Tg(r);else{var v=Pc(_e.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}f[Et]=r,f[Mt]=l;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=f;e:switch(Gt(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Zr(r)}}return nt(r),vf(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Zr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(i(166));if(t=_e.current,Oa(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Et]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Vv(t.nodeValue,a)),t||Cs(r,!0)}else t=Pc(t).createTextNode(l),t[Et]=r,r.stateNode=t}return nt(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Oa(r),a!==null){if(t===null){if(!l)throw Error(i(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[Et]=r}else Mi(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;nt(r),t=!1}else a=Nd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(kn(r),r):(kn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return nt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Oa(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(i(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Et]=r}else Mi(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;nt(r),h=!1}else h=Nd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(kn(r),r):(kn(r),null)}return kn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),bc(r,r.updateQueue),nt(r),null);case 4:return at(),t===null&&zf(r.stateNode.containerInfo),nt(r),null;case 10:return Qr(r.type),nt(r),null;case 19:if(X(yt),l=r.memoizedState,l===null)return nt(r),null;if(h=(r.flags&128)!==0,f=l.rendering,f===null)if(h)fl(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(f=ac(t),f!==null){for(r.flags|=128,fl(l,!1),t=f.updateQueue,r.updateQueue=t,bc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)bg(a,t),a=a.sibling;return oe(yt,yt.current&1|2),Me&&Kr(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&rn()>Tc&&(r.flags|=128,h=!0,fl(l,!1),r.lanes=4194304)}else{if(!h)if(t=ac(f),t!==null){if(r.flags|=128,h=!0,t=t.updateQueue,r.updateQueue=t,bc(r,t),fl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Me)return nt(r),null}else 2*rn()-l.renderingStartTime>Tc&&a!==536870912&&(r.flags|=128,h=!0,fl(l,!1),r.lanes=4194304);l.isBackwards?(f.sibling=r.child,r.child=f):(t=l.last,t!==null?t.sibling=f:r.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=rn(),t.sibling=null,a=yt.current,oe(yt,h?a&1|2:a&1),Me&&Kr(r,l.treeForkCount),t):(nt(r),null);case 22:case 23:return kn(r),zd(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(nt(r),r.subtreeFlags&6&&(r.flags|=8192)):nt(r),a=r.updateQueue,a!==null&&bc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&X(zi),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Qr(St),nt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function d2(t,r){switch(Sd(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Qr(St),at(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return ca(r),null;case 31:if(r.memoizedState!==null){if(kn(r),r.alternate===null)throw Error(i(340));Mi()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(kn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Mi()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return X(yt),null;case 4:return at(),null;case 10:return Qr(r.type),null;case 22:case 23:return kn(r),zd(),t!==null&&X(zi),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Qr(St),null;case 25:return null;default:return null}}function Gy(t,r){switch(Sd(r),r.tag){case 3:Qr(St),at();break;case 26:case 27:case 5:ca(r);break;case 4:at();break;case 31:r.memoizedState!==null&&kn(r);break;case 13:kn(r);break;case 19:X(yt);break;case 10:Qr(r.type);break;case 22:case 23:kn(r),zd(),t!==null&&X(zi);break;case 24:Qr(St)}}function pl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==h)}}catch(x){Qe(r,r.return,x)}}function Ds(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var v=l.inst,x=v.destroy;if(x!==void 0){v.destroy=void 0,h=r;var I=a,U=x;try{U()}catch(Q){Qe(h,I,Q)}}}l=l.next}while(l!==f)}}catch(Q){Qe(r,r.return,Q)}}function Ky(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Mg(r,a)}catch(l){Qe(t,t.return,l)}}}function Wy(t,r,a){a.props=Bi(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Qe(t,r,l)}}function ml(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Qe(t,r,h)}}function _r(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Qe(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Qe(t,r,h)}else a.current=null}function Qy(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Qe(t,t.return,h)}}function bf(t,r,a){try{var l=t.stateNode;P2(l,t.type,a,r),l[Mt]=r}catch(h){Qe(t,t.return,h)}}function Yy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&$s(t.type)||t.tag===4}function wf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Yy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&$s(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kf(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Gn));else if(l!==4&&(l===27&&$s(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(kf(t,r,a),t=t.sibling;t!==null;)kf(t,r,a),t=t.sibling}function wc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&$s(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(wc(t,r,a),t=t.sibling;t!==null;)wc(t,r,a),t=t.sibling}function Jy(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Gt(r,l,a),r[Et]=t,r[Mt]=a}catch(f){Qe(t,t.return,f)}}var es=!1,Ct=!1,Ef=!1,Xy=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function f2(t,r){if(t=t.containerInfo,qf=Vc,t=cg(t),pd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var v=0,x=-1,I=-1,U=0,Q=0,Z=t,$=null;t:for(;;){for(var B;Z!==a||h!==0&&Z.nodeType!==3||(x=v+h),Z!==f||l!==0&&Z.nodeType!==3||(I=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(B=Z.firstChild)!==null;)$=Z,Z=B;for(;;){if(Z===t)break t;if($===a&&++U===h&&(x=v),$===f&&++Q===l&&(I=v),(B=Z.nextSibling)!==null)break;Z=$,$=Z.parentNode}Z=B}a=x===-1||I===-1?null:{start:x,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hf={focusedElem:t,selectionRange:a},Vc=!1,Ut=r;Ut!==null;)if(r=Ut,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Ut=t;else for(;Ut!==null;){switch(r=Ut,f=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=r,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var he=Bi(a.type,h);t=l.getSnapshotBeforeUpdate(he,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Qe(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Kf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=r.sibling,t!==null){t.return=r.return,Ut=t;break}Ut=r.return}}function Zy(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ns(t,a),l&4&&pl(5,a);break;case 1:if(ns(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){Qe(a,a.return,v)}else{var h=Bi(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Qe(a,a.return,v)}}l&64&&Ky(a),l&512&&ml(a,a.return);break;case 3:if(ns(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Mg(t,r)}catch(v){Qe(a,a.return,v)}}break;case 27:r===null&&l&4&&Jy(a);case 26:case 5:ns(t,a),r===null&&l&4&&Qy(a),l&512&&ml(a,a.return);break;case 12:ns(t,a);break;case 31:ns(t,a),l&4&&nv(t,a);break;case 13:ns(t,a),l&4&&rv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=E2.bind(null,a),$2(t,a))));break;case 22:if(l=a.memoizedState!==null||es,!l){r=r!==null&&r.memoizedState!==null||Ct,h=es;var f=Ct;es=l,(Ct=r)&&!f?rs(t,a,(a.subtreeFlags&8772)!==0):ns(t,a),es=h,Ct=f}break;case 30:break;default:ns(t,a)}}function ev(t){var r=t.alternate;r!==null&&(t.alternate=null,ev(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&ma(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,un=!1;function ts(t,r,a){for(a=a.child;a!==null;)tv(t,r,a),a=a.sibling}function tv(t,r,a){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount($n,a)}catch{}switch(a.tag){case 26:Ct||_r(a,r),ts(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||_r(a,r);var l=lt,h=un;$s(a.type)&&(lt=a.stateNode,un=!1),ts(t,r,a),Tl(a.stateNode),lt=l,un=h;break;case 5:Ct||_r(a,r);case 6:if(l=lt,h=un,lt=null,ts(t,r,a),lt=l,un=h,lt!==null)if(un)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(f){Qe(a,r,f)}else try{lt.removeChild(a.stateNode)}catch(f){Qe(a,r,f)}break;case 18:lt!==null&&(un?(t=lt,Kv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Za(t)):Kv(lt,a.stateNode));break;case 4:l=lt,h=un,lt=a.stateNode.containerInfo,un=!0,ts(t,r,a),lt=l,un=h;break;case 0:case 11:case 14:case 15:Ds(2,a,r),Ct||Ds(4,a,r),ts(t,r,a);break;case 1:Ct||(_r(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Wy(a,r,l)),ts(t,r,a);break;case 21:ts(t,r,a);break;case 22:Ct=(l=Ct)||a.memoizedState!==null,ts(t,r,a),Ct=l;break;default:ts(t,r,a)}}function nv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Za(t)}catch(a){Qe(r,r.return,a)}}}function rv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Za(t)}catch(a){Qe(r,r.return,a)}}function p2(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Xy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Xy),r;default:throw Error(i(435,t.tag))}}function kc(t,r){var a=p2(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var h=x2.bind(null,t,l);l.then(h,h)}})}function cn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,v=r,x=v;e:for(;x!==null;){switch(x.tag){case 27:if($s(x.type)){lt=x.stateNode,un=!1;break e}break;case 5:lt=x.stateNode,un=!1;break e;case 3:case 4:lt=x.stateNode.containerInfo,un=!0;break e}x=x.return}if(lt===null)throw Error(i(160));tv(f,v,h),lt=null,un=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)sv(r,t),r=r.sibling}var Zn=null;function sv(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(r,t),hn(t),l&4&&(Ds(3,t,t.return),pl(3,t),Ds(5,t,t.return));break;case 1:cn(r,t),hn(t),l&512&&(Ct||a===null||_r(a,a.return)),l&64&&es&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Zn;if(cn(r,t),hn(t),l&512&&(Ct||a===null||_r(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[fr]||f[Et]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Gt(f,l,a),f[Et]=t,xt(f),l=f;break e;case"link":var v=sb("link","href",h).get(l+(a.href||""));if(v){for(var x=0;x<v.length;x++)if(f=v[x],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(x,1);break t}}f=h.createElement(l),Gt(f,l,a),h.head.appendChild(f);break;case"meta":if(v=sb("meta","content",h).get(l+(a.content||""))){for(x=0;x<v.length;x++)if(f=v[x],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(x,1);break t}}f=h.createElement(l),Gt(f,l,a),h.head.appendChild(f);break;default:throw Error(i(468,l))}f[Et]=t,xt(f),l=f}t.stateNode=l}else ib(h,t.type,t.stateNode);else t.stateNode=rb(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?ib(h,t.type,t.stateNode):rb(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&bf(t,t.memoizedProps,a.memoizedProps)}break;case 27:cn(r,t),hn(t),l&512&&(Ct||a===null||_r(a,a.return)),a!==null&&l&4&&bf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(cn(r,t),hn(t),l&512&&(Ct||a===null||_r(a,a.return)),t.flags&32){h=t.stateNode;try{ln(h,"")}catch(he){Qe(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,bf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Ef=!0);break;case 6:if(cn(r,t),hn(t),l&4){if(t.stateNode===null)throw Error(i(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){Qe(t,t.return,he)}}break;case 3:if(Mc=null,h=Zn,Zn=Dc(r.containerInfo),cn(r,t),Zn=h,hn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Za(r.containerInfo)}catch(he){Qe(t,t.return,he)}Ef&&(Ef=!1,iv(t));break;case 4:l=Zn,Zn=Dc(t.stateNode.containerInfo),cn(r,t),hn(t),Zn=l;break;case 12:cn(r,t),hn(t);break;case 31:cn(r,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,kc(t,l)));break;case 13:cn(r,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(xc=rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,kc(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,U=es,Q=Ct;if(es=U||h,Ct=Q||I,cn(r,t),Ct=Q,es=U,hn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||I||es||Ct||Gi(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(f=I.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{x=I.stateNode;var Z=I.memoizedProps.style,$=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;x.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(he){Qe(I,I.return,he)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(he){Qe(I,I.return,he)}}}else if(r.tag===18){if(a===null){I=r;try{var B=I.stateNode;h?Wv(B,!0):Wv(I.stateNode,!1)}catch(he){Qe(I,I.return,he)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,kc(t,a))));break;case 19:cn(r,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,kc(t,l)));break;case 30:break;case 21:break;default:cn(r,t),hn(t)}}function hn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(Yy(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var h=a.stateNode,f=wf(t);wc(t,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(ln(v,""),a.flags&=-33);var x=wf(t);wc(t,x,v);break;case 3:case 4:var I=a.stateNode.containerInfo,U=wf(t);kf(t,U,I);break;default:throw Error(i(161))}}catch(Q){Qe(t,t.return,Q)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function iv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;iv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function ns(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Zy(t,r.alternate,r),r=r.sibling}function Gi(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ds(4,r,r.return),Gi(r);break;case 1:_r(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Wy(r,r.return,a),Gi(r);break;case 27:Tl(r.stateNode);case 26:case 5:_r(r,r.return),Gi(r);break;case 22:r.memoizedState===null&&Gi(r);break;case 30:Gi(r);break;default:Gi(r)}t=t.sibling}}function rs(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,f=r,v=f.flags;switch(f.tag){case 0:case 11:case 15:rs(h,f,a),pl(4,f);break;case 1:if(rs(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Qe(l,l.return,U)}if(l=f,h=l.updateQueue,h!==null){var x=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)jg(I[h],x)}catch(U){Qe(l,l.return,U)}}a&&v&64&&Ky(f),ml(f,f.return);break;case 27:Jy(f);case 26:case 5:rs(h,f,a),a&&l===null&&v&4&&Qy(f),ml(f,f.return);break;case 12:rs(h,f,a);break;case 31:rs(h,f,a),a&&v&4&&nv(h,f);break;case 13:rs(h,f,a),a&&v&4&&rv(h,f);break;case 22:f.memoizedState===null&&rs(h,f,a),ml(f,f.return);break;case 30:break;default:rs(h,f,a)}r=r.sibling}}function xf(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&tl(a))}function Tf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&tl(t))}function er(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)av(t,r,a,l),r=r.sibling}function av(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:er(t,r,a,l),h&2048&&pl(9,r);break;case 1:er(t,r,a,l);break;case 3:er(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&tl(t)));break;case 12:if(h&2048){er(t,r,a,l),t=r.stateNode;try{var f=r.memoizedProps,v=f.id,x=f.onPostCommit;typeof x=="function"&&x(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Qe(r,r.return,I)}}else er(t,r,a,l);break;case 31:er(t,r,a,l);break;case 13:er(t,r,a,l);break;case 23:break;case 22:f=r.stateNode,v=r.alternate,r.memoizedState!==null?f._visibility&2?er(t,r,a,l):gl(t,r):f._visibility&2?er(t,r,a,l):(f._visibility|=2,$a(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),h&2048&&xf(v,r);break;case 24:er(t,r,a,l),h&2048&&Tf(r.alternate,r);break;default:er(t,r,a,l)}}function $a(t,r,a,l,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var f=t,v=r,x=a,I=l,U=v.flags;switch(v.tag){case 0:case 11:case 15:$a(f,v,x,I,h),pl(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?$a(f,v,x,I,h):gl(f,v):(Q._visibility|=2,$a(f,v,x,I,h)),h&&U&2048&&xf(v.alternate,v);break;case 24:$a(f,v,x,I,h),h&&U&2048&&Tf(v.alternate,v);break;default:$a(f,v,x,I,h)}r=r.sibling}}function gl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:gl(a,l),h&2048&&xf(l.alternate,l);break;case 24:gl(a,l),h&2048&&Tf(l.alternate,l);break;default:gl(a,l)}r=r.sibling}}var yl=8192;function qa(t,r,a){if(t.subtreeFlags&yl)for(t=t.child;t!==null;)ov(t,r,a),t=t.sibling}function ov(t,r,a){switch(t.tag){case 26:qa(t,r,a),t.flags&yl&&t.memoizedState!==null&&ex(a,Zn,t.memoizedState,t.memoizedProps);break;case 5:qa(t,r,a);break;case 3:case 4:var l=Zn;Zn=Dc(t.stateNode.containerInfo),qa(t,r,a),Zn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=yl,yl=16777216,qa(t,r,a),yl=l):qa(t,r,a));break;default:qa(t,r,a)}}function lv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function vl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ut=l,cv(l,t)}lv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)uv(t),t=t.sibling}function uv(t){switch(t.tag){case 0:case 11:case 15:vl(t),t.flags&2048&&Ds(9,t,t.return);break;case 3:vl(t);break;case 12:vl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Ec(t)):vl(t);break;default:vl(t)}}function Ec(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ut=l,cv(l,t)}lv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ds(8,r,r.return),Ec(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Ec(r));break;default:Ec(r)}t=t.sibling}}function cv(t,r){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Ds(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:tl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,f=l.return;if(ev(l),l===a){Ut=null;break e}if(h!==null){h.return=f,Ut=h;break e}Ut=f}}}var m2={getCacheForType:function(t){var r=Ht(St),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Ht(St).controller.signal}},g2=typeof WeakMap=="function"?WeakMap:Map,qe=0,et=null,Ae=null,Oe=0,We=0,En=null,js=!1,Ha=!1,Sf=!1,ss=0,dt=0,Ms=0,Ki=0,_f=0,xn=0,Ba=0,bl=null,dn=null,Nf=!1,xc=0,hv=0,Tc=1/0,Sc=null,Fs=null,Pt=0,Us=null,Ga=null,is=0,Cf=0,If=null,dv=null,wl=0,Af=null;function Tn(){return(qe&2)!==0&&Oe!==0?Oe&-Oe:Y.T!==null?jf():_u()}function fv(){if(xn===0)if((Oe&536870912)===0||Me){var t=wi;wi<<=1,(wi&3932160)===0&&(wi=262144),xn=t}else xn=536870912;return t=wn.current,t!==null&&(t.flags|=32),xn}function fn(t,r,a){(t===et&&(We===2||We===9)||t.cancelPendingCommit!==null)&&(Ka(t,0),zs(t,Oe,xn,!1)),ki(t,a),((qe&2)===0||t!==et)&&(t===et&&((qe&2)===0&&(Ki|=a),dt===4&&zs(t,Oe,xn,!1)),Nr(t))}function pv(t,r,a){if((qe&6)!==0)throw Error(i(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||qn(t,r),h=l?b2(t,r):Of(t,r,!0),f=l;do{if(h===0){Ha&&!l&&zs(t,r,0,!1);break}else{if(a=t.current.alternate,f&&!y2(a)){h=Of(t,r,!1),f=!1;continue}if(h===2){if(f=r,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var x=t;h=bl;var I=x.current.memoizedState.isDehydrated;if(I&&(Ka(x,v).flags|=256),v=Of(x,v,!1),v!==2){if(Sf&&!I){x.errorRecoveryDisabledLanes|=f,Ki|=f,h=4;break e}f=dn,dn=h,f!==null&&(dn===null?dn=f:dn.push.apply(dn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){Ka(t,0),zs(t,r,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:zs(l,r,xn,!js);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(h=xc+300-rn(),10<h)){if(zs(l,r,xn,!js),cr(l,0,!0)!==0)break e;is=r,l.timeoutHandle=Bv(mv.bind(null,l,a,dn,Sc,Nf,r,xn,Ki,Ba,js,f,"Throttled",-0,0),h);break e}mv(l,a,dn,Sc,Nf,r,xn,Ki,Ba,js,f,null,-0,0)}}break}while(!0);Nr(t)}function mv(t,r,a,l,h,f,v,x,I,U,Q,Z,$,B){if(t.timeoutHandle=-1,Z=r.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},ov(r,f,Z);var he=(f&62914560)===f?xc-rn():(f&4194048)===f?hv-rn():0;if(he=tx(Z,he),he!==null){is=f,t.cancelPendingCommit=he(xv.bind(null,t,r,f,a,l,h,v,x,I,Q,Z,null,$,B)),zs(t,f,v,!U);return}}xv(t,r,f,a,l,h,v,x,I)}function y2(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!vn(f(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function zs(t,r,a,l){r&=~_f,r&=~Ki,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var f=31-mt(h),v=1<<f;l[f]=-1,h&=~v}a!==0&&Ei(t,a,r)}function _c(){return(qe&6)===0?(kl(0),!1):!0}function Rf(){if(Ae!==null){if(We===0)var t=Ae.return;else t=Ae,Wr=Fi=null,Gd(t),Ma=null,rl=0,t=Ae;for(;t!==null;)Gy(t.alternate,t),t=t.return;Ae=null}}function Ka(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,M2(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),is=0,Rf(),et=t,Ae=a=Gr(t.current,null),Oe=r,We=0,En=null,js=!1,Ha=qn(t,r),Sf=!1,Ba=xn=_f=Ki=Ms=dt=0,dn=bl=null,Nf=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-mt(l),f=1<<h;r|=t[h],l&=~f}return ss=r,Ku(),a}function gv(t,r){Se=null,Y.H=hl,r===ja||r===tc?(r=Og(),We=3):r===Pd?(r=Og(),We=4):We=r===uf?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,En=r,Ae===null&&(dt=1,mc(t,On(r,t.current)))}function yv(){var t=wn.current;return t===null?!0:(Oe&4194048)===Oe?Xn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===Xn:!1}function vv(){var t=Y.H;return Y.H=hl,t===null?hl:t}function bv(){var t=Y.A;return Y.A=m2,t}function Nc(){dt=4,js||(Oe&4194048)!==Oe&&wn.current!==null||(Ha=!0),(Ms&134217727)===0&&(Ki&134217727)===0||et===null||zs(et,Oe,xn,!1)}function Of(t,r,a){var l=qe;qe|=2;var h=vv(),f=bv();(et!==t||Oe!==r)&&(Sc=null,Ka(t,r)),r=!1;var v=dt;e:do try{if(We!==0&&Ae!==null){var x=Ae,I=En;switch(We){case 8:Rf(),v=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(r=!0);var U=We;if(We=0,En=null,Wa(t,x,I,U),a&&Ha){v=0;break e}break;default:U=We,We=0,En=null,Wa(t,x,I,U)}}v2(),v=dt;break}catch(Q){gv(t,Q)}while(!0);return r&&t.shellSuspendCounter++,Wr=Fi=null,qe=l,Y.H=h,Y.A=f,Ae===null&&(et=null,Oe=0,Ku()),v}function v2(){for(;Ae!==null;)wv(Ae)}function b2(t,r){var a=qe;qe|=2;var l=vv(),h=bv();et!==t||Oe!==r?(Sc=null,Tc=rn()+500,Ka(t,r)):Ha=qn(t,r);e:do try{if(We!==0&&Ae!==null){r=Ae;var f=En;t:switch(We){case 1:We=0,En=null,Wa(t,r,f,1);break;case 2:case 9:if(Ag(f)){We=0,En=null,kv(r);break}r=function(){We!==2&&We!==9||et!==t||(We=7),Nr(t)},f.then(r,r);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Ag(f)?(We=0,En=null,kv(r)):(We=0,En=null,Wa(t,r,f,7));break;case 5:var v=null;switch(Ae.tag){case 26:v=Ae.memoizedState;case 5:case 27:var x=Ae;if(v?ab(v):x.stateNode.complete){We=0,En=null;var I=x.sibling;if(I!==null)Ae=I;else{var U=x.return;U!==null?(Ae=U,Cc(U)):Ae=null}break t}}We=0,En=null,Wa(t,r,f,5);break;case 6:We=0,En=null,Wa(t,r,f,6);break;case 8:Rf(),dt=6;break e;default:throw Error(i(462))}}w2();break}catch(Q){gv(t,Q)}while(!0);return Wr=Fi=null,Y.H=l,Y.A=h,qe=a,Ae!==null?0:(et=null,Oe=0,Ku(),dt)}function w2(){for(;Ae!==null&&!od();)wv(Ae)}function wv(t){var r=Hy(t.alternate,t,ss);t.memoizedProps=t.pendingProps,r===null?Cc(t):Ae=r}function kv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Fy(a,r,r.pendingProps,r.type,void 0,Oe);break;case 11:r=Fy(a,r,r.pendingProps,r.type.render,r.ref,Oe);break;case 5:Gd(r);default:Gy(a,r),r=Ae=bg(r,ss),r=Hy(a,r,ss)}t.memoizedProps=t.pendingProps,r===null?Cc(t):Ae=r}function Wa(t,r,a,l){Wr=Fi=null,Gd(r),Ma=null,rl=0;var h=r.return;try{if(l2(t,h,r,a,Oe)){dt=1,mc(t,On(a,t.current)),Ae=null;return}}catch(f){if(h!==null)throw Ae=h,f;dt=1,mc(t,On(a,t.current)),Ae=null;return}r.flags&32768?(Me||l===1?t=!0:Ha||(Oe&536870912)!==0?t=!1:(js=t=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ev(r,t)):Cc(r)}function Cc(t){var r=t;do{if((r.flags&32768)!==0){Ev(r,js);return}t=r.return;var a=h2(r.alternate,r,ss);if(a!==null){Ae=a;return}if(r=r.sibling,r!==null){Ae=r;return}Ae=r=t}while(r!==null);dt===0&&(dt=5)}function Ev(t,r){do{var a=d2(t.alternate,t);if(a!==null){a.flags&=32767,Ae=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ae=t;return}Ae=t=a}while(t!==null);dt=6,Ae=null}function xv(t,r,a,l,h,f,v,x,I){t.cancelPendingCommit=null;do Ic();while(Pt!==0);if((qe&6)!==0)throw Error(i(327));if(r!==null){if(r===t.current)throw Error(i(177));if(f=r.lanes|r.childLanes,f|=bd,cd(t,a,f,v,x,I),t===et&&(Ae=et=null,Oe=0),Ga=r,Us=t,is=a,Cf=f,If=h,dv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,T2(gs,function(){return Cv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=ae.p,ae.p=2,v=qe,qe|=4;try{f2(t,r,a)}finally{qe=v,ae.p=h,Y.T=l}}Pt=1,Tv(),Sv(),_v()}}function Tv(){if(Pt===1){Pt=0;var t=Us,r=Ga,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=ae.p;ae.p=2;var h=qe;qe|=4;try{sv(r,t);var f=Hf,v=cg(t.containerInfo),x=f.focusedElem,I=f.selectionRange;if(v!==x&&x&&x.ownerDocument&&ug(x.ownerDocument.documentElement,x)){if(I!==null&&pd(x)){var U=I.start,Q=I.end;if(Q===void 0&&(Q=U),"selectionStart"in x)x.selectionStart=U,x.selectionEnd=Math.min(Q,x.value.length);else{var Z=x.ownerDocument||document,$=Z&&Z.defaultView||window;if($.getSelection){var B=$.getSelection(),he=x.textContent.length,ye=Math.min(I.start,he),Ze=I.end===void 0?ye:Math.min(I.end,he);!B.extend&&ye>Ze&&(v=Ze,Ze=ye,ye=v);var D=lg(x,ye),O=lg(x,Ze);if(D&&O&&(B.rangeCount!==1||B.anchorNode!==D.node||B.anchorOffset!==D.offset||B.focusNode!==O.node||B.focusOffset!==O.offset)){var F=Z.createRange();F.setStart(D.node,D.offset),B.removeAllRanges(),ye>Ze?(B.addRange(F),B.extend(O.node,O.offset)):(F.setEnd(O.node,O.offset),B.addRange(F))}}}}for(Z=[],B=x;B=B.parentNode;)B.nodeType===1&&Z.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<Z.length;x++){var J=Z[x];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Vc=!!qf,Hf=qf=null}finally{qe=h,ae.p=l,Y.T=a}}t.current=r,Pt=2}}function Sv(){if(Pt===2){Pt=0;var t=Us,r=Ga,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=ae.p;ae.p=2;var h=qe;qe|=4;try{Zy(t,r.alternate,r)}finally{qe=h,ae.p=l,Y.T=a}}Pt=3}}function _v(){if(Pt===4||Pt===3){Pt=0,bu();var t=Us,r=Ga,a=is,l=dv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Pt=5:(Pt=0,Ga=Us=null,Nv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Fs=null),Vr(a),r=r.stateNode,Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot($n,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Y.T,h=ae.p,ae.p=2,Y.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var x=l[v];f(x.value,{componentStack:x.stack})}}finally{Y.T=r,ae.p=h}}(is&3)!==0&&Ic(),Nr(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Af?wl++:(wl=0,Af=t):wl=0,kl(0)}}function Nv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,tl(r)))}function Ic(){return Tv(),Sv(),_v(),Cv()}function Cv(){if(Pt!==5)return!1;var t=Us,r=Cf;Cf=0;var a=Vr(is),l=Y.T,h=ae.p;try{ae.p=32>a?32:a,Y.T=null,a=If,If=null;var f=Us,v=is;if(Pt=0,Ga=Us=null,is=0,(qe&6)!==0)throw Error(i(331));var x=qe;if(qe|=4,uv(f.current),av(f,f.current,v,a),qe=x,kl(0,!1),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot($n,f)}catch{}return!0}finally{ae.p=h,Y.T=l,Nv(t,r)}}function Iv(t,r,a){r=On(a,r),r=lf(t.stateNode,r,2),t=Os(t,r,2),t!==null&&(ki(t,2),Nr(t))}function Qe(t,r,a){if(t.tag===3)Iv(t,t,a);else for(;r!==null;){if(r.tag===3){Iv(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fs===null||!Fs.has(l))){t=On(a,t),a=Ay(2),l=Os(r,a,2),l!==null&&(Ry(a,l,r,t),ki(l,2),Nr(l));break}}r=r.return}}function Lf(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new g2;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Sf=!0,h.add(a),t=k2.bind(null,t,r,a),r.then(t,t))}function k2(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Oe&a)===a&&(dt===4||dt===3&&(Oe&62914560)===Oe&&300>rn()-xc?(qe&2)===0&&Ka(t,0):_f|=a,Ba===Oe&&(Ba=0)),Nr(t)}function Av(t,r){r===0&&(r=Su()),t=Di(t,r),t!==null&&(ki(t,r),Nr(t))}function E2(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Av(t,a)}function x2(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(r),Av(t,a)}function T2(t,r){return Lt(t,r)}var Ac=null,Qa=null,Pf=!1,Rc=!1,Df=!1,Vs=0;function Nr(t){t!==Qa&&t.next===null&&(Qa===null?Ac=Qa=t:Qa=Qa.next=t),Rc=!0,Pf||(Pf=!0,_2())}function kl(t,r){if(!Df&&Rc){Df=!0;do for(var a=!1,l=Ac;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,x=l.pingedLanes;f=(1<<31-mt(42|t)+1)-1,f&=h&~(v&~x),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Pv(l,f))}else f=Oe,f=cr(l,l===et?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||qn(l,f)||(a=!0,Pv(l,f));l=l.next}while(a);Df=!1}}function S2(){Rv()}function Rv(){Rc=Pf=!1;var t=0;Vs!==0&&j2()&&(t=Vs);for(var r=rn(),a=null,l=Ac;l!==null;){var h=l.next,f=Ov(l,r);f===0?(l.next=null,a===null?Ac=h:a.next=h,h===null&&(Qa=a)):(a=l,(t!==0||(f&3)!==0)&&(Rc=!0)),l=h}Pt!==0&&Pt!==5||kl(t),Vs!==0&&(Vs=0)}function Ov(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-mt(f),x=1<<v,I=h[v];I===-1?((x&a)===0||(x&l)!==0)&&(h[v]=ud(x,r)):I<=r&&(t.expiredLanes|=x),f&=~x}if(r=et,a=Oe,a=cr(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(We===2||We===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ms(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||qn(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&ms(l),Vr(a)){case 2:case 8:a=Ro;break;case 32:a=gs;break;case 268435456:a=wu;break;default:a=gs}return l=Lv.bind(null,t),a=Lt(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&ms(l),t.callbackPriority=2,t.callbackNode=null,2}function Lv(t,r){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ic()&&t.callbackNode!==a)return null;var l=Oe;return l=cr(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(pv(t,l,r),Ov(t,rn()),t.callbackNode!=null&&t.callbackNode===a?Lv.bind(null,t):null)}function Pv(t,r){if(Ic())return null;pv(t,r,!0)}function _2(){F2(function(){(qe&6)!==0?Lt(Ao,S2):Rv()})}function jf(){if(Vs===0){var t=Pa;t===0&&(t=lr,lr<<=1,(lr&261888)===0&&(lr=256)),Vs=t}return Vs}function Dv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ba(""+t)}function jv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function N2(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var f=Dv((h[Mt]||null).action),v=l.submitter;v&&(r=(r=v[Mt]||null)?Dv(r.formAction):v.getAttribute("formAction"),r!==null&&(f=r,v=null));var x=new kr("action","action",null,l,h);t.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Vs!==0){var I=v?jv(h,v):new FormData(h);tf(a,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(x.preventDefault(),I=v?jv(h,v):new FormData(h),tf(a,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var Mf=0;Mf<vd.length;Mf++){var Ff=vd[Mf],C2=Ff.toLowerCase(),I2=Ff[0].toUpperCase()+Ff.slice(1);Jn(C2,"on"+I2)}Jn(fg,"onAnimationEnd"),Jn(pg,"onAnimationIteration"),Jn(mg,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(BE,"onTransitionRun"),Jn(GE,"onTransitionStart"),Jn(KE,"onTransitionCancel"),Jn(gg,"onTransitionEnd"),yr("onMouseEnter",["mouseout","mouseover"]),yr("onMouseLeave",["mouseout","mouseover"]),yr("onPointerEnter",["pointerout","pointerover"]),yr("onPointerLeave",["pointerout","pointerover"]),gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gr("onBeforeInput",["compositionend","keypress","textInput","paste"]),gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function Mv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(r)for(var v=l.length-1;0<=v;v--){var x=l[v],I=x.instance,U=x.currentTarget;if(x=x.listener,I!==f&&h.isPropagationStopped())break e;f=x,h.currentTarget=U;try{f(h)}catch(Q){Gu(Q)}h.currentTarget=null,f=I}else for(v=0;v<l.length;v++){if(x=l[v],I=x.instance,U=x.currentTarget,x=x.listener,I!==f&&h.isPropagationStopped())break e;f=x,h.currentTarget=U;try{f(h)}catch(Q){Gu(Q)}h.currentTarget=null,f=I}}}}function Re(t,r){var a=r[pa];a===void 0&&(a=r[pa]=new Set);var l=t+"__bubble";a.has(l)||(Fv(r,t,2,!1),a.add(l))}function Uf(t,r,a){var l=0;r&&(l|=4),Fv(a,t,l,r)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function zf(t){if(!t[Oc]){t[Oc]=!0,Po.forEach(function(a){a!=="selectionchange"&&(A2.has(a)||Uf(a,!1,t),Uf(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Oc]||(r[Oc]=!0,Uf("selectionchange",!1,r))}}function Fv(t,r,a,l){switch(fb(r)){case 2:var h=sx;break;case 8:h=ix;break;default:h=tp}a=h.bind(null,r,a,t),h=void 0,!Ni||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Vf(t,r,a,l,h){var f=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var x=l.stateNode.containerInfo;if(x===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;x!==null;){if(v=pr(x),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=f=v;continue e}x=x.parentNode}}l=l.return}Es(function(){var U=f,Q=Cn(a),Z=[];e:{var $=yg.get(t);if($!==void 0){var B=kr,he=t;switch(t){case"keypress":if(Ii(a)===0)break e;case"keydown":case"keyup":B=qu;break;case"focusin":he="focus",B=Ri;break;case"focusout":he="blur",B=Ri;break;case"beforeblur":case"afterblur":B=Ri;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=g;break;case fg:case pg:case mg:B=ju;break;case gg:B=T;break;case"scroll":case"scrollend":B=Go;break;case"wheel":B=H;break;case"copy":case"cut":case"paste":B=Mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Hr;break;case"toggle":case"beforetoggle":B=Ne}var ye=(r&4)!==0,Ze=!ye&&(t==="scroll"||t==="scrollend"),D=ye?$!==null?$+"Capture":null:$;ye=[];for(var O=U,F;O!==null;){var J=O;if(F=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||F===null||D===null||(J=Kn(O,D),J!=null&&ye.push(xl(O,J,F))),Ze)break;O=O.return}0<ye.length&&($=new B($,he,null,a,Q),Z.push({event:$,listeners:ye}))}}if((r&7)===0){e:{if($=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",$&&a!==qo&&(he=a.relatedTarget||a.fromElement)&&(pr(he)||he[dr]))break e;if((B||$)&&($=Q.window===Q?Q:($=Q.ownerDocument)?$.defaultView||$.parentWindow:window,B?(he=a.relatedTarget||a.toElement,B=U,he=he?pr(he):null,he!==null&&(Ze=u(he),ye=he.tag,he!==Ze||ye!==5&&ye!==27&&ye!==6)&&(he=null)):(B=null,he=U),B!==he)){if(ye=Ko,J="onMouseLeave",D="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Hr,J="onPointerLeave",D="onPointerEnter",O="pointer"),Ze=B==null?$:mn(B),F=he==null?$:mn(he),$=new ye(J,O+"leave",B,a,Q),$.target=Ze,$.relatedTarget=F,J=null,pr(Q)===U&&(ye=new ye(D,O+"enter",he,a,Q),ye.target=F,ye.relatedTarget=Ze,J=ye),Ze=J,B&&he)t:{for(ye=R2,D=B,O=he,F=0,J=D;J;J=ye(J))F++;J=0;for(var pe=O;pe;pe=ye(pe))J++;for(;0<F-J;)D=ye(D),F--;for(;0<J-F;)O=ye(O),J--;for(;F--;){if(D===O||O!==null&&D===O.alternate){ye=D;break t}D=ye(D),O=ye(O)}ye=null}else ye=null;B!==null&&Uv(Z,$,B,ye,!1),he!==null&&Ze!==null&&Uv(Z,Ze,he,ye,!0)}}e:{if($=U?mn(U):window,B=$.nodeName&&$.nodeName.toLowerCase(),B==="select"||B==="input"&&$.type==="file")var Ve=ng;else if(eg($))if(rg)Ve=$E;else{Ve=zE;var de=UE}else B=$.nodeName,!B||B.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?U&&va(U.elementType)&&(Ve=ng):Ve=VE;if(Ve&&(Ve=Ve(t,U))){tg(Z,Ve,a,Q);break e}de&&de(t,$,U),t==="focusout"&&U&&$.type==="number"&&U.memoizedProps.value!=null&&zo($,"number",$.value)}switch(de=U?mn(U):window,t){case"focusin":(eg(de)||de.contentEditable==="true")&&(_a=de,md=U,Xo=null);break;case"focusout":Xo=md=_a=null;break;case"mousedown":gd=!0;break;case"contextmenu":case"mouseup":case"dragend":gd=!1,hg(Z,a,Q);break;case"selectionchange":if(HE)break;case"keydown":case"keyup":hg(Z,a,Q)}var Ce;if(Ke)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Sa?Oi(t,a)&&(Le="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Le="onCompositionStart");Le&&(Br&&a.locale!=="ko"&&(Sa||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Sa&&(Ce=Bo()):(wr=Q,Ho="value"in wr?wr.value:wr.textContent,Sa=!0)),de=Lc(U,Le),0<de.length&&(Le=new xr(Le,t,null,a,Q),Z.push({event:Le,listeners:de}),Ce?Le.data=Ce:(Ce=Ta(a),Ce!==null&&(Le.data=Ce)))),(Ce=An?DE(t,a):jE(t,a))&&(Le=Lc(U,"onBeforeInput"),0<Le.length&&(de=new xr("onBeforeInput","beforeinput",null,a,Q),Z.push({event:de,listeners:Le}),de.data=Ce)),N2(Z,t,U,a,Q)}Mv(Z,r)})}function xl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Lc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Kn(t,a),h!=null&&l.unshift(xl(t,h,f)),h=Kn(t,r),h!=null&&l.push(xl(t,h,f))),t.tag===3)return l;t=t.return}return[]}function R2(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Uv(t,r,a,l,h){for(var f=r._reactName,v=[];a!==null&&a!==l;){var x=a,I=x.alternate,U=x.stateNode;if(x=x.tag,I!==null&&I===l)break;x!==5&&x!==26&&x!==27||U===null||(I=U,h?(U=Kn(a,f),U!=null&&v.unshift(xl(a,U,I))):h||(U=Kn(a,f),U!=null&&v.push(xl(a,U,I)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var O2=/\r\n?/g,L2=/\u0000|\uFFFD/g;function zv(t){return(typeof t=="string"?t:""+t).replace(O2,`
`).replace(L2,"")}function Vv(t,r){return r=zv(r),zv(t)===r}function Xe(t,r,a,l,h,f){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||ln(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&ln(t,""+l);break;case"className":gn(t,"class",l);break;case"tabIndex":gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,a,l);break;case"style":$o(t,l,f);break;case"data":if(r!=="object"){gn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&Xe(t,r,"name",h.name,h,null),Xe(t,r,"formEncType",h.formEncType,h,null),Xe(t,r,"formMethod",h.formMethod,h,null),Xe(t,r,"formTarget",h.formTarget,h,null)):(Xe(t,r,"encType",h.encType,h,null),Xe(t,r,"method",h.method,h,null),Xe(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Gn);break;case"onScroll":l!=null&&Re("scroll",t);break;case"onScrollEnd":l!=null&&Re("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ba(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Re("beforetoggle",t),Re("toggle",t),ga(t,"popover",l);break;case"xlinkActuate":Tt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Tt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Tt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Tt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Tt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Tt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ga(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Lu.get(a)||a,ga(t,a,l))}}function $f(t,r,a,l,h,f){switch(a){case"style":$o(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"children":typeof l=="string"?ln(t,l):(typeof l=="number"||typeof l=="bigint")&&ln(t,""+l);break;case"onScroll":l!=null&&Re("scroll",t);break;case"onScrollEnd":l!=null&&Re("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Do.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),f=t[Mt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(r,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ga(t,a,l)}}}function Gt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",t),Re("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Xe(t,r,f,v,a,null)}}h&&Xe(t,r,"srcSet",a.srcSet,a,null),l&&Xe(t,r,"src",a.src,a,null);return;case"input":Re("invalid",t);var x=f=v=h=null,I=null,U=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":v=Q;break;case"checked":I=Q;break;case"defaultChecked":U=Q;break;case"value":f=Q;break;case"defaultValue":x=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,r));break;default:Xe(t,r,l,Q,a,null)}}Au(t,f,x,I,U,v,h,!1);return;case"select":Re("invalid",t),l=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(x=a[h],x!=null))switch(h){case"value":f=x;break;case"defaultValue":v=x;break;case"multiple":l=x;default:Xe(t,r,h,x,a,null)}r=f,a=v,t.multiple=!!l,r!=null?vs(t,!!l,r,!1):a!=null&&vs(t,!!l,a,!0);return;case"textarea":Re("invalid",t),f=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(x=a[v],x!=null))switch(v){case"value":l=x;break;case"defaultValue":h=x;break;case"children":f=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:Xe(t,r,v,x,a,null)}bs(t,l,h,f);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(t,r,I,l,a,null)}return;case"dialog":Re("beforetoggle",t),Re("toggle",t),Re("cancel",t),Re("close",t);break;case"iframe":case"object":Re("load",t);break;case"video":case"audio":for(l=0;l<El.length;l++)Re(El[l],t);break;case"image":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"embed":case"source":case"link":Re("error",t),Re("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Xe(t,r,U,l,a,null)}return;default:if(va(r)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&$f(t,r,Q,l,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null&&Xe(t,r,x,l,a,null))}function P2(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,x=null,I=null,U=null,Q=null;for(B in a){var Z=a[B];if(a.hasOwnProperty(B)&&Z!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":I=Z;default:l.hasOwnProperty(B)||Xe(t,r,B,null,l,Z)}}for(var $ in l){var B=l[$];if(Z=a[$],l.hasOwnProperty($)&&(B!=null||Z!=null))switch($){case"type":f=B;break;case"name":h=B;break;case"checked":U=B;break;case"defaultChecked":Q=B;break;case"value":v=B;break;case"defaultValue":x=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(137,r));break;default:B!==Z&&Xe(t,r,$,B,l,Z)}}ya(t,v,x,I,U,Q,f,h);return;case"select":B=v=x=$=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":B=I;default:l.hasOwnProperty(f)||Xe(t,r,f,null,l,I)}for(h in l)if(f=l[h],I=a[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":$=f;break;case"defaultValue":x=f;break;case"multiple":v=f;default:f!==I&&Xe(t,r,h,f,l,I)}r=x,a=v,l=B,$!=null?vs(t,!!a,$,!1):!!l!=!!a&&(r!=null?vs(t,!!a,r,!0):vs(t,!!a,a?[]:"",!1));return;case"textarea":B=$=null;for(x in a)if(h=a[x],a.hasOwnProperty(x)&&h!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Xe(t,r,x,null,l,h)}for(v in l)if(h=l[v],f=a[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":$=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==f&&Xe(t,r,v,h,l,f)}Ru(t,$,B);return;case"option":for(var he in a)if($=a[he],a.hasOwnProperty(he)&&$!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:Xe(t,r,he,null,l,$)}for(I in l)if($=l[I],B=a[I],l.hasOwnProperty(I)&&$!==B&&($!=null||B!=null))switch(I){case"selected":t.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Xe(t,r,I,$,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)$=a[ye],a.hasOwnProperty(ye)&&$!=null&&!l.hasOwnProperty(ye)&&Xe(t,r,ye,null,l,$);for(U in l)if($=l[U],B=a[U],l.hasOwnProperty(U)&&$!==B&&($!=null||B!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,r));break;default:Xe(t,r,U,$,l,B)}return;default:if(va(r)){for(var Ze in a)$=a[Ze],a.hasOwnProperty(Ze)&&$!==void 0&&!l.hasOwnProperty(Ze)&&$f(t,r,Ze,void 0,l,$);for(Q in l)$=l[Q],B=a[Q],!l.hasOwnProperty(Q)||$===B||$===void 0&&B===void 0||$f(t,r,Q,$,l,B);return}}for(var D in a)$=a[D],a.hasOwnProperty(D)&&$!=null&&!l.hasOwnProperty(D)&&Xe(t,r,D,null,l,$);for(Z in l)$=l[Z],B=a[Z],!l.hasOwnProperty(Z)||$===B||$==null&&B==null||Xe(t,r,Z,$,l,B)}function $v(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function D2(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,v=h.initiatorType,x=h.duration;if(f&&x&&$v(v)){for(v=0,x=h.responseEnd,l+=1;l<a.length;l++){var I=a[l],U=I.startTime;if(U>x)break;var Q=I.transferSize,Z=I.initiatorType;Q&&$v(Z)&&(I=I.responseEnd,v+=Q*(I<x?1:(x-U)/(I-U)))}if(--l,r+=8*(f+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var qf=null,Hf=null;function Pc(t){return t.nodeType===9?t:t.ownerDocument}function qv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Bf(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Gf=null;function j2(){var t=window.event;return t&&t.type==="popstate"?t===Gf?!1:(Gf=t,!0):(Gf=null,!1)}var Bv=typeof setTimeout=="function"?setTimeout:void 0,M2=typeof clearTimeout=="function"?clearTimeout:void 0,Gv=typeof Promise=="function"?Promise:void 0,F2=typeof queueMicrotask=="function"?queueMicrotask:typeof Gv<"u"?function(t){return Gv.resolve(null).then(t).catch(U2)}:Bv;function U2(t){setTimeout(function(){throw t})}function $s(t){return t==="head"}function Kv(t,r){var a=r,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Za(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Tl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Tl(a);for(var f=a.firstChild;f;){var v=f.nextSibling,x=f.nodeName;f[fr]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=v}}else a==="body"&&Tl(t.ownerDocument.body);a=h}while(a);Za(r)}function Wv(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Kf(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Kf(a),ma(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function z2(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[fr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence")||f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function V2(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=jn(t.nextSibling),t===null))return null;return t}function Qv(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=jn(t.nextSibling),t===null))return null;return t}function Wf(t){return t.data==="$?"||t.data==="$~"}function Qf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function $2(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function jn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Yf=null;function Yv(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return jn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function Jv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function Xv(t,r,a){switch(r=Pc(a),t){case"html":if(t=r.documentElement,!t)throw Error(i(452));return t;case"head":if(t=r.head,!t)throw Error(i(453));return t;case"body":if(t=r.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Tl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ma(t)}var Mn=new Map,Zv=new Set;function Dc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var as=ae.d;ae.d={f:q2,r:H2,D:B2,C:G2,L:K2,m:W2,X:Y2,S:Q2,M:J2};function q2(){var t=as.f(),r=_c();return t||r}function H2(t){var r=Nn(t);r!==null&&r.tag===5&&r.type==="form"?gy(r):as.r(t)}var Ya=typeof document>"u"?null:document;function eb(t,r,a){var l=Ya;if(l&&typeof r=="string"&&r){var h=yn(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Zv.has(h)||(Zv.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Gt(r,"link",t),xt(r),l.head.appendChild(r)))}}function B2(t){as.D(t),eb("dns-prefetch",t,null)}function G2(t,r){as.C(t,r),eb("preconnect",t,r)}function K2(t,r,a){as.L(t,r,a);var l=Ya;if(l&&t&&r){var h='link[rel="preload"][as="'+yn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+yn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+yn(a.imageSizes)+'"]')):h+='[href="'+yn(t)+'"]';var f=h;switch(r){case"style":f=Ja(t);break;case"script":f=Xa(t)}Mn.has(f)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Mn.set(f,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Sl(f))||r==="script"&&l.querySelector(_l(f))||(r=l.createElement("link"),Gt(r,"link",t),xt(r),l.head.appendChild(r)))}}function W2(t,r){as.m(t,r);var a=Ya;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+yn(l)+'"][href="'+yn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Xa(t)}if(!Mn.has(f)&&(t=E({rel:"modulepreload",href:t},r),Mn.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(_l(f)))return}l=a.createElement("link"),Gt(l,"link",t),xt(l),a.head.appendChild(l)}}}function Q2(t,r,a){as.S(t,r,a);var l=Ya;if(l&&t){var h=mr(l).hoistableStyles,f=Ja(t);r=r||"default";var v=h.get(f);if(!v){var x={loading:0,preload:null};if(v=l.querySelector(Sl(f)))x.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Mn.get(f))&&Jf(t,a);var I=v=l.createElement("link");xt(I),Gt(I,"link",t),I._p=new Promise(function(U,Q){I.onload=U,I.onerror=Q}),I.addEventListener("load",function(){x.loading|=1}),I.addEventListener("error",function(){x.loading|=2}),x.loading|=4,jc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:x},h.set(f,v)}}}function Y2(t,r){as.X(t,r);var a=Ya;if(a&&t){var l=mr(a).hoistableScripts,h=Xa(t),f=l.get(h);f||(f=a.querySelector(_l(h)),f||(t=E({src:t,async:!0},r),(r=Mn.get(h))&&Xf(t,r),f=a.createElement("script"),xt(f),Gt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function J2(t,r){as.M(t,r);var a=Ya;if(a&&t){var l=mr(a).hoistableScripts,h=Xa(t),f=l.get(h);f||(f=a.querySelector(_l(h)),f||(t=E({src:t,async:!0,type:"module"},r),(r=Mn.get(h))&&Xf(t,r),f=a.createElement("script"),xt(f),Gt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function tb(t,r,a,l){var h=(h=_e.current)?Dc(h):null;if(!h)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ja(a.href),a=mr(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ja(a.href);var f=mr(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(Sl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Mn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(t,a),f||X2(h,t,a,v.state))),r&&l===null)throw Error(i(528,""));return v}if(r&&l!==null)throw Error(i(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Xa(a),a=mr(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Ja(t){return'href="'+yn(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function nb(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function X2(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Gt(r,"link",a),xt(r),t.head.appendChild(r))}function Xa(t){return'[src="'+yn(t)+'"]'}function _l(t){return"script[async]"+t}function rb(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+yn(a.href)+'"]');if(l)return r.instance=l,xt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),xt(l),Gt(l,"style",h),jc(l,a.precedence,t),r.instance=l;case"stylesheet":h=Ja(a.href);var f=t.querySelector(Sl(h));if(f)return r.state.loading|=4,r.instance=f,xt(f),f;l=nb(a),(h=Mn.get(h))&&Jf(l,h),f=(t.ownerDocument||t).createElement("link"),xt(f);var v=f;return v._p=new Promise(function(x,I){v.onload=x,v.onerror=I}),Gt(f,"link",l),r.state.loading|=4,jc(f,a.precedence,t),r.instance=f;case"script":return f=Xa(a.src),(h=t.querySelector(_l(f)))?(r.instance=h,xt(h),h):(l=a,(h=Mn.get(f))&&(l=E({},a),Xf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),xt(h),Gt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,jc(l,a.precedence,t));return r.instance}function jc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var x=l[v];if(x.dataset.precedence===r)f=x;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Jf(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Xf(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Mc=null;function sb(t,r,a){if(Mc===null){var l=new Map,h=Mc=new Map;h.set(a,l)}else h=Mc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[fr]||f[Et]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(r)||"";v=t+v;var x=l.get(v);x?x.push(f):l.set(v,[f])}}return l}function ib(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function Z2(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function ab(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function ex(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ja(l.href),f=r.querySelector(Sl(h));if(f){r=f._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Fc.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=f,xt(f);return}f=r.ownerDocument||r,l=nb(l),(h=Mn.get(h))&&Jf(l,h),f=f.createElement("link"),xt(f);var v=f;v._p=new Promise(function(x,I){v.onload=x,v.onerror=I}),Gt(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Fc.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var Zf=0;function tx(t,r){return t.stylesheets&&t.count===0&&zc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&zc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+r);0<t.imgBytes&&Zf===0&&(Zf=62500*D2());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&zc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Zf?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Fc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Uc=null;function zc(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Uc=new Map,r.forEach(nx,t),Uc=null,Fc.call(t))}function nx(t,r){if(!(r.state.loading&4)){var a=Uc.get(t);if(a)var l=a.get(null);else{a=new Map,Uc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,h),a.set(v,h),this.count++,l=Fc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Nl={$$typeof:G,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function rx(t,r,a,l,h,f,v,x,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hr(0),this.hiddenUpdates=hr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function ob(t,r,a,l,h,f,v,x,I,U,Q,Z){return t=new rx(t,r,a,v,I,U,Q,Z,x),r=1,f===!0&&(r|=24),f=bn(3,null,null,r),t.current=f,f.stateNode=t,r=Rd(),r.refCount++,t.pooledCache=r,r.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:r},Dd(f),t}function lb(t){return t?(t=Ia,t):Ia}function ub(t,r,a,l,h,f){h=lb(h),l.context===null?l.context=h:l.pendingContext=h,l=Rs(r),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Os(t,l,r),a!==null&&(fn(a,t,r),il(a,t,r))}function cb(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function ep(t,r){cb(t,r),(t=t.alternate)&&cb(t,r)}function hb(t){if(t.tag===13||t.tag===31){var r=Di(t,67108864);r!==null&&fn(r,t,67108864),ep(t,67108864)}}function db(t){if(t.tag===13||t.tag===31){var r=Tn();r=xi(r);var a=Di(t,r);a!==null&&fn(a,t,r),ep(t,r)}}var Vc=!0;function sx(t,r,a,l){var h=Y.T;Y.T=null;var f=ae.p;try{ae.p=2,tp(t,r,a,l)}finally{ae.p=f,Y.T=h}}function ix(t,r,a,l){var h=Y.T;Y.T=null;var f=ae.p;try{ae.p=8,tp(t,r,a,l)}finally{ae.p=f,Y.T=h}}function tp(t,r,a,l){if(Vc){var h=np(l);if(h===null)Vf(t,r,l,$c,a),pb(t,l);else if(ox(h,t,r,a,l))l.stopPropagation();else if(pb(t,l),r&4&&-1<ax.indexOf(t)){for(;h!==null;){var f=Nn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=ur(f.pendingLanes);if(v!==0){var x=f;for(x.pendingLanes|=2,x.entangledLanes|=2;v;){var I=1<<31-mt(v);x.entanglements[1]|=I,v&=~I}Nr(f),(qe&6)===0&&(Tc=rn()+500,kl(0))}}break;case 31:case 13:x=Di(f,2),x!==null&&fn(x,f,2),_c(),ep(f,2)}if(f=np(l),f===null&&Vf(t,r,l,$c,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Vf(t,r,l,null,a)}}function np(t){return t=Cn(t),rp(t)}var $c=null;function rp(t){if($c=null,t=pr(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=d(r),t!==null)return t;t=null}else if(a===31){if(t=p(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return $c=t,null}function fb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bi()){case Ao:return 2;case Ro:return 8;case gs:case ld:return 32;case wu:return 268435456;default:return 32}default:return 32}}var sp=!1,qs=null,Hs=null,Bs=null,Cl=new Map,Il=new Map,Gs=[],ax="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pb(t,r){switch(t){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":Cl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(r.pointerId)}}function Al(t,r,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},r!==null&&(r=Nn(r),r!==null&&hb(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function ox(t,r,a,l,h){switch(r){case"focusin":return qs=Al(qs,t,r,a,l,h),!0;case"dragenter":return Hs=Al(Hs,t,r,a,l,h),!0;case"mouseover":return Bs=Al(Bs,t,r,a,l,h),!0;case"pointerover":var f=h.pointerId;return Cl.set(f,Al(Cl.get(f)||null,t,r,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Il.set(f,Al(Il.get(f)||null,t,r,a,l,h)),!0}return!1}function mb(t){var r=pr(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=d(a),r!==null){t.blockedOn=r,Hn(t.priority,function(){db(a)});return}}else if(r===31){if(r=p(a),r!==null){t.blockedOn=r,Hn(t.priority,function(){db(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=np(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);qo=l,a.target.dispatchEvent(l),qo=null}else return r=Nn(a),r!==null&&hb(r),t.blockedOn=a,!1;r.shift()}return!0}function gb(t,r,a){qc(t)&&a.delete(r)}function lx(){sp=!1,qs!==null&&qc(qs)&&(qs=null),Hs!==null&&qc(Hs)&&(Hs=null),Bs!==null&&qc(Bs)&&(Bs=null),Cl.forEach(gb),Il.forEach(gb)}function Hc(t,r){t.blockedOn===r&&(t.blockedOn=null,sp||(sp=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,lx)))}var Bc=null;function yb(t){Bc!==t&&(Bc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Bc===t&&(Bc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(rp(l||a)===null)continue;break}var f=Nn(a);f!==null&&(t.splice(r,3),r-=3,tf(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Za(t){function r(I){return Hc(I,t)}qs!==null&&Hc(qs,t),Hs!==null&&Hc(Hs,t),Bs!==null&&Hc(Bs,t),Cl.forEach(r),Il.forEach(r);for(var a=0;a<Gs.length;a++){var l=Gs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Gs.length&&(a=Gs[0],a.blockedOn===null);)mb(a),a.blockedOn===null&&Gs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],v=h[Mt]||null;if(typeof f=="function")v||yb(a);else if(v){var x=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[Mt]||null)x=v.formAction;else if(rp(h)!==null)continue}else x=v.action;typeof x=="function"?a[l+1]=x:(a.splice(l,3),l-=3),yb(a)}}}function vb(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function ip(t){this._internalRoot=t}Gc.prototype.render=ip.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(i(409));var a=r.current,l=Tn();ub(a,l,t,r,null,null)},Gc.prototype.unmount=ip.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;ub(t.current,2,null,t,null,null),_c(),r[dr]=null}};function Gc(t){this._internalRoot=t}Gc.prototype.unstable_scheduleHydration=function(t){if(t){var r=_u();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Gs.length&&r!==0&&r<Gs[a].priority;a++);Gs.splice(a,0,t),a===0&&mb(t)}};var bb=e.version;if(bb!=="19.2.4")throw Error(i(527,bb,"19.2.4"));ae.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=y(r),t=t!==null?k(t):null,t=t===null?null:t.stateNode,t};var ux={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{$n=Kc.inject(ux),Vt=Kc}catch{}}return Ol.createRoot=function(t,r){if(!o(t))throw Error(i(299));var a=!1,l="",h=_y,f=Ny,v=Cy;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=ob(t,1,!1,null,null,a,l,null,h,f,v,vb),t[dr]=r.current,zf(t),new ip(r)},Ol.hydrateRoot=function(t,r,a){if(!o(t))throw Error(i(299));var l=!1,h="",f=_y,v=Ny,x=Cy,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),r=ob(t,1,!0,r,a??null,l,h,I,f,v,x,vb),r.context=lb(null),a=r.current,l=Tn(),l=xi(l),h=Rs(l),h.callback=null,Os(a,h,l),a=l,r.current.lanes=a,ki(r,a),Nr(r),t[dr]=r.current,zf(t),new Gc(r)},Ol.version="19.2.4",Ol}var Lb;function kx(){if(Lb)return ap.exports;Lb=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),ap.exports=wx(),ap.exports}var Ex=kx();/**
* react-router v7.13.0
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/var Pb="popstate";function xx(s={}){function e(o,u){let{pathname:d="/",search:p="",hash:m=""}=ra(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Np("",{pathname:d,search:p,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let d=o.document.querySelector("base"),p="";if(d&&d.getAttribute("href")){let m=o.location.href,y=m.indexOf("#");p=y===-1?m:m.slice(0,y)}return p+"#"+(typeof u=="string"?u:Wl(u))}function i(o,u){sr(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Sx(e,n,i,s)}function ut(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function sr(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Tx(){return Math.random().toString(36).substring(2,10)}function Db(s,e){return{usr:s.state,key:s.key,idx:e}}function Np(s,e,n=null,i){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?ra(e):e,state:n,key:e&&e.key||i||Tx()}}function Wl({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function ra(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let i=s.indexOf("?");i>=0&&(e.search=s.substring(i),s=s.substring(0,i)),s&&(e.pathname=s)}return e}function Sx(s,e,n,i={}){let{window:o=document.defaultView,v5Compat:u=!1}=i,d=o.history,p="POP",m=null,y=k();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function k(){return(d.state||{idx:null}).idx}function E(){p="POP";let W=k(),ne=W==null?null:W-y;y=W,m&&m({action:p,location:K.location,delta:ne})}function A(W,ne){p="PUSH";let re=Np(K.location,W,ne);n&&n(re,W),y=k()+1;let G=Db(re,y),le=K.createHref(re);try{d.pushState(G,"",le)}catch(we){if(we instanceof DOMException&&we.name==="DataCloneError")throw we;o.location.assign(le)}u&&m&&m({action:p,location:K.location,delta:1})}function q(W,ne){p="REPLACE";let re=Np(K.location,W,ne);n&&n(re,W),y=k();let G=Db(re,y),le=K.createHref(re);d.replaceState(G,"",le),u&&m&&m({action:p,location:K.location,delta:0})}function V(W){return _x(W)}let K={get action(){return p},get location(){return s(o,d)},listen(W){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Pb,E),m=W,()=>{o.removeEventListener(Pb,E),m=null}},createHref(W){return e(o,W)},createURL:V,encodeLocation(W){let ne=V(W);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:A,replace:q,go(W){return d.go(W)}};return K}function _x(s,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let i=typeof s=="string"?s:Wl(s);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function ww(s,e,n="/"){return Nx(s,e,n,!1)}function Nx(s,e,n,i){let o=typeof e=="string"?ra(e):e,u=cs(o.pathname||"/",n);if(u==null)return null;let d=kw(s);Cx(d);let p=null;for(let m=0;p==null&&m<d.length;++m){let y=Ux(u);p=Mx(d[m],y,i)}return p}function kw(s,e=[],n=[],i="",o=!1){let u=(d,p,m=o,y)=>{let k={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(k.relativePath.startsWith("/")){if(!k.relativePath.startsWith(i)&&m)return;ut(k.relativePath.startsWith(i),`Absolute route path "${k.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),k.relativePath=k.relativePath.slice(i.length)}let E=us([i,k.relativePath]),A=n.concat(k);d.children&&d.children.length>0&&(ut(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),kw(d.children,e,A,E,m)),!(d.path==null&&!d.index)&&e.push({path:E,score:Dx(E,d.index),routesMeta:A})};return s.forEach((d,p)=>{var m;if(d.path===""||!((m=d.path)!=null&&m.includes("?")))u(d,p);else for(let y of Ew(d.path))u(d,p,!0,y)}),e}function Ew(s){let e=s.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let d=Ew(i.join("/")),p=[];return p.push(...d.map(m=>m===""?u:[u,m].join("/"))),o&&p.push(...d),p.map(m=>s.startsWith("/")&&m===""?"/":m)}function Cx(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:jx(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var Ix=/^:[\w-]+$/,Ax=3,Rx=2,Ox=1,Lx=10,Px=-2,jb=s=>s==="*";function Dx(s,e){let n=s.split("/"),i=n.length;return n.some(jb)&&(i+=Px),e&&(i+=Rx),n.filter(o=>!jb(o)).reduce((o,u)=>o+(Ix.test(u)?Ax:u===""?Ox:Lx),i)}function jx(s,e){return s.length===e.length&&s.slice(0,-1).every((n,i)=>n===e[i])?s[s.length-1]-e[e.length-1]:0}function Mx(s,e,n=!1){let{routesMeta:i}=s,o={},u="/",d=[];for(let p=0;p<i.length;++p){let m=i[p],y=p===i.length-1,k=u==="/"?e:e.slice(u.length)||"/",E=yh({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},k),A=m.route;if(!E&&y&&n&&!i[i.length-1].route.index&&(E=yh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},k)),!E)return null;Object.assign(o,E.params),d.push({params:o,pathname:us([u,E.pathname]),pathnameBase:qx(us([u,E.pathnameBase])),route:A}),E.pathnameBase!=="/"&&(u=us([u,E.pathnameBase]))}return d}function yh(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,i]=Fx(s.path,s.caseSensitive,s.end),o=e.match(n);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:k},E)=>{if(y==="*"){let q=p[E]||"";d=u.slice(0,u.length-q.length).replace(/(.)\/+$/,"$1")}const A=p[E];return k&&!A?m[y]=void 0:m[y]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:d,pattern:s}}function Fx(s,e=!1,n=!0){sr(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let i=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(i.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function Ux(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sr(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function cs(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=s.charAt(n);return i&&i!=="/"?null:s.slice(n)||"/"}var zx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Vx(s,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof s=="string"?ra(s):s,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=Mb(n.substring(1),"/"):u=Mb(n,e)):u=e,{pathname:u,search:Hx(i),hash:Bx(o)}}function Mb(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function lp(s,e,n,i){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $x(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xw(s){let e=$x(s);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Tw(s,e,n,i=!1){let o;typeof s=="string"?o=ra(s):(o={...s},ut(!o.pathname||!o.pathname.includes("?"),lp("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),lp("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),lp("#","search","hash",o)));let u=s===""||o.pathname==="",d=u?"/":o.pathname,p;if(d==null)p=n;else{let E=e.length-1;if(!i&&d.startsWith("..")){let A=d.split("/");for(;A[0]==="..";)A.shift(),E-=1;o.pathname=A.join("/")}p=E>=0?e[E]:"/"}let m=Vx(o,p),y=d&&d!=="/"&&d.endsWith("/"),k=(u||d===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(y||k)&&(m.pathname+="/"),m}var us=s=>s.join("/").replace(/\/\/+/g,"/"),qx=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Hx=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Bx=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,Gx=class{constructor(s,e,n,i=!1){this.status=s,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Kx(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function Wx(s){return s.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Sw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function _w(s,e){let n=s;if(typeof n!="string"||!zx.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,o=!1;if(Sw)try{let u=new URL(window.location.href),d=n.startsWith("//")?new URL(u.protocol+n):new URL(n),p=cs(d.pathname,e);d.origin===u.origin&&p!=null?n=p+d.search+d.hash:o=!0}catch{sr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Nw=["POST","PUT","PATCH","DELETE"];new Set(Nw);var Qx=["GET",...Nw];new Set(Qx);var wo=z.createContext(null);wo.displayName="DataRouter";var Fh=z.createContext(null);Fh.displayName="DataRouterState";var Yx=z.createContext(!1),Cw=z.createContext({isTransitioning:!1});Cw.displayName="ViewTransition";var Jx=z.createContext(new Map);Jx.displayName="Fetchers";var Xx=z.createContext(null);Xx.displayName="Await";var Vn=z.createContext(null);Vn.displayName="Navigation";var iu=z.createContext(null);iu.displayName="Location";var Ur=z.createContext({outlet:null,matches:[],isDataRoute:!1});Ur.displayName="Route";var nm=z.createContext(null);nm.displayName="RouteError";var Iw="REACT_ROUTER_ERROR",Zx="REDIRECT",eT="ROUTE_ERROR_RESPONSE";function tT(s){if(s.startsWith(`${Iw}:${Zx}:{`))try{let e=JSON.parse(s.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function nT(s){if(s.startsWith(`${Iw}:${eT}:{`))try{let e=JSON.parse(s.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Gx(e.status,e.statusText,e.data)}catch{}}function rT(s,{relative:e}={}){ut(au(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=z.useContext(Vn),{hash:o,pathname:u,search:d}=lu(s,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:us([n,u])),i.createHref({pathname:p,search:d,hash:o})}function au(){return z.useContext(iu)!=null}function ar(){return ut(au(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(iu).location}var Aw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Rw(s){z.useContext(Vn).static||z.useLayoutEffect(s)}function ou(){let{isDataRoute:s}=z.useContext(Ur);return s?yT():sT()}function sT(){ut(au(),"useNavigate() may be used only in the context of a <Router> component.");let s=z.useContext(wo),{basename:e,navigator:n}=z.useContext(Vn),{matches:i}=z.useContext(Ur),{pathname:o}=ar(),u=JSON.stringify(xw(i)),d=z.useRef(!1);return Rw(()=>{d.current=!0}),z.useCallback((p,m={})=>{if(sr(d.current,Aw),!d.current)return;if(typeof p=="number"){n.go(p);return}let y=Tw(p,JSON.parse(u),o,m.relative==="path");s==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:us([e,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[e,n,u,o,s])}z.createContext(null);function iT(){let{matches:s}=z.useContext(Ur),e=s[s.length-1];return e?e.params:{}}function lu(s,{relative:e}={}){let{matches:n}=z.useContext(Ur),{pathname:i}=ar(),o=JSON.stringify(xw(n));return z.useMemo(()=>Tw(s,JSON.parse(o),i,e==="path"),[s,o,i,e])}function aT(s,e){return Ow(s,e)}function Ow(s,e,n,i,o){var u;ut(au(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=z.useContext(Vn),{matches:p}=z.useContext(Ur),m=p[p.length-1],y=m?m.params:{},k=m?m.pathname:"/",E=m?m.pathnameBase:"/",A=m&&m.route;{let G=A&&A.path||"";Pw(k,!A||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${k}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let q=ar(),V;if(e){let G=typeof e=="string"?ra(e):e;ut(E==="/"||((u=G.pathname)==null?void 0:u.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${G.pathname}" was given in the \`location\` prop.`),V=G}else V=q;let K=V.pathname||"/",W=K;if(E!=="/"){let G=E.replace(/^\//,"").split("/");W="/"+K.replace(/^\//,"").split("/").slice(G.length).join("/")}let ne=ww(s,{pathname:W});sr(A||ne!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),sr(ne==null||ne[ne.length-1].route.element!==void 0||ne[ne.length-1].route.Component!==void 0||ne[ne.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let re=hT(ne&&ne.map(G=>Object.assign({},G,{params:Object.assign({},y,G.params),pathname:us([E,d.encodeLocation?d.encodeLocation(G.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?E:us([E,d.encodeLocation?d.encodeLocation(G.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathnameBase])})),p,n,i,o);return e&&re?z.createElement(iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},re):re}function oT(){let s=gT(),e=Kx(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,d)}var lT=z.createElement(oT,null),Lw=class extends z.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const n=nT(s.digest);n&&(s=n)}let e=s!==void 0?z.createElement(Ur.Provider,{value:this.props.routeContext},z.createElement(nm.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?z.createElement(uT,{error:s},e):e}};Lw.contextType=Yx;var up=new WeakMap;function uT({children:s,error:e}){let{basename:n}=z.useContext(Vn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=tT(e.digest);if(i){let o=up.get(e);if(o)throw o;let u=_w(i.location,n);if(Sw&&!up.get(e))if(u.isExternal||i.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:i.replace}));throw up.set(e,d),d}return z.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return s}function cT({routeContext:s,match:e,children:n}){let i=z.useContext(wo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Ur.Provider,{value:s},n)}function hT(s,e=[],n=null,i=null,o=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let u=s,d=n==null?void 0:n.errors;if(d!=null){let k=u.findIndex(E=>E.route.id&&(d==null?void 0:d[E.route.id])!==void 0);ut(k>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,k+1))}let p=!1,m=-1;if(n)for(let k=0;k<u.length;k++){let E=u[k];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(m=k),E.route.id){let{loaderData:A,errors:q}=n,V=E.route.loader&&!A.hasOwnProperty(E.route.id)&&(!q||q[E.route.id]===void 0);if(E.route.lazy||V){p=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}let y=n&&i?(k,E)=>{var A,q;i(k,{location:n.location,params:((q=(A=n.matches)==null?void 0:A[0])==null?void 0:q.params)??{},unstable_pattern:Wx(n.matches),errorInfo:E})}:void 0;return u.reduceRight((k,E,A)=>{let q,V=!1,K=null,W=null;n&&(q=d&&E.route.id?d[E.route.id]:void 0,K=E.route.errorElement||lT,p&&(m<0&&A===0?(Pw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,W=null):m===A&&(V=!0,W=E.route.hydrateFallbackElement||null)));let ne=e.concat(u.slice(0,A+1)),re=()=>{let G;return q?G=K:V?G=W:E.route.Component?G=z.createElement(E.route.Component,null):E.route.element?G=E.route.element:G=k,z.createElement(cT,{match:E,routeContext:{outlet:k,matches:ne,isDataRoute:n!=null},children:G})};return n&&(E.route.ErrorBoundary||E.route.errorElement||A===0)?z.createElement(Lw,{location:n.location,revalidation:n.revalidation,component:K,error:q,children:re(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:y}):re()},null)}function rm(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dT(s){let e=z.useContext(wo);return ut(e,rm(s)),e}function fT(s){let e=z.useContext(Fh);return ut(e,rm(s)),e}function pT(s){let e=z.useContext(Ur);return ut(e,rm(s)),e}function sm(s){let e=pT(s),n=e.matches[e.matches.length-1];return ut(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function mT(){return sm("useRouteId")}function gT(){var s;let e=z.useContext(nm),n=fT("useRouteError"),i=sm("useRouteError");return e!==void 0?e:(s=n.errors)==null?void 0:s[i]}function yT(){let{router:s}=dT("useNavigate"),e=sm("useNavigate"),n=z.useRef(!1);return Rw(()=>{n.current=!0}),z.useCallback(async(i,o={})=>{sr(n.current,Aw),n.current&&(typeof i=="number"?await s.navigate(i):await s.navigate(i,{fromRouteId:e,...o}))},[s,e])}var Fb={};function Pw(s,e,n){!e&&!Fb[s]&&(Fb[s]=!0,sr(!1,n))}z.memo(vT);function vT({routes:s,future:e,state:n,onError:i}){return Ow(s,void 0,n,i,e)}function Qs(s){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bT({basename:s="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:u=!1,unstable_useTransitions:d}){ut(!au(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=s.replace(/^\/*/,"/"),m=z.useMemo(()=>({basename:p,navigator:o,static:u,unstable_useTransitions:d,future:{}}),[p,o,u,d]);typeof n=="string"&&(n=ra(n));let{pathname:y="/",search:k="",hash:E="",state:A=null,key:q="default"}=n,V=z.useMemo(()=>{let K=cs(y,p);return K==null?null:{location:{pathname:K,search:k,hash:E,state:A,key:q},navigationType:i}},[p,y,k,E,A,q,i]);return sr(V!=null,`<Router basename="${p}"> is not able to match the URL "${y}${k}${E}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:z.createElement(Vn.Provider,{value:m},z.createElement(iu.Provider,{children:e,value:V}))}function wT({children:s,location:e}){return aT(Cp(s),e)}function Cp(s,e=[]){let n=[];return z.Children.forEach(s,(i,o)=>{if(!z.isValidElement(i))return;let u=[...e,o];if(i.type===z.Fragment){n.push.apply(n,Cp(i.props.children,u));return}ut(i.type===Qs,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!i.props.index||!i.props.children,"An index route cannot have child routes.");let d={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=Cp(i.props.children,u)),n.push(d)}),n}var sh="get",ih="application/x-www-form-urlencoded";function Uh(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function kT(s){return Uh(s)&&s.tagName.toLowerCase()==="button"}function ET(s){return Uh(s)&&s.tagName.toLowerCase()==="form"}function xT(s){return Uh(s)&&s.tagName.toLowerCase()==="input"}function TT(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function ST(s,e){return s.button===0&&(!e||e==="_self")&&!TT(s)}var Wc=null;function _T(){if(Wc===null)try{new FormData(document.createElement("form"),0),Wc=!1}catch{Wc=!0}return Wc}var NT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cp(s){return s!=null&&!NT.has(s)?(sr(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ih}"`),null):s}function CT(s,e){let n,i,o,u,d;if(ET(s)){let p=s.getAttribute("action");i=p?cs(p,e):null,n=s.getAttribute("method")||sh,o=cp(s.getAttribute("enctype"))||ih,u=new FormData(s)}else if(kT(s)||xT(s)&&(s.type==="submit"||s.type==="image")){let p=s.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=s.getAttribute("formaction")||p.getAttribute("action");if(i=m?cs(m,e):null,n=s.getAttribute("formmethod")||p.getAttribute("method")||sh,o=cp(s.getAttribute("formenctype"))||cp(p.getAttribute("enctype"))||ih,u=new FormData(p,s),!_T()){let{name:y,type:k,value:E}=s;if(k==="image"){let A=y?`${y}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else y&&u.append(y,E)}}else{if(Uh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sh,i=null,o=ih,d=s}return u&&o==="text/plain"&&(d=u,u=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function im(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function IT(s,e,n,i){let o=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${i}`:o.pathname=`${o.pathname}.${i}`:o.pathname==="/"?o.pathname=`_root.${i}`:e&&cs(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function AT(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RT(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function OT(s,e,n){let i=await Promise.all(s.map(async o=>{let u=e.routes[o.route.id];if(u){let d=await AT(u,n);return d.links?d.links():[]}return[]}));return jT(i.flat(1).filter(RT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Ub(s,e,n,i,o,u){let d=(m,y)=>n[y]?m.route.id!==n[y].route.id:!0,p=(m,y)=>{var k;return n[y].pathname!==m.pathname||((k=n[y].route.path)==null?void 0:k.endsWith("*"))&&n[y].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,y)=>d(m,y)||p(m,y)):u==="data"?e.filter((m,y)=>{var k;let E=i.routes[m.route.id];if(!E||!E.hasLoader)return!1;if(d(m,y)||p(m,y))return!0;if(m.route.shouldRevalidate){let A=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((k=n[0])==null?void 0:k.params)||{},nextUrl:new URL(s,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function LT(s,e,{includeHydrateFallback:n}={}){return PT(s.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function PT(s){return[...new Set(s)]}function DT(s){let e={},n=Object.keys(s).sort();for(let i of n)e[i]=s[i];return e}function jT(s,e){let n=new Set;return new Set(e),s.reduce((i,o)=>{let u=JSON.stringify(DT(o));return n.has(u)||(n.add(u),i.push({key:u,link:o})),i},[])}function Dw(){let s=z.useContext(wo);return im(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function MT(){let s=z.useContext(Fh);return im(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var am=z.createContext(void 0);am.displayName="FrameworkContext";function jw(){let s=z.useContext(am);return im(s,"You must render this element inside a <HydratedRouter> element"),s}function FT(s,e){let n=z.useContext(am),[i,o]=z.useState(!1),[u,d]=z.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:y,onMouseLeave:k,onTouchStart:E}=e,A=z.useRef(null);z.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let K=ne=>{ne.forEach(re=>{d(re.isIntersecting)})},W=new IntersectionObserver(K,{threshold:.5});return A.current&&W.observe(A.current),()=>{W.disconnect()}}},[s]),z.useEffect(()=>{if(i){let K=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(K)}}},[i]);let q=()=>{o(!0)},V=()=>{o(!1),d(!1)};return n?s!=="intent"?[u,A,{}]:[u,A,{onFocus:Ll(p,q),onBlur:Ll(m,V),onMouseEnter:Ll(y,q),onMouseLeave:Ll(k,V),onTouchStart:Ll(E,q)}]:[!1,A,{}]}function Ll(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function UT({page:s,...e}){let{router:n}=Dw(),i=z.useMemo(()=>ww(n.routes,s,n.basename),[n.routes,s,n.basename]);return i?z.createElement(VT,{page:s,matches:i,...e}):null}function zT(s){let{manifest:e,routeModules:n}=jw(),[i,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return OT(s,e,n).then(d=>{u||o(d)}),()=>{u=!0}},[s,e,n]),i}function VT({page:s,matches:e,...n}){let i=ar(),{future:o,manifest:u,routeModules:d}=jw(),{basename:p}=Dw(),{loaderData:m,matches:y}=MT(),k=z.useMemo(()=>Ub(s,e,y,u,i,"data"),[s,e,y,u,i]),E=z.useMemo(()=>Ub(s,e,y,u,i,"assets"),[s,e,y,u,i]),A=z.useMemo(()=>{if(s===i.pathname+i.search+i.hash)return[];let K=new Set,W=!1;if(e.forEach(re=>{var G;let le=u.routes[re.route.id];!le||!le.hasLoader||(!k.some(we=>we.route.id===re.route.id)&&re.route.id in m&&(G=d[re.route.id])!=null&&G.shouldRevalidate||le.hasClientLoader?W=!0:K.add(re.route.id))}),K.size===0)return[];let ne=IT(s,p,o.unstable_trailingSlashAwareDataRequests,"data");return W&&K.size>0&&ne.searchParams.set("_routes",e.filter(re=>K.has(re.route.id)).map(re=>re.route.id).join(",")),[ne.pathname+ne.search]},[p,o.unstable_trailingSlashAwareDataRequests,m,i,u,k,e,s,d]),q=z.useMemo(()=>LT(E,u),[E,u]),V=zT(E);return z.createElement(z.Fragment,null,A.map(K=>z.createElement("link",{key:K,rel:"prefetch",as:"fetch",href:K,...n})),q.map(K=>z.createElement("link",{key:K,rel:"modulepreload",href:K,...n})),V.map(({key:K,link:W})=>z.createElement("link",{key:K,nonce:n.nonce,...W,crossOrigin:W.crossOrigin??n.crossOrigin})))}function $T(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var qT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qT&&(window.__reactRouterVersion="7.13.0")}catch{}function HT({basename:s,children:e,unstable_useTransitions:n,window:i}){let o=z.useRef();o.current==null&&(o.current=xx({window:i,v5Compat:!0}));let u=o.current,[d,p]=z.useState({action:u.action,location:u.location}),m=z.useCallback(y=>{n===!1?p(y):z.startTransition(()=>p(y))},[n]);return z.useLayoutEffect(()=>u.listen(m),[u,m]),z.createElement(bT,{basename:s,children:e,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:n})}var Mw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fw=z.forwardRef(function({onClick:s,discover:e="render",prefetch:n="none",relative:i,reloadDocument:o,replace:u,state:d,target:p,to:m,preventScrollReset:y,viewTransition:k,unstable_defaultShouldRevalidate:E,...A},q){let{basename:V,unstable_useTransitions:K}=z.useContext(Vn),W=typeof m=="string"&&Mw.test(m),ne=_w(m,V);m=ne.to;let re=rT(m,{relative:i}),[G,le,we]=FT(n,A),se=WT(m,{replace:u,state:d,target:p,preventScrollReset:y,relative:i,viewTransition:k,unstable_defaultShouldRevalidate:E,unstable_useTransitions:K});function _(N){s&&s(N),N.defaultPrevented||se(N)}let S=z.createElement("a",{...A,...we,href:ne.absoluteURL||re,onClick:ne.isExternal||o?s:_,ref:$T(q,le),target:p,"data-discover":!W&&e==="render"?"true":void 0});return G&&!W?z.createElement(z.Fragment,null,S,z.createElement(UT,{page:re})):S});Fw.displayName="Link";var BT=z.forwardRef(function({"aria-current":s="page",caseSensitive:e=!1,className:n="",end:i=!1,style:o,to:u,viewTransition:d,children:p,...m},y){let k=lu(u,{relative:m.relative}),E=ar(),A=z.useContext(Fh),{navigator:q,basename:V}=z.useContext(Vn),K=A!=null&&ZT(k)&&d===!0,W=q.encodeLocation?q.encodeLocation(k).pathname:k.pathname,ne=E.pathname,re=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;e||(ne=ne.toLowerCase(),re=re?re.toLowerCase():null,W=W.toLowerCase()),re&&V&&(re=cs(re,V)||re);const G=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let le=ne===W||!i&&ne.startsWith(W)&&ne.charAt(G)==="/",we=re!=null&&(re===W||!i&&re.startsWith(W)&&re.charAt(W.length)==="/"),se={isActive:le,isPending:we,isTransitioning:K},_=le?s:void 0,S;typeof n=="function"?S=n(se):S=[n,le?"active":null,we?"pending":null,K?"transitioning":null].filter(Boolean).join(" ");let N=typeof o=="function"?o(se):o;return z.createElement(Fw,{...m,"aria-current":_,className:S,ref:y,style:N,to:u,viewTransition:d},typeof p=="function"?p(se):p)});BT.displayName="NavLink";var GT=z.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:u,method:d=sh,action:p,onSubmit:m,relative:y,preventScrollReset:k,viewTransition:E,unstable_defaultShouldRevalidate:A,...q},V)=>{let{unstable_useTransitions:K}=z.useContext(Vn),W=JT(),ne=XT(p,{relative:y}),re=d.toLowerCase()==="get"?"get":"post",G=typeof p=="string"&&Mw.test(p),le=we=>{if(m&&m(we),we.defaultPrevented)return;we.preventDefault();let se=we.nativeEvent.submitter,_=(se==null?void 0:se.getAttribute("formmethod"))||d,S=()=>W(se||we.currentTarget,{fetcherKey:e,method:_,navigate:n,replace:o,state:u,relative:y,preventScrollReset:k,viewTransition:E,unstable_defaultShouldRevalidate:A});K&&n!==!1?z.startTransition(()=>S()):S()};return z.createElement("form",{ref:V,method:re,action:ne,onSubmit:i?m:le,...q,"data-discover":!G&&s==="render"?"true":void 0})});GT.displayName="Form";function KT(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Uw(s){let e=z.useContext(wo);return ut(e,KT(s)),e}function WT(s,{target:e,replace:n,state:i,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:p,unstable_useTransitions:m}={}){let y=ou(),k=ar(),E=lu(s,{relative:u});return z.useCallback(A=>{if(ST(A,e)){A.preventDefault();let q=n!==void 0?n:Wl(k)===Wl(E),V=()=>y(s,{replace:q,state:i,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:p});m?z.startTransition(()=>V()):V()}},[k,y,E,n,i,e,s,o,u,d,p,m])}var QT=0,YT=()=>`__${String(++QT)}__`;function JT(){let{router:s}=Uw("useSubmit"),{basename:e}=z.useContext(Vn),n=mT(),i=s.fetch,o=s.navigate;return z.useCallback(async(u,d={})=>{let{action:p,method:m,encType:y,formData:k,body:E}=CT(u,e);if(d.navigate===!1){let A=d.fetcherKey||YT();await i(A,n,d.action||p,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:k,body:E,formMethod:d.method||m,formEncType:d.encType||y,flushSync:d.flushSync})}else await o(d.action||p,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:k,body:E,formMethod:d.method||m,formEncType:d.encType||y,replace:d.replace,state:d.state,fromRouteId:n,flushSync:d.flushSync,viewTransition:d.viewTransition})},[i,o,e,n])}function XT(s,{relative:e}={}){let{basename:n}=z.useContext(Vn),i=z.useContext(Ur);ut(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),u={...lu(s||".",{relative:e})},d=ar();if(s==null){u.search=d.search;let p=new URLSearchParams(u.search),m=p.getAll("index");if(m.some(y=>y==="")){p.delete("index"),m.filter(k=>k).forEach(k=>p.append("index",k));let y=p.toString();u.search=y?`?${y}`:""}}return(!s||s===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:us([n,u.pathname])),Wl(u)}function ZT(s,{relative:e}={}){let n=z.useContext(Cw);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Uw("useViewTransitionState"),o=lu(s,{relative:e});if(!n.isTransitioning)return!1;let u=cs(n.currentLocation.pathname,i)||n.currentLocation.pathname,d=cs(n.nextLocation.pathname,i)||n.nextLocation.pathname;return yh(o.pathname,d)!=null||yh(o.pathname,u)!=null}/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const eS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),zb=s=>{const e=tS(s);return e.charAt(0).toUpperCase()+e.slice(1)},zw=(...s)=>s.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),nS=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/var rS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const sS=z.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:u,iconNode:d,...p},m)=>z.createElement("svg",{ref:m,...rS,width:e,height:e,stroke:s,strokeWidth:i?Number(n)*24/Number(e):n,className:zw("lucide",o),...!u&&!nS(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,k])=>z.createElement(y,k)),...Array.isArray(u)?u:[u]]));/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Ie=(s,e)=>{const n=z.forwardRef(({className:i,...o},u)=>z.createElement(sS,{ref:u,iconNode:e,className:zw(`lucide-${eS(zb(s))}`,`lucide-${s}`,i),...o}));return n.displayName=zb(s),n};/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const iS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],aS=Ie("arrow-left",iS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const oS=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],lS=Ie("brain-circuit",oS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const uS=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],cS=Ie("building-2",uS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const hS=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],dS=Ie("calculator",hS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const fS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],pS=Ie("calendar",fS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const mS=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Vw=Ie("camera",mS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const gS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],yS=Ie("chevron-left",gS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const vS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],bS=Ie("chevron-right",vS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const wS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],kS=Ie("circle-check",wS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ES=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],xS=Ie("clipboard-list",ES);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const TS=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],SS=Ie("coins",TS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const _S=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],NS=Ie("facebook",_S);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const CS=[["path",{d:"m18.226 5.226-2.52-2.52A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-.351",key:"1k2beg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]],IS=Ie("file-pen-line",CS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const AS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],RS=Ie("file-text",AS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const OS=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],$w=Ie("hammer",OS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const LS=[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]],qw=Ie("hard-hat",LS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const PS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],DS=Ie("image",PS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const jS=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],MS=Ie("instagram",jS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const FS=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],US=Ie("layers",FS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const zS=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],VS=Ie("linkedin",zS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const $S=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],qS=Ie("mail",$S);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const HS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],BS=Ie("map-pin",HS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const GS=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],KS=Ie("menu",GS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const WS=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],QS=Ie("monitor",WS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const YS=[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]],Vb=Ie("notebook-pen",YS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const JS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Hw=Ie("panels-top-left",JS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const XS=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Bw=Ie("pen-tool",XS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ZS=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],e_=Ie("phone",ZS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const t_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Gw=Ie("plus",t_);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const n_=[["path",{d:"m13 13.5 2-2.5-2-2.5",key:"1rvxrh"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}],["path",{d:"M9 8.5 7 11l2 2.5",key:"6ffwbx"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],r_=Ie("search-code",n_);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const s_=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],i_=Ie("search",s_);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const a_=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],o_=Ie("send",a_);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const l_=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],u_=Ie("settings",l_);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const c_=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],h_=Ie("share-2",c_);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const d_=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],f_=Ie("trash-2",d_);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const p_=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],m_=Ie("upload",p_);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const g_=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],y_=Ie("x",g_);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const v_=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Kw=Ie("zap",v_),b_=({navItems:s})=>{const[e,n]=z.useState(!1),i=ar(),o=ou();z.useEffect(()=>{const k=()=>n(window.scrollY>50);return window.addEventListener("scroll",k),()=>window.removeEventListener("scroll",k)},[]);const u=["/","/handbook","/contact"].includes(i.pathname)||i.pathname.startsWith("/project/"),d=u?e?"bg-white shadow-sm py-3":"bg-transparent py-6":"bg-white shadow-sm py-3",p=!u||e?"text-gray-800":"text-white",m=!u||e?"":"brightness-0 invert",y=(k,E)=>{var A;k.preventDefault(),E.label==="D N"?i.pathname!=="/"?o("/",{state:{scrollTo:"projects"}}):(A=document.getElementById("projects"))==null||A.scrollIntoView({behavior:"smooth"}):E.view&&E.view!=="home"?o(`/${E.view}`):E.view==="home"&&i.pathname!=="/"&&o("/")};return w.jsx("header",{className:`fixed w-full z-40 transition-all duration-300 ${d}`,children:w.jsxs("div",{className:"container mx-auto px-6 flex justify-between items-center",children:[w.jsx("div",{className:"flex items-center cursor-pointer",onClick:()=>o("/"),children:w.jsx("img",{src:"https://lh3.googleusercontent.com/d/18wUo0JZ3MWDLKqjRqFsS6PB5jDbZYNsA",className:`h-12 ${m}`,alt:"N&M Studio Logo"})}),w.jsxs("nav",{className:"hidden lg:flex gap-8 items-center",children:[(s||[]).map((k,E)=>w.jsx("a",{href:k.href,onClick:A=>y(A,k),className:`text-[11px] font-bold uppercase tracking-widest hover:text-brand-primary transition-colors ${p}`,children:k.label},E)),w.jsx("a",{href:"yeu-cau-thiet-ke.html",target:"_blank",className:`text-[10px] font-bold uppercase tracking-widest px-5 py-2.5 border-2 border-brand-primary hover:bg-brand-primary hover:text-white transition-all ${p}`,children:"Gi yu cu TK n N&M"})]}),w.jsx("button",{className:`lg:hidden ${p}`,children:w.jsx(KS,{})})]})})},w_=()=>{const s=ou(),e=ar(),n=o=>{var u;o.preventDefault(),e.pathname!=="/"?s("/",{state:{scrollTo:"projects"}}):(u=document.getElementById("projects"))==null||u.scrollIntoView({behavior:"smooth"})},i=(o,u)=>{o.preventDefault(),s(u),window.scrollTo(0,0)};return w.jsxs("footer",{className:"bg-[#705d3f] text-white pt-24 pb-12",children:[w.jsxs("div",{className:"container mx-auto px-6 grid lg:grid-cols-3 gap-16 md:gap-24",children:[w.jsxs("div",{className:"space-y-10",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("img",{src:"https://lh3.googleusercontent.com/d/18wUo0JZ3MWDLKqjRqFsS6PB5jDbZYNsA",className:"h-10 brightness-0 invert",alt:"Logo"}),w.jsx("div",{className:"text-sm font-heading font-bold tracking-[0.2em] uppercase",children:"N&M Studio"})]}),w.jsx("p",{className:"text-xs text-white/80 leading-relaxed font-light uppercase tracking-widest max-w-sm",children:"NM Studio cung cp gii php khng gian ton din, t thit k, din ho n thi cng v ng dng AI, c trin khai ng b v ph hp vi nhu cu thc t."}),w.jsxs("div",{className:"flex gap-4",children:[w.jsx("a",{href:"#",className:"w-10 h-10 rounded-full border border-white/20 flex items-center justify-center hover:bg-white hover:text-[#705d3f] transition-all",children:w.jsx(NS,{className:"w-4 h-4"})}),w.jsx("a",{href:"#",className:"w-10 h-10 rounded-full border border-white/20 flex items-center justify-center hover:bg-white hover:text-[#705d3f] transition-all",children:w.jsx(MS,{className:"w-4 h-4"})}),w.jsx("a",{href:"#",className:"w-10 h-10 rounded-full border border-white/20 flex items-center justify-center hover:bg-white hover:text-[#705d3f] transition-all",children:w.jsx(VS,{className:"w-4 h-4"})})]})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"text-xs font-bold uppercase tracking-[0.3em] mb-12 w-fit pb-3",children:"LIN KT NHANH"}),w.jsxs("ul",{className:"grid grid-cols-1 gap-6 text-[11px] text-white/80 font-bold tracking-[0.2em] uppercase",children:[w.jsx("li",{children:w.jsx("a",{href:"#",onClick:o=>i(o,"/about"),className:"hover:text-white transition-colors",children:"V CHNG TI"})}),w.jsx("li",{children:w.jsx("a",{href:"#",onClick:o=>i(o,"/services"),className:"hover:text-white transition-colors",children:"DCH V"})}),w.jsx("li",{children:w.jsx("a",{href:"#projects",onClick:n,className:"hover:text-white transition-colors",children:"D N"})}),w.jsx("li",{children:w.jsx("a",{href:"#",onClick:o=>i(o,"/handbook"),className:"hover:text-white transition-colors",children:"CM NANG"})}),w.jsx("li",{children:w.jsx("a",{href:"#",onClick:o=>i(o,"/contact"),className:"hover:text-white transition-colors",children:"LIN H"})}),w.jsx("li",{children:w.jsx("a",{href:"yeu-cau-thiet-ke.html",target:"_blank",className:"text-brand-primary hover:text-white transition-colors",children:"GI YU CU THIT K"})})]})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"text-xs font-bold uppercase tracking-[0.3em] mb-12 w-fit pb-3",children:"THNG TIN LIN H"}),w.jsxs("div",{className:"space-y-8 text-[11px] text-white/80 font-medium tracking-widest leading-loose",children:[w.jsxs("a",{href:"#",className:"flex gap-5 hover:text-white transition-colors group uppercase",children:[w.jsx(BS,{className:"w-5 h-5 shrink-0 transition-transform group-hover:scale-110"}),w.jsx("span",{children:"s 10 ng 142 Ho Nam, ng a, H Ni"})]}),w.jsxs("a",{href:"#",className:"flex gap-5 hover:text-white transition-colors group uppercase",children:[w.jsx(e_,{className:"w-5 h-5 shrink-0 transition-transform group-hover:scale-110"}),w.jsx("span",{children:"hot line: 0985578385"})]}),w.jsxs("a",{href:"mailto:nghiavu2011@gmail.com",className:"flex gap-5 hover:text-white transition-colors group",children:[w.jsx(qS,{className:"w-5 h-5 shrink-0 transition-transform group-hover:scale-110"}),w.jsx("span",{className:"uppercase",children:"nghiavu2011@gmail.com"})]})]})]})]}),w.jsx("div",{className:"container mx-auto px-6 mt-20 pt-8 text-center text-[10px] text-white/50 uppercase tracking-[0.4em]",children:" 2024 N&M Studio. All rights reserved. Excellence in Every Design."})]})},k_=()=>{};var $b={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ww=function(s){const e=[];let n=0;for(let i=0;i<s.length;i++){let o=s.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<s.length&&(s.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},E_=function(s){const e=[];let n=0,i=0;for(;n<s.length;){const o=s[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];e[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],d=s[n++],p=s[n++],m=((o&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const u=s[n++],d=s[n++];e[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},Qw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<s.length;o+=3){const u=s[o],d=o+1<s.length,p=d?s[o+1]:0,m=o+2<s.length,y=m?s[o+2]:0,k=u>>2,E=(u&3)<<4|p>>4;let A=(p&15)<<2|y>>6,q=y&63;m||(q=64,d||(A=64)),i.push(n[k],n[E],n[A],n[q])}return i.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Ww(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):E_(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],d=o<s.length?n[s.charAt(o)]:0;++o;const p=o<s.length?n[s.charAt(o)]:64;++o;const m=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||d==null||p==null||m==null)throw new x_;const y=u<<2|d>>4;if(i.push(y),p!==64){const k=d<<4&240|p>>2;if(i.push(k),m!==64){const E=p<<6&192|m;i.push(E)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class x_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const T_=function(s){const e=Ww(s);return Qw.encodeByteArray(e,!0)},vh=function(s){return T_(s).replace(/\./g,"")},Yw=function(s){try{return Qw.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function S_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const __=()=>S_().__FIREBASE_DEFAULTS__,N_=()=>{if(typeof process>"u"||typeof $b>"u")return;const s=$b.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},C_=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Yw(s[1]);return e&&JSON.parse(e)},zh=()=>{try{return k_()||__()||N_()||C_()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Jw=s=>{var e,n;return(n=(e=zh())==null?void 0:e.emulatorHosts)==null?void 0:n[s]},Xw=s=>{const e=Jw(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Zw=()=>{var s;return(s=zh())==null?void 0:s.config},e1=s=>{var e;return(e=zh())==null?void 0:e[`_${s}`]};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class I_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function mi(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function om(s){return(await fetch(s,{credentials:"include"})).ok}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function t1(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[vh(JSON.stringify(n)),vh(JSON.stringify(d)),""].join(".")}const Vl={};function A_(){const s={prod:[],emulator:[]};for(const e of Object.keys(Vl))Vl[e]?s.emulator.push(e):s.prod.push(e);return s}function R_(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let qb=!1;function lm(s,e){if(typeof window>"u"||typeof document>"u"||!mi(window.location.host)||Vl[s]===e||Vl[s]||qb)return;Vl[s]=e;function n(E){return`__firebase__banner__${E}`}const i="__firebase__banner",o=A_().prod.length>0;function u(){const E=document.getElementById(i);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{qb=!0,u()},E}function y(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function k(){const E=R_(i),A=n("text"),q=document.getElementById(A)||document.createElement("span"),V=n("learnmore"),K=document.getElementById(V)||document.createElement("a"),W=n("preprendIcon"),ne=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const re=E.element;d(re),y(K,V);const G=m();p(ne,W),re.append(ne,q,K,G),document.body.appendChild(re)}o?(q.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",k):k()}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function O_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function L_(){var s;const e=(s=zh())==null?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function P_(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function D_(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function j_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function M_(){const s=nn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function F_(){return!L_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U_(){try{return typeof indexedDB=="object"}catch{return!1}}function z_(){return new Promise((s,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const V_="FirebaseError";class zr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=V_,Object.setPrototypeOf(this,zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uu.prototype.create)}}class uu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?$_(u,i):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new zr(o,p,i)}}function $_(s,e){return s.replace(q_,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const q_=/\{\$([^}]+)}/g;function H_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Ji(s,e){if(s===e)return!0;const n=Object.keys(s),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const u=s[o],d=e[o];if(Hb(u)&&Hb(d)){if(!Ji(u,d))return!1}else if(u!==d)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function Hb(s){return s!==null&&typeof s=="object"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function cu(s){const e=[];for(const[n,i]of Object.entries(s))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function jl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,o]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ml(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function B_(s,e){const n=new G_(s,e);return n.subscribe.bind(n)}class G_{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");K_(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=hp),o.error===void 0&&(o.error=hp),o.complete===void 0&&(o.complete=hp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function K_(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function hp(){}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Yt(s){return s&&s._delegate?s._delegate:s}class li{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Wi="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class W_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new I_;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Y_(e))try{this.getOrInitializeService({instanceIdentifier:Wi})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});i.resolve(u)}catch{}}}}clearInstance(e=Wi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wi){return this.instances.has(e)}getOptions(e=Wi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);i===p&&d.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Q_(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Wi){return this.component?this.component.multipleInstances?e:Wi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Q_(s){return s===Wi?void 0:s}function Y_(s){return s.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class J_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new W_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Pe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pe||(Pe={}));const X_={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},Z_=Pe.INFO,eN={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},tN=(s,e,...n)=>{if(e<s.logLevel)return;const i=new Date().toISOString(),o=eN[e];if(o)console[o](`[${i}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class um{constructor(e){this.name=e,this._logLevel=Z_,this._logHandler=tN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?X_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const nN=(s,e)=>e.some(n=>s instanceof n);let Bb,Gb;function rN(){return Bb||(Bb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sN(){return Gb||(Gb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const n1=new WeakMap,Ip=new WeakMap,r1=new WeakMap,dp=new WeakMap,cm=new WeakMap;function iN(s){const e=new Promise((n,i)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{n(ni(s.result)),o()},d=()=>{i(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&n1.set(n,s)}).catch(()=>{}),cm.set(e,s),e}function aN(s){if(Ip.has(s))return;const e=new Promise((n,i)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{i(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});Ip.set(s,e)}let Ap={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Ip.get(s);if(e==="objectStoreNames")return s.objectStoreNames||r1.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ni(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function oN(s){Ap=s(Ap)}function lN(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=s.call(fp(this),e,...n);return r1.set(i,e.sort?e.sort():[e]),ni(i)}:sN().includes(s)?function(...e){return s.apply(fp(this),e),ni(n1.get(this))}:function(...e){return ni(s.apply(fp(this),e))}}function uN(s){return typeof s=="function"?lN(s):(s instanceof IDBTransaction&&aN(s),nN(s,rN())?new Proxy(s,Ap):s)}function ni(s){if(s instanceof IDBRequest)return iN(s);if(dp.has(s))return dp.get(s);const e=uN(s);return e!==s&&(dp.set(s,e),cm.set(e,s)),e}const fp=s=>cm.get(s);function cN(s,e,{blocked:n,upgrade:i,blocking:o,terminated:u}={}){const d=indexedDB.open(s,e),p=ni(d);return i&&d.addEventListener("upgradeneeded",m=>{i(ni(d.result),m.oldVersion,m.newVersion,ni(d.transaction),m)}),n&&d.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),p.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const hN=["get","getKey","getAll","getAllKeys","count"],dN=["put","add","delete","clear"],pp=new Map;function Kb(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(pp.get(e))return pp.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=dN.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||hN.includes(n)))return;const u=async function(d,...p){const m=this.transaction(d,o?"readwrite":"readonly");let y=m.store;return i&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&m.done]))[0]};return pp.set(e,u),u}oN(s=>({...s,get:(e,n,i)=>Kb(e,n)||s.get(e,n,i),has:(e,n)=>!!Kb(e,n)||s.has(e,n)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(pN(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function pN(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rp="@firebase/app",Wb="0.14.7";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const hs=new um("@firebase/app"),mN="@firebase/app-compat",gN="@firebase/analytics-compat",yN="@firebase/analytics",vN="@firebase/app-check-compat",bN="@firebase/app-check",wN="@firebase/auth",kN="@firebase/auth-compat",EN="@firebase/database",xN="@firebase/data-connect",TN="@firebase/database-compat",SN="@firebase/functions",_N="@firebase/functions-compat",NN="@firebase/installations",CN="@firebase/installations-compat",IN="@firebase/messaging",AN="@firebase/messaging-compat",RN="@firebase/performance",ON="@firebase/performance-compat",LN="@firebase/remote-config",PN="@firebase/remote-config-compat",DN="@firebase/storage",jN="@firebase/storage-compat",MN="@firebase/firestore",FN="@firebase/ai",UN="@firebase/firestore-compat",zN="firebase",VN="12.8.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Op="[DEFAULT]",$N={[Rp]:"fire-core",[mN]:"fire-core-compat",[yN]:"fire-analytics",[gN]:"fire-analytics-compat",[bN]:"fire-app-check",[vN]:"fire-app-check-compat",[wN]:"fire-auth",[kN]:"fire-auth-compat",[EN]:"fire-rtdb",[xN]:"fire-data-connect",[TN]:"fire-rtdb-compat",[SN]:"fire-fn",[_N]:"fire-fn-compat",[NN]:"fire-iid",[CN]:"fire-iid-compat",[IN]:"fire-fcm",[AN]:"fire-fcm-compat",[RN]:"fire-perf",[ON]:"fire-perf-compat",[LN]:"fire-rc",[PN]:"fire-rc-compat",[DN]:"fire-gcs",[jN]:"fire-gcs-compat",[MN]:"fire-fst",[UN]:"fire-fst-compat",[FN]:"fire-vertex","fire-js":"fire-js",[zN]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const bh=new Map,qN=new Map,Lp=new Map;function Qb(s,e){try{s.container.addComponent(e)}catch(n){hs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function Xi(s){const e=s.name;if(Lp.has(e))return hs.debug(`There were multiple attempts to register component ${e}.`),!1;Lp.set(e,s);for(const n of bh.values())Qb(n,s);for(const n of qN.values())Qb(n,s);return!0}function Vh(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Fn(s){return s==null?!1:s.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const HN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ri=new uu("app","Firebase",HN);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class BN{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ri.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const sa=VN;function s1(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const i={name:Op,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw ri.create("bad-app-name",{appName:String(o)});if(n||(n=Zw()),!n)throw ri.create("no-options");const u=bh.get(o);if(u){if(Ji(n,u.options)&&Ji(i,u.config))return u;throw ri.create("duplicate-app",{appName:o})}const d=new J_(o);for(const m of Lp.values())d.addComponent(m);const p=new BN(n,i,d);return bh.set(o,p),p}function hm(s=Op){const e=bh.get(s);if(!e&&s===Op&&Zw())return s1();if(!e)throw ri.create("no-app",{appName:s});return e}function Ar(s,e,n){let i=$N[s]??s;n&&(i+=`-${n}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${i}" with version "${e}":`];o&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hs.warn(d.join(" "));return}Xi(new li(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const GN="firebase-heartbeat-database",KN=1,Ql="firebase-heartbeat-store";let mp=null;function i1(){return mp||(mp=cN(GN,KN,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Ql)}catch(n){console.warn(n)}}}}).catch(s=>{throw ri.create("idb-open",{originalErrorMessage:s.message})})),mp}async function WN(s){try{const e=(await i1()).transaction(Ql),n=await e.objectStore(Ql).get(a1(s));return await e.done,n}catch(e){if(e instanceof zr)hs.warn(e.message);else{const n=ri.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hs.warn(n.message)}}}async function Yb(s,e){try{const n=(await i1()).transaction(Ql,"readwrite");await n.objectStore(Ql).put(e,a1(s)),await n.done}catch(n){if(n instanceof zr)hs.warn(n.message);else{const i=ri.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hs.warn(i.message)}}}function a1(s){return`${s.name}!${s.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const QN=1024,YN=30;class JN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ZN(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Jb();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>YN){const u=eC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){hs.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Jb(),{heartbeatsToSend:i,unsentEntries:o}=XN(this._heartbeatsCache.heartbeats),u=vh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return hs.warn(n),""}}}function Jb(){return new Date().toISOString().substring(0,10)}function XN(s,e=QN){const n=[];let i=s.slice();for(const o of s){const u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),Xb(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Xb(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class ZN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return U_()?z_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await WN(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return Yb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return Yb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function Xb(s){return vh(JSON.stringify({version:2,heartbeats:s})).length}function eC(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let i=1;i<s.length;i++)s[i].date<n&&(n=s[i].date,e=i);return e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function tC(s){Xi(new li("platform-logger",e=>new fN(e),"PRIVATE")),Xi(new li("heartbeat",e=>new JN(e),"PRIVATE")),Ar(Rp,Wb,s),Ar(Rp,Wb,"esm2020"),Ar("fire-js","")}tC("");var Zb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var si,o1;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,S){function N(){}N.prototype=S.prototype,_.F=S.prototype,_.prototype=new N,_.prototype.constructor=_,_.D=function(P,R,j){for(var C=Array(arguments.length-2),it=2;it<arguments.length;it++)C[it-2]=arguments[it];return S.prototype[R].apply(P,C)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(_,S,N){N||(N=0);const P=Array(16);if(typeof S=="string")for(var R=0;R<16;++R)P[R]=S.charCodeAt(N++)|S.charCodeAt(N++)<<8|S.charCodeAt(N++)<<16|S.charCodeAt(N++)<<24;else for(R=0;R<16;++R)P[R]=S[N++]|S[N++]<<8|S[N++]<<16|S[N++]<<24;S=_.g[0],N=_.g[1],R=_.g[2];let j=_.g[3],C;C=S+(j^N&(R^j))+P[0]+3614090360&4294967295,S=N+(C<<7&4294967295|C>>>25),C=j+(R^S&(N^R))+P[1]+3905402710&4294967295,j=S+(C<<12&4294967295|C>>>20),C=R+(N^j&(S^N))+P[2]+606105819&4294967295,R=j+(C<<17&4294967295|C>>>15),C=N+(S^R&(j^S))+P[3]+3250441966&4294967295,N=R+(C<<22&4294967295|C>>>10),C=S+(j^N&(R^j))+P[4]+4118548399&4294967295,S=N+(C<<7&4294967295|C>>>25),C=j+(R^S&(N^R))+P[5]+1200080426&4294967295,j=S+(C<<12&4294967295|C>>>20),C=R+(N^j&(S^N))+P[6]+2821735955&4294967295,R=j+(C<<17&4294967295|C>>>15),C=N+(S^R&(j^S))+P[7]+4249261313&4294967295,N=R+(C<<22&4294967295|C>>>10),C=S+(j^N&(R^j))+P[8]+1770035416&4294967295,S=N+(C<<7&4294967295|C>>>25),C=j+(R^S&(N^R))+P[9]+2336552879&4294967295,j=S+(C<<12&4294967295|C>>>20),C=R+(N^j&(S^N))+P[10]+4294925233&4294967295,R=j+(C<<17&4294967295|C>>>15),C=N+(S^R&(j^S))+P[11]+2304563134&4294967295,N=R+(C<<22&4294967295|C>>>10),C=S+(j^N&(R^j))+P[12]+1804603682&4294967295,S=N+(C<<7&4294967295|C>>>25),C=j+(R^S&(N^R))+P[13]+4254626195&4294967295,j=S+(C<<12&4294967295|C>>>20),C=R+(N^j&(S^N))+P[14]+2792965006&4294967295,R=j+(C<<17&4294967295|C>>>15),C=N+(S^R&(j^S))+P[15]+1236535329&4294967295,N=R+(C<<22&4294967295|C>>>10),C=S+(R^j&(N^R))+P[1]+4129170786&4294967295,S=N+(C<<5&4294967295|C>>>27),C=j+(N^R&(S^N))+P[6]+3225465664&4294967295,j=S+(C<<9&4294967295|C>>>23),C=R+(S^N&(j^S))+P[11]+643717713&4294967295,R=j+(C<<14&4294967295|C>>>18),C=N+(j^S&(R^j))+P[0]+3921069994&4294967295,N=R+(C<<20&4294967295|C>>>12),C=S+(R^j&(N^R))+P[5]+3593408605&4294967295,S=N+(C<<5&4294967295|C>>>27),C=j+(N^R&(S^N))+P[10]+38016083&4294967295,j=S+(C<<9&4294967295|C>>>23),C=R+(S^N&(j^S))+P[15]+3634488961&4294967295,R=j+(C<<14&4294967295|C>>>18),C=N+(j^S&(R^j))+P[4]+3889429448&4294967295,N=R+(C<<20&4294967295|C>>>12),C=S+(R^j&(N^R))+P[9]+568446438&4294967295,S=N+(C<<5&4294967295|C>>>27),C=j+(N^R&(S^N))+P[14]+3275163606&4294967295,j=S+(C<<9&4294967295|C>>>23),C=R+(S^N&(j^S))+P[3]+4107603335&4294967295,R=j+(C<<14&4294967295|C>>>18),C=N+(j^S&(R^j))+P[8]+1163531501&4294967295,N=R+(C<<20&4294967295|C>>>12),C=S+(R^j&(N^R))+P[13]+2850285829&4294967295,S=N+(C<<5&4294967295|C>>>27),C=j+(N^R&(S^N))+P[2]+4243563512&4294967295,j=S+(C<<9&4294967295|C>>>23),C=R+(S^N&(j^S))+P[7]+1735328473&4294967295,R=j+(C<<14&4294967295|C>>>18),C=N+(j^S&(R^j))+P[12]+2368359562&4294967295,N=R+(C<<20&4294967295|C>>>12),C=S+(N^R^j)+P[5]+4294588738&4294967295,S=N+(C<<4&4294967295|C>>>28),C=j+(S^N^R)+P[8]+2272392833&4294967295,j=S+(C<<11&4294967295|C>>>21),C=R+(j^S^N)+P[11]+1839030562&4294967295,R=j+(C<<16&4294967295|C>>>16),C=N+(R^j^S)+P[14]+4259657740&4294967295,N=R+(C<<23&4294967295|C>>>9),C=S+(N^R^j)+P[1]+2763975236&4294967295,S=N+(C<<4&4294967295|C>>>28),C=j+(S^N^R)+P[4]+1272893353&4294967295,j=S+(C<<11&4294967295|C>>>21),C=R+(j^S^N)+P[7]+4139469664&4294967295,R=j+(C<<16&4294967295|C>>>16),C=N+(R^j^S)+P[10]+3200236656&4294967295,N=R+(C<<23&4294967295|C>>>9),C=S+(N^R^j)+P[13]+681279174&4294967295,S=N+(C<<4&4294967295|C>>>28),C=j+(S^N^R)+P[0]+3936430074&4294967295,j=S+(C<<11&4294967295|C>>>21),C=R+(j^S^N)+P[3]+3572445317&4294967295,R=j+(C<<16&4294967295|C>>>16),C=N+(R^j^S)+P[6]+76029189&4294967295,N=R+(C<<23&4294967295|C>>>9),C=S+(N^R^j)+P[9]+3654602809&4294967295,S=N+(C<<4&4294967295|C>>>28),C=j+(S^N^R)+P[12]+3873151461&4294967295,j=S+(C<<11&4294967295|C>>>21),C=R+(j^S^N)+P[15]+530742520&4294967295,R=j+(C<<16&4294967295|C>>>16),C=N+(R^j^S)+P[2]+3299628645&4294967295,N=R+(C<<23&4294967295|C>>>9),C=S+(R^(N|~j))+P[0]+4096336452&4294967295,S=N+(C<<6&4294967295|C>>>26),C=j+(N^(S|~R))+P[7]+1126891415&4294967295,j=S+(C<<10&4294967295|C>>>22),C=R+(S^(j|~N))+P[14]+2878612391&4294967295,R=j+(C<<15&4294967295|C>>>17),C=N+(j^(R|~S))+P[5]+4237533241&4294967295,N=R+(C<<21&4294967295|C>>>11),C=S+(R^(N|~j))+P[12]+1700485571&4294967295,S=N+(C<<6&4294967295|C>>>26),C=j+(N^(S|~R))+P[3]+2399980690&4294967295,j=S+(C<<10&4294967295|C>>>22),C=R+(S^(j|~N))+P[10]+4293915773&4294967295,R=j+(C<<15&4294967295|C>>>17),C=N+(j^(R|~S))+P[1]+2240044497&4294967295,N=R+(C<<21&4294967295|C>>>11),C=S+(R^(N|~j))+P[8]+1873313359&4294967295,S=N+(C<<6&4294967295|C>>>26),C=j+(N^(S|~R))+P[15]+4264355552&4294967295,j=S+(C<<10&4294967295|C>>>22),C=R+(S^(j|~N))+P[6]+2734768916&4294967295,R=j+(C<<15&4294967295|C>>>17),C=N+(j^(R|~S))+P[13]+1309151649&4294967295,N=R+(C<<21&4294967295|C>>>11),C=S+(R^(N|~j))+P[4]+4149444226&4294967295,S=N+(C<<6&4294967295|C>>>26),C=j+(N^(S|~R))+P[11]+3174756917&4294967295,j=S+(C<<10&4294967295|C>>>22),C=R+(S^(j|~N))+P[2]+718787259&4294967295,R=j+(C<<15&4294967295|C>>>17),C=N+(j^(R|~S))+P[9]+3951481745&4294967295,_.g[0]=_.g[0]+S&4294967295,_.g[1]=_.g[1]+(R+(C<<21&4294967295|C>>>11))&4294967295,_.g[2]=_.g[2]+R&4294967295,_.g[3]=_.g[3]+j&4294967295}i.prototype.v=function(_,S){S===void 0&&(S=_.length);const N=S-this.blockSize,P=this.C;let R=this.h,j=0;for(;j<S;){if(R==0)for(;j<=N;)o(this,_,j),j+=this.blockSize;if(typeof _=="string"){for(;j<S;)if(P[R++]=_.charCodeAt(j++),R==this.blockSize){o(this,P),R=0;break}}else for(;j<S;)if(P[R++]=_[j++],R==this.blockSize){o(this,P),R=0;break}}this.h=R,this.o+=S},i.prototype.A=function(){var _=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);_[0]=128;for(var S=1;S<_.length-8;++S)_[S]=0;S=this.o*8;for(var N=_.length-8;N<_.length;++N)_[N]=S&255,S/=256;for(this.v(_),_=Array(16),S=0,N=0;N<4;++N)for(let P=0;P<32;P+=8)_[S++]=this.g[N]>>>P&255;return _};function u(_,S){var N=p;return Object.prototype.hasOwnProperty.call(N,_)?N[_]:N[_]=S(_)}function d(_,S){this.h=S;const N=[];let P=!0;for(let R=_.length-1;R>=0;R--){const j=_[R]|0;P&&j==S||(N[R]=j,P=!1)}this.g=N}var p={};function m(_){return-128<=_&&_<128?u(_,function(S){return new d([S|0],S<0?-1:0)}):new d([_|0],_<0?-1:0)}function y(_){if(isNaN(_)||!isFinite(_))return E;if(_<0)return W(y(-_));const S=[];let N=1;for(let P=0;_>=N;P++)S[P]=_/N|0,N*=4294967296;return new d(S,0)}function k(_,S){if(_.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(_.charAt(0)=="-")return W(k(_.substring(1),S));if(_.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=y(Math.pow(S,8));let P=E;for(let j=0;j<_.length;j+=8){var R=Math.min(8,_.length-j);const C=parseInt(_.substring(j,j+R),S);R<8?(R=y(Math.pow(S,R)),P=P.j(R).add(y(C))):(P=P.j(N),P=P.add(y(C)))}return P}var E=m(0),A=m(1),q=m(16777216);s=d.prototype,s.m=function(){if(K(this))return-W(this).m();let _=0,S=1;for(let N=0;N<this.g.length;N++){const P=this.i(N);_+=(P>=0?P:4294967296+P)*S,S*=4294967296}return _},s.toString=function(_){if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(V(this))return"0";if(K(this))return"-"+W(this).toString(_);const S=y(Math.pow(_,6));var N=this;let P="";for(;;){const R=le(N,S).g;N=ne(N,R.j(S));let j=((N.g.length>0?N.g[0]:N.h)>>>0).toString(_);if(N=R,V(N))return j+P;for(;j.length<6;)j="0"+j;P=j+P}},s.i=function(_){return _<0?0:_<this.g.length?this.g[_]:this.h};function V(_){if(_.h!=0)return!1;for(let S=0;S<_.g.length;S++)if(_.g[S]!=0)return!1;return!0}function K(_){return _.h==-1}s.l=function(_){return _=ne(this,_),K(_)?-1:V(_)?0:1};function W(_){const S=_.g.length,N=[];for(let P=0;P<S;P++)N[P]=~_.g[P];return new d(N,~_.h).add(A)}s.abs=function(){return K(this)?W(this):this},s.add=function(_){const S=Math.max(this.g.length,_.g.length),N=[];let P=0;for(let R=0;R<=S;R++){let j=P+(this.i(R)&65535)+(_.i(R)&65535),C=(j>>>16)+(this.i(R)>>>16)+(_.i(R)>>>16);P=C>>>16,j&=65535,C&=65535,N[R]=C<<16|j}return new d(N,N[N.length-1]&-2147483648?-1:0)};function ne(_,S){return _.add(W(S))}s.j=function(_){if(V(this)||V(_))return E;if(K(this))return K(_)?W(this).j(W(_)):W(W(this).j(_));if(K(_))return W(this.j(W(_)));if(this.l(q)<0&&_.l(q)<0)return y(this.m()*_.m());const S=this.g.length+_.g.length,N=[];for(var P=0;P<2*S;P++)N[P]=0;for(P=0;P<this.g.length;P++)for(let R=0;R<_.g.length;R++){const j=this.i(P)>>>16,C=this.i(P)&65535,it=_.i(R)>>>16,Rt=_.i(R)&65535;N[2*P+2*R]+=C*Rt,re(N,2*P+2*R),N[2*P+2*R+1]+=j*Rt,re(N,2*P+2*R+1),N[2*P+2*R+1]+=C*it,re(N,2*P+2*R+1),N[2*P+2*R+2]+=j*it,re(N,2*P+2*R+2)}for(_=0;_<S;_++)N[_]=N[2*_+1]<<16|N[2*_];for(_=S;_<2*S;_++)N[_]=0;return new d(N,0)};function re(_,S){for(;(_[S]&65535)!=_[S];)_[S+1]+=_[S]>>>16,_[S]&=65535,S++}function G(_,S){this.g=_,this.h=S}function le(_,S){if(V(S))throw Error("division by zero");if(V(_))return new G(E,E);if(K(_))return S=le(W(_),S),new G(W(S.g),W(S.h));if(K(S))return S=le(_,W(S)),new G(W(S.g),S.h);if(_.g.length>30){if(K(_)||K(S))throw Error("slowDivide_ only works with positive integers.");for(var N=A,P=S;P.l(_)<=0;)N=we(N),P=we(P);var R=se(N,1),j=se(P,1);for(P=se(P,2),N=se(N,2);!V(P);){var C=j.add(P);C.l(_)<=0&&(R=R.add(N),j=C),P=se(P,1),N=se(N,1)}return S=ne(_,R.j(S)),new G(R,S)}for(R=E;_.l(S)>=0;){for(N=Math.max(1,Math.floor(_.m()/S.m())),P=Math.ceil(Math.log(N)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),j=y(N),C=j.j(S);K(C)||C.l(_)>0;)N-=P,j=y(N),C=j.j(S);V(j)&&(j=A),R=R.add(j),_=ne(_,C)}return new G(R,_)}s.B=function(_){return le(this,_).h},s.and=function(_){const S=Math.max(this.g.length,_.g.length),N=[];for(let P=0;P<S;P++)N[P]=this.i(P)&_.i(P);return new d(N,this.h&_.h)},s.or=function(_){const S=Math.max(this.g.length,_.g.length),N=[];for(let P=0;P<S;P++)N[P]=this.i(P)|_.i(P);return new d(N,this.h|_.h)},s.xor=function(_){const S=Math.max(this.g.length,_.g.length),N=[];for(let P=0;P<S;P++)N[P]=this.i(P)^_.i(P);return new d(N,this.h^_.h)};function we(_){const S=_.g.length+1,N=[];for(let P=0;P<S;P++)N[P]=_.i(P)<<1|_.i(P-1)>>>31;return new d(N,_.h)}function se(_,S){const N=S>>5;S%=32;const P=_.g.length-N,R=[];for(let j=0;j<P;j++)R[j]=S>0?_.i(j+N)>>>S|_.i(j+N+1)<<32-S:_.i(j+N);return new d(R,_.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,o1=i,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=k,si=d}).apply(typeof Zb<"u"?Zb:typeof self<"u"?self:typeof window<"u"?window:{});var Qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var l1,Fl,u1,ah,Pp,c1,h1,d1;(function(){var s,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qc=="object"&&Qc];for(var g=0;g<c.length;++g){var b=c[g];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=n(this);function o(c,g){if(g)e:{var b=i;c=c.split(".");for(var T=0;T<c.length-1;T++){var M=c[T];if(!(M in b))break e;b=b[M]}c=c[c.length-1],T=b[c],g=g(T),g!=T&&g!=null&&e(b,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var b=[],T;for(T in g)Object.prototype.hasOwnProperty.call(g,T)&&b.push([T,g[T]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function m(c,g,b){return c.call.apply(c.bind,arguments)}function y(c,g,b){return y=m,y.apply(null,arguments)}function k(c,g){var b=Array.prototype.slice.call(arguments,1);return function(){var T=b.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function E(c,g){function b(){}b.prototype=g.prototype,c.Z=g.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(T,M,H){for(var ie=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)ie[Ne-2]=arguments[Ne];return g.prototype[M].apply(T,ie)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function q(c){const g=c.length;if(g>0){const b=Array(g);for(let T=0;T<g;T++)b[T]=c[T];return b}return[]}function V(c,g){for(let T=1;T<arguments.length;T++){const M=arguments[T];var b=typeof M;if(b=b!="object"?b:M?Array.isArray(M)?"array":b:"null",b=="array"||b=="object"&&typeof M.length=="number"){b=c.length||0;const H=M.length||0;c.length=b+H;for(let ie=0;ie<H;ie++)c[b+ie]=M[ie]}else c.push(M)}}class K{constructor(g,b){this.i=g,this.j=b,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function W(c){d.setTimeout(()=>{throw c},0)}function ne(){var c=_;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class re{constructor(){this.h=this.g=null}add(g,b){const T=G.get();T.set(g,b),this.h?this.h.next=T:this.g=T,this.h=T}}var G=new K(()=>new le,c=>c.reset());class le{constructor(){this.next=this.g=this.h=null}set(g,b){this.h=g,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let we,se=!1,_=new re,S=()=>{const c=Promise.resolve(void 0);we=()=>{c.then(N)}};function N(){for(var c;c=ne();){try{c.h.call(c.g)}catch(b){W(b)}var g=G;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}se=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};d.addEventListener("test",b,g),d.removeEventListener("test",b,g)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function it(c,g){R.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}E(it,R),it.prototype.init=function(c,g){const b=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(b=="mouseover"?g=c.fromElement:b=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&it.Z.h.call(this)},it.prototype.h=function(){it.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Rt="closure_listenable_"+(Math.random()*1e6|0),Y=0;function ae(c,g,b,T,M){this.listener=c,this.proxy=null,this.src=g,this.type=b,this.capture=!!T,this.ha=M,this.key=++Y,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ze(c,g,b){for(const T in c)g.call(b,c[T],T,c)}function Be(c,g){for(const b in c)g.call(void 0,c[b],b,c)}function L(c){const g={};for(const b in c)g[b]=c[b];return g}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,g){let b,T;for(let M=1;M<arguments.length;M++){T=arguments[M];for(b in T)c[b]=T[b];for(let H=0;H<X.length;H++)b=X[H],Object.prototype.hasOwnProperty.call(T,b)&&(c[b]=T[b])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,g,b,T,M){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const ie=_e(c,g,T,M);return ie>-1?(g=c[ie],b||(g.fa=!1)):(g=new ae(g,this.src,H,!!T,M),g.fa=b,c.push(g)),g};function ke(c,g){const b=g.type;if(b in c.g){var T=c.g[b],M=Array.prototype.indexOf.call(T,g,void 0),H;(H=M>=0)&&Array.prototype.splice.call(T,M,1),H&&(me(g),c.g[b].length==0&&(delete c.g[b],c.h--))}}function _e(c,g,b,T){for(let M=0;M<c.length;++M){const H=c[M];if(!H.da&&H.listener==g&&H.capture==!!b&&H.ha==T)return M}return-1}var Fe="closure_lm_"+(Math.random()*1e6|0),Ot={};function at(c,g,b,T,M){if(Array.isArray(g)){for(let H=0;H<g.length;H++)at(c,g[H],b,T,M);return null}return b=Io(b),c&&c[Rt]?c.J(g,b,p(T)?!!T.capture:!1,M):yi(c,g,b,!1,T,M)}function yi(c,g,b,T,M,H){if(!g)throw Error("Invalid event type");const ie=p(M)?!!M.capture:!!M;let Ne=vi(c);if(Ne||(c[Fe]=Ne=new ce(c)),b=Ne.add(g,b,T,ie,H),b.proxy)return b;if(T=ca(),b.proxy=T,T.src=c,T.listener=b,c.addEventListener)j||(M=ie),M===void 0&&(M=!1),c.addEventListener(g.toString(),T,M);else if(c.attachEvent)c.attachEvent(or(g.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return b}function ca(){function c(b){return g.call(c.src,c.listener,b)}const g=No;return c}function ha(c,g,b,T,M){if(Array.isArray(g))for(var H=0;H<g.length;H++)ha(c,g[H],b,T,M);else T=p(T)?!!T.capture:!!T,b=Io(b),c&&c[Rt]?(c=c.i,H=String(g).toString(),H in c.g&&(g=c.g[H],b=_e(g,b,T,M),b>-1&&(me(g[b]),Array.prototype.splice.call(g,b,1),g.length==0&&(delete c.g[H],c.h--)))):c&&(c=vi(c))&&(g=c.g[g.toString()],c=-1,g&&(c=_e(g,b,T,M)),(b=c>-1?g[c]:null)&&da(b))}function da(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Rt])ke(g.i,c);else{var b=c.type,T=c.proxy;g.removeEventListener?g.removeEventListener(b,T,c.capture):g.detachEvent?g.detachEvent(or(b),T):g.addListener&&g.removeListener&&g.removeListener(T),(b=vi(g))?(ke(b,c),b.h==0&&(b.src=null,g[Fe]=null)):me(c)}}}function or(c){return c in Ot?Ot[c]:Ot[c]="on"+c}function No(c,g){if(c.da)c=!0;else{g=new it(g,this);const b=c.listener,T=c.ha||c.src;c.fa&&da(c),c=b.call(T,g)}return c}function vi(c){return c=c[Fe],c instanceof ce?c:null}var Co="__closure_events_fn_"+(Math.random()*1e9>>>0);function Io(c){return typeof c=="function"?c:(c[Co]||(c[Co]=function(g){return c.handleEvent(g)}),c[Co])}function wt(){P.call(this),this.i=new ce(this),this.M=this,this.G=null}E(wt,P),wt.prototype[Rt]=!0,wt.prototype.removeEventListener=function(c,g,b,T){ha(this,c,g,b,T)};function Lt(c,g){var b,T=c.G;if(T)for(b=[];T;T=T.G)b.push(T);if(c=c.M,T=g.type||g,typeof g=="string")g=new R(g,c);else if(g instanceof R)g.target=g.target||c;else{var M=g;g=new R(T,c),oe(g,M)}M=!0;let H,ie;if(b)for(ie=b.length-1;ie>=0;ie--)H=g.g=b[ie],M=ms(H,T,!0,g)&&M;if(H=g.g=c,M=ms(H,T,!0,g)&&M,M=ms(H,T,!1,g)&&M,b)for(ie=0;ie<b.length;ie++)H=g.g=b[ie],M=ms(H,T,!1,g)&&M}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const b=c.g[g];for(let T=0;T<b.length;T++)me(b[T]);delete c.g[g],c.h--}}this.G=null},wt.prototype.J=function(c,g,b,T){return this.i.add(String(c),g,!1,b,T)},wt.prototype.K=function(c,g,b,T){return this.i.add(String(c),g,!0,b,T)};function ms(c,g,b,T){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let M=!0;for(let H=0;H<g.length;++H){const ie=g[H];if(ie&&!ie.da&&ie.capture==b){const Ne=ie.listener,gt=ie.ha||ie.src;ie.fa&&ke(c.i,ie),M=Ne.call(gt,T)!==!1&&M}}return M&&!T.defaultPrevented}function od(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:d.setTimeout(c,g||0)}function bu(c){c.g=od(()=>{c.g=null,c.i&&(c.i=!1,bu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class rn extends P{constructor(g,b){super(),this.m=g,this.l=b,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:bu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bi(c){P.call(this),this.h=c,this.g={}}E(bi,P);var Ao=[];function Ro(c){ze(c.g,function(g,b){this.g.hasOwnProperty(b)&&da(g)},c),c.g={}}bi.prototype.N=function(){bi.Z.N.call(this),Ro(this)},bi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gs=d.JSON.stringify,ld=d.JSON.parse,wu=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function ku(){}function Eu(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Vt(){R.call(this,"d")}E(Vt,R);function _n(){R.call(this,"c")}E(_n,R);var mt={},xu=null;function fa(){return xu=xu||new wt}mt.Ia="serverreachability";function Tu(c){R.call(this,mt.Ia,c)}E(Tu,R);function lr(c){const g=fa();Lt(g,new Tu(g))}mt.STAT_EVENT="statevent";function wi(c,g){R.call(this,mt.STAT_EVENT,c),this.stat=g}E(wi,R);function kt(c){const g=fa();Lt(g,new wi(g,c))}mt.Ja="timingevent";function ur(c,g){R.call(this,mt.Ja,c),this.size=g}E(ur,R);function cr(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},g)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function ud(c,g,b,T,M,H){c.info(function(){if(c.g)if(H){var ie="",Ne=H.split("&");for(let Ke=0;Ke<Ne.length;Ke++){var gt=Ne[Ke].split("=");if(gt.length>1){const ot=gt[0];gt=gt[1];const An=ot.split("_");ie=An.length>=2&&An[1]=="type"?ie+(ot+"="+gt+"&"):ie+(ot+"=redacted&")}}}else ie=null;else ie=H;return"XMLHTTP REQ ("+T+") [attempt "+M+"]: "+g+`
`+b+`
`+ie})}function Su(c,g,b,T,M,H,ie){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+M+"]: "+g+`
`+b+`
`+H+" "+ie})}function hr(c,g,b,T){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+cd(c,b)+(T?" "+T:"")})}function ki(c,g){c.info(function(){return"TIMEOUT: "+g})}qn.prototype.info=function(){};function cd(c,g){if(!c.g)return g;if(!g)return null;try{const H=JSON.parse(g);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var b=H[c];if(!(b.length<2)){var T=b[1];if(Array.isArray(T)&&!(T.length<1)){var M=T[0];if(M!="noop"&&M!="stop"&&M!="close")for(let ie=1;ie<T.length;ie++)T[ie]=""}}}}return gs(H)}catch{return g}}var Ei={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Oo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Lo;function xi(){}E(xi,ku),xi.prototype.g=function(){return new XMLHttpRequest},Lo=new xi;function Vr(c){return encodeURIComponent(String(c))}function _u(c){var g=1;c=c.split(":");const b=[];for(;g>0&&c.length;)b.push(c.shift()),g--;return c.length&&b.push(c.join(":")),b}function Hn(c,g,b,T){this.j=c,this.i=g,this.l=b,this.S=T||1,this.V=new bi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var Et={},Mt={};function dr(c,g,b){c.M=1,c.A=Ti(Tt(g)),c.u=b,c.R=!0,pa(c,null)}function pa(c,g){c.F=Date.now(),fr(c),c.B=Tt(c.A);var b=c.B,T=c.S;Array.isArray(T)||(T=[String(T)]),va(b.i,"t",T),c.C=0,b=c.j.L,c.h=new Bn,c.g=Vu(c.j,b?g:null,!c.u),c.P>0&&(c.O=new rn(y(c.Y,c,c.g),c.P)),g=c.V,b=c.g,T=c.ba;var M="readystatechange";Array.isArray(M)||(M&&(Ao[0]=M.toString()),M=Ao);for(let H=0;H<M.length;H++){const ie=at(b,M[H],T||g.handleEvent,!1,g.h||g);if(!ie)break;g.g[ie.key]=ie}g=c.J?L(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),lr(),ud(c.i,c.v,c.B,c.l,c.S,c.u)}Hn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Wn(c)==3?g.j():this.Y(c)},Hn.prototype.Y=function(c){try{if(c==this.g)e:{const Ne=Wn(this.g),gt=this.g.ya(),Ke=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||$t(this.g)))){this.K||Ne!=4||gt==7||(gt==8||Ke<=0?lr(3):lr(2)),pr(this);var g=this.g.ca();this.X=g;var b=hd(this);if(this.o=g==200,Su(this.i,this.v,this.B,this.l,this.S,Ne,g),this.o){if(this.U&&!this.L){t:{if(this.g){var T,M=this.g;if((T=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(T)){var H=T;break t}}H=null}if(c=H)hr(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mr(this,c);else{this.o=!1,this.m=3,kt(12),mn(this),Nn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<b.length;)if(ot=Cu(this,b),ot==Mt){Ne==4&&(this.m=4,kt(14),c=!1),hr(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Et){this.m=4,kt(15),hr(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else hr(this.i,this.l,ot,null),mr(this,ot);if(Nu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||b.length!=0||this.h.h||(this.m=1,kt(16),c=!1),this.o=this.o&&c,!c)hr(this.i,this.l,b,"[Invalid Chunked Response]"),mn(this),Nn(this);else if(b.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Wo(ie),ie.P=!0,kt(11))}}else hr(this.i,this.l,b,null),mr(this,b);Ne==4&&mn(this),this.o&&!this.K&&(Ne==4?Mu(this.j,this):(this.o=!1,fr(this)))}else qr(this.g),g==400&&b.indexOf("Unknown SID")>0?(this.m=3,kt(12)):(this.m=0,kt(13)),mn(this),Nn(this)}}}catch{}finally{}};function hd(c){if(!Nu(c))return c.g.la();const g=$t(c.g);if(g==="")return"";let b="";const T=g.length,M=Wn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return mn(c),Nn(c),"";c.h.i=new d.TextDecoder}for(let H=0;H<T;H++)c.h.h=!0,b+=c.h.i.decode(g[H],{stream:!(M&&H==T-1)});return g.length=0,c.h.g+=b,c.C=0,c.h.g}function Nu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Cu(c,g){var b=c.C,T=g.indexOf(`
`,b);return T==-1?Mt:(b=Number(g.substring(b,T)),isNaN(b)?Et:(T+=1,T+b>g.length?Mt:(g=g.slice(T,T+b),c.C=T+b,g)))}Hn.prototype.cancel=function(){this.K=!0,mn(this)};function fr(c){c.T=Date.now()+c.H,ma(c,c.H)}function ma(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=cr(y(c.aa,c),g)}function pr(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Hn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ki(this.i,this.B),this.M!=2&&(lr(),kt(17)),mn(this),this.m=2,Nn(this)):ma(this,this.T-c)};function Nn(c){c.j.I==0||c.K||Mu(c.j,c)}function mn(c){pr(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Ro(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function mr(c,g){try{var b=c.j;if(b.I!=0&&(b.g==c||yr(b.h,c))){if(!c.L&&yr(b.h,c)&&b.I==3){try{var T=b.Ba.g.parse(g)}catch{T=null}if(Array.isArray(T)&&T.length==3){var M=T;if(M[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)xa(b),Ts(b);else break e;Ri(b),kt(18)}}else b.xa=M[1],0<b.xa-b.K&&M[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=cr(y(b.Va,b),6e3));gr(b.h)<=1&&b.ta&&(b.ta=void 0)}else xr(b,11)}else if((c.L||b.g==c)&&xa(b),!C(g))for(M=b.Ba.g.parse(g),g=0;g<M.length;g++){let Ke=M[g];const ot=Ke[0];if(!(ot<=b.K))if(b.K=ot,Ke=Ke[1],b.I==2)if(Ke[0]=="c"){b.M=Ke[1],b.ba=Ke[2];const An=Ke[3];An!=null&&(b.ka=An,b.j.info("VER="+b.ka));const Br=Ke[4];Br!=null&&(b.za=Br,b.j.info("SVER="+b.za));const Qn=Ke[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(T=1.5*Qn,b.O=T,b.j.info("backChannelRequestTimeoutMs_="+T)),T=b;const Yn=c.g;if(Yn){const Oi=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oi){var H=T.h;H.g||Oi.indexOf("spdy")==-1&&Oi.indexOf("quic")==-1&&Oi.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(jo(H,H.h),H.h=null))}if(T.G){const Ta=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ta&&(T.wa=Ta,Ge(T.J,T.G,Ta))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),T=b;var ie=c;if(T.na=zu(T,T.L?T.ba:null,T.W),ie.L){Mo(T.h,ie);var Ne=ie,gt=T.O;gt&&(Ne.H=gt),Ne.D&&(pr(Ne),fr(Ne)),T.g=ie}else Du(T);b.i.length>0&&Er(b)}else Ke[0]!="stop"&&Ke[0]!="close"||xr(b,7);else b.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?xr(b,7):Go(b):Ke[0]!="noop"&&b.l&&b.l.qa(Ke),b.A=0)}}lr(4)}catch{}}var xt=class{constructor(c,g){this.g=c,this.map=g}};function Po(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Do(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gr(c){return c.h?1:c.g?c.g.size:0}function yr(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function jo(c,g){c.g?c.g.add(g):c.h=g}function Mo(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Po.prototype.cancel=function(){if(this.i=Fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Fo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const b of c.g.values())g=g.concat(b.G);return g}return q(c.i)}var Iu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ga(c,g){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const T=c[b].indexOf("=");let M,H=null;T>=0?(M=c[b].substring(0,T),H=c[b].substring(T+1)):M=c[b],g(M,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof gn?(this.l=c.l,Ft(this,c.j),this.o=c.o,this.g=c.g,ys(this,c.u),this.h=c.h,Uo(this,Lu(c.i)),this.m=c.m):c&&(g=String(c).match(Iu))?(this.l=!1,Ft(this,g[1]||"",!0),this.o=vr(g[2]||""),this.g=vr(g[3]||"",!0),ys(this,g[4]),this.h=vr(g[5]||"",!0),Uo(this,g[6]||"",!0),this.m=vr(g[7]||"")):(this.l=!1,this.i=new bs(null,this.l))}gn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(Si(g,ya,!0),":");var b=this.g;return(b||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Si(g,ya,!0),"@"),c.push(Vr(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(Si(b,b.charAt(0)=="/"?zo:Au,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",Si(b,Ru)),c.join("")},gn.prototype.resolve=function(c){const g=Tt(this);let b=!!c.j;b?Ft(g,c.j):b=!!c.o,b?g.o=c.o:b=!!c.g,b?g.g=c.g:b=c.u!=null;var T=c.h;if(b)ys(g,c.u);else if(b=!!c.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var M=g.h.lastIndexOf("/");M!=-1&&(T=g.h.slice(0,M+1)+T)}if(M=T,M==".."||M==".")T="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){T=M.lastIndexOf("/",0)==0,M=M.split("/");const H=[];for(let ie=0;ie<M.length;){const Ne=M[ie++];Ne=="."?T&&ie==M.length&&H.push(""):Ne==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),T&&ie==M.length&&H.push("")):(H.push(Ne),T=!0)}T=H.join("/")}else T=M}return b?g.h=T:b=c.i.toString()!=="",b?Uo(g,Lu(c.i)):b=!!c.m,b&&(g.m=c.m),g};function Tt(c){return new gn(c)}function Ft(c,g,b){c.j=b?vr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ys(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function Uo(c,g,b){g instanceof bs?(c.i=g,ba(c.i,c.l)):(b||(g=Si(g,vs)),c.i=new bs(g,c.l))}function Ge(c,g,b){c.i.set(g,b)}function Ti(c){return Ge(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function vr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Si(c,g,b){return typeof c=="string"?(c=encodeURI(c).replace(g,yn),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function yn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ya=/[#\/\?@]/g,Au=/[#\?:]/g,zo=/[#\?]/g,vs=/[#\?@]/g,Ru=/#/g;function bs(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&ga(c.i,function(g,b){c.add(decodeURIComponent(g.replace(/\+/g," ")),b)}))}s=bs.prototype,s.add=function(c,g){ln(this),this.i=null,c=ws(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(g),this.h+=1,this};function Ou(c,g){ln(c),g=ws(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Vo(c,g){return ln(c),g=ws(c,g),c.g.has(g)}s.forEach=function(c,g){ln(this),this.g.forEach(function(b,T){b.forEach(function(M){c.call(g,M,T,this)},this)},this)};function $o(c,g){ln(c);let b=[];if(typeof g=="string")Vo(c,g)&&(b=b.concat(c.g.get(ws(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)b=b.concat(c[g]);return b}s.set=function(c,g){return ln(this),this.i=null,c=ws(this,c),Vo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},s.get=function(c,g){return c?(c=$o(this,c),c.length>0?String(c[0]):g):g};function va(c,g,b){Ou(c,g),b.length>0&&(c.i=null,c.g.set(ws(c,g),q(b)),c.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let T=0;T<g.length;T++){var b=g[T];const M=Vr(b);b=$o(this,b);for(let H=0;H<b.length;H++){let ie=M;b[H]!==""&&(ie+="="+Vr(b[H])),c.push(ie)}}return this.i=c.join("&")};function Lu(c){const g=new bs;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function ws(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function ba(c,g){g&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(b,T){const M=T.toLowerCase();T!=M&&(Ou(this,T),va(this,M,b))},c)),c.j=g}function Gn(c,g){const b=new qn;if(d.Image){const T=new Image;T.onload=k(Cn,b,"TestLoadImage: loaded",!0,g,T),T.onerror=k(Cn,b,"TestLoadImage: error",!1,g,T),T.onabort=k(Cn,b,"TestLoadImage: abort",!1,g,T),T.ontimeout=k(Cn,b,"TestLoadImage: timeout",!1,g,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else g(!1)}function qo(c,g){const b=new qn,T=new AbortController,M=setTimeout(()=>{T.abort(),Cn(b,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:T.signal}).then(H=>{clearTimeout(M),H.ok?Cn(b,"TestPingServer: ok",!0,g):Cn(b,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(M),Cn(b,"TestPingServer: error",!1,g)})}function Cn(c,g,b,T,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),T(b)}catch{}}function ks(){this.g=new wu}function br(c){this.i=c.Sb||null,this.h=c.ab||!1}E(br,ku),br.prototype.g=function(){return new _i(this.i,this.h)};function _i(c,g){wt.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(_i,wt),s=_i.prototype,s.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Kn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||d).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Es(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function wa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Es(this):Kn(this),this.readyState==3&&wa(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,Es(this))},s.Na=function(c){this.g&&(this.response=c,Es(this))},s.ga=function(){this.g&&Es(this)};function Es(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Kn(c)}s.setRequestHeader=function(c,g){this.A.append(c,g)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var b=g.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=g.next();return c.join(`\r
`)};function Kn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(_i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function In(c){let g="";return ze(c,function(b,T){g+=T,g+=":",g+=b,g+=`\r
`}),g}function Ni(c,g,b){e:{for(T in b){var T=!1;break e}T=!0}T||(b=In(b),typeof c=="string"?b!=null&&Vr(b):Ge(c,g,b))}function Ye(c){wt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Ye,wt);var wr=/^https?$/i,Ho=["POST","PUT"];s=Ye.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,g,b,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Lo.g(),this.g.onreadystatechange=A(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(H){Ci(this,H);return}if(c=b||"",b=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var M in T)b.set(M,T[M]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())b.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(b.keys()).find(H=>H.toLowerCase()=="content-type"),M=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Ho,g,void 0)>=0)||T||M||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ie]of b)this.g.setRequestHeader(H,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){Ci(this,H)}};function Ci(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Bo(c),$r(c)}function Bo(c){c.A||(c.A=!0,Lt(c,"complete"),Lt(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Lt(this,"complete"),Lt(this,"abort"),$r(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$r(this,!0)),Ye.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ii(this):this.Xa())},s.Xa=function(){Ii(this)};function Ii(c){if(c.h&&typeof u<"u"){if(c.v&&Wn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Lt(c,"readystatechange"),Wn(c)==4){c.h=!1;try{const H=c.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var b;if(!(b=g)){var T;if(T=H===0){let ie=String(c.D).match(Iu)[1]||null;!ie&&d.self&&d.self.location&&(ie=d.self.location.protocol.slice(0,-1)),T=!wr.test(ie?ie.toLowerCase():"")}b=T}if(b)Lt(c,"complete"),Lt(c,"success");else{c.o=6;try{var M=Wn(c)>2?c.g.statusText:""}catch{M=""}c.l=M+" ["+c.ca()+"]",Bo(c)}}finally{$r(c)}}}}function $r(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,g||Lt(c,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Wn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),ld(g)}};function $t(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function qr(c){const g={};c=(c.g&&Wn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(C(c[T]))continue;var b=_u(c[T]);const M=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const H=g[M]||[];g[M]=H,H.push(b)}Be(g,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function kr(c,g,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||g}function xs(c){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=kr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=kr("baseRetryDelayMs",5e3,c),this.Za=kr("retryDelaySeedMs",1e4,c),this.Ta=kr("forwardChannelMaxRetries",2,c),this.va=kr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Po(c&&c.concurrentRequestLimit),this.Ba=new ks,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=xs.prototype,s.ka=8,s.I=1,s.connect=function(c,g,b,T){kt(0),this.W=c,this.H=g||{},b&&T!==void 0&&(this.H.OSID=b,this.H.OAID=T),this.F=this.X,this.J=zu(this,null,this.W),Er(this)};function Go(c){if(ka(c),c.I==3){var g=c.V++,b=Tt(c.J);if(Ge(b,"SID",c.M),Ge(b,"RID",g),Ge(b,"TYPE","terminate"),Ai(c,b),g=new Hn(c,c.j,g),g.M=2,g.A=Ti(Tt(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(g.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=g.A,b=!0),b||(g.g=Vu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),fr(g)}Uu(c)}function Ts(c){c.g&&(Wo(c),c.g.cancel(),c.g=null)}function ka(c){Ts(c),c.v&&(d.clearTimeout(c.v),c.v=null),xa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function Er(c){if(!Do(c.h)&&!c.m){c.m=!0;var g=c.Ea;we||S(),se||(we(),se=!0),_.add(g,c),c.D=0}}function Ea(c,g){return gr(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=cr(y(c.Ea,c,g),Fu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const M=new Hn(this,this.j,c);let H=this.o;if(this.U&&(H?(H=L(H),oe(H,this.U)):H=this.U),this.u!==null||this.R||(M.J=H,H=null),this.S)e:{for(var g=0,b=0;b<this.i.length;b++){t:{var T=this.i[b];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(g+=T,g>4096){g=b;break e}if(g===4096||b===this.i.length-1){g=b+1;break e}}g=1e3}else g=1e3;g=Pu(this,M,g),b=Tt(this.J),Ge(b,"RID",c),Ge(b,"CVER",22),this.G&&Ge(b,"X-HTTP-Session-Id",this.G),Ai(this,b),H&&(this.R?g="headers="+Vr(In(H))+"&"+g:this.u&&Ni(b,this.u,H)),jo(this.h,M),this.Ra&&Ge(b,"TYPE","init"),this.S?(Ge(b,"$req",g),Ge(b,"SID","null"),M.U=!0,dr(M,b,null)):dr(M,b,g),this.I=2}}else this.I==3&&(c?Ko(this,c):this.i.length==0||Do(this.h)||Ko(this))};function Ko(c,g){var b;g?b=g.l:b=c.V++;const T=Tt(c.J);Ge(T,"SID",c.M),Ge(T,"RID",b),Ge(T,"AID",c.K),Ai(c,T),c.u&&c.o&&Ni(T,c.u,c.o),b=new Hn(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Pu(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),jo(c.h,b),dr(b,T,g)}function Ai(c,g){c.H&&ze(c.H,function(b,T){Ge(g,T,b)}),c.l&&ze({},function(b,T){Ge(g,T,b)})}function Pu(c,g,b){b=Math.min(c.i.length,b);const T=c.l?y(c.l.Ka,c.l,c):null;e:{var M=c.i;let Ne=-1;for(;;){const gt=["count="+b];Ne==-1?b>0?(Ne=M[0].g,gt.push("ofs="+Ne)):Ne=0:gt.push("ofs="+Ne);let Ke=!0;for(let ot=0;ot<b;ot++){var H=M[ot].g;const An=M[ot].map;if(H-=Ne,H<0)Ne=Math.max(0,M[ot].g-100),Ke=!1;else try{H="req"+H+"_"||"";try{var ie=An instanceof Map?An:Object.entries(An);for(const[Br,Qn]of ie){let Yn=Qn;p(Qn)&&(Yn=gs(Qn)),gt.push(H+Br+"="+encodeURIComponent(Yn))}}catch(Br){throw gt.push(H+"type="+encodeURIComponent("_badmap")),Br}}catch{T&&T(An)}}if(Ke){ie=gt.join("&");break e}}ie=void 0}return c=c.i.splice(0,b),g.G=c,ie}function Du(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;we||S(),se||(we(),se=!0),_.add(g,c),c.A=0}}function Ri(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=cr(y(c.Da,c),Fu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,ju(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=cr(y(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,kt(10),Ts(this),ju(this))};function Wo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function ju(c){c.g=new Hn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=Tt(c.na);Ge(g,"RID","rpc"),Ge(g,"SID",c.M),Ge(g,"AID",c.K),Ge(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ge(g,"TO",c.ia),Ge(g,"TYPE","xmlhttp"),Ai(c,g),c.u&&c.o&&Ni(g,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=Ti(Tt(g)),b.u=null,b.R=!0,pa(b,c)}s.Va=function(){this.C!=null&&(this.C=null,Ts(this),Ri(this),kt(19))};function xa(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Mu(c,g){var b=null;if(c.g==g){xa(c),Wo(c),c.g=null;var T=2}else if(yr(c.h,g))b=g.G,Mo(c.h,g),T=1;else return;if(c.I!=0){if(g.o)if(T==1){b=g.u?g.u.length:0,g=Date.now()-g.F;var M=c.D;T=fa(),Lt(T,new ur(T,b)),Er(c)}else Du(c);else if(M=g.m,M==3||M==0&&g.X>0||!(T==1&&Ea(c,g)||T==2&&Ri(c)))switch(b&&b.length>0&&(g=c.h,g.i=g.i.concat(b)),M){case 1:xr(c,5);break;case 4:xr(c,10);break;case 3:xr(c,6);break;default:xr(c,2)}}}function Fu(c,g){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*g}function xr(c,g){if(c.j.info("Error code "+g),g==2){var b=y(c.bb,c),T=c.Ua;const M=!T;T=new gn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ft(T,"https"),Ti(T),M?Gn(T.toString(),b):qo(T.toString(),b)}else kt(2);c.I=0,c.l&&c.l.pa(g),Uu(c),ka(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Uu(c){if(c.I=0,c.ja=[],c.l){const g=Fo(c.h);(g.length!=0||c.i.length!=0)&&(V(c.ja,g),V(c.ja,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.oa()}}function zu(c,g,b){var T=b instanceof gn?Tt(b):new gn(b);if(T.g!="")g&&(T.g=g+"."+T.g),ys(T,T.u);else{var M=d.location;T=M.protocol,g=g?g+"."+M.hostname:M.hostname,M=+M.port;const H=new gn(null);T&&Ft(H,T),g&&(H.g=g),M&&ys(H,M),b&&(H.h=b),T=H}return b=c.G,g=c.wa,b&&g&&Ge(T,b,g),Ge(T,"VER",c.ka),Ai(c,T),T}function Vu(c,g,b){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new Ye(new br({ab:b})):new Ye(c.ma),g.Fa(c.L),g}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function $u(){}s=$u.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ss(){}Ss.prototype.g=function(c,g){return new sn(c,g)};function sn(c,g){wt.call(this),this.g=new xs(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!C(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!C(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Hr(this)}E(sn,wt),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Go(this.g)},sn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=gs(c),c=b);g.i.push(new xt(g.Ya++,c)),g.I==3&&Er(g)},sn.prototype.N=function(){this.g.l=null,delete this.j,Go(this.g),delete this.g,sn.Z.N.call(this)};function qu(c){Vt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const b in g){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}E(qu,Vt);function Hu(){_n.call(this),this.status=1}E(Hu,_n);function Hr(c){this.g=c}E(Hr,$u),Hr.prototype.ra=function(){Lt(this.g,"a")},Hr.prototype.qa=function(c){Lt(this.g,new qu(c))},Hr.prototype.pa=function(c){Lt(this.g,new Hu)},Hr.prototype.oa=function(){Lt(this.g,"b")},Ss.prototype.createWebChannel=Ss.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,d1=function(){return new Ss},h1=function(){return fa()},c1=mt,Pp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ei.NO_ERROR=0,Ei.TIMEOUT=8,Ei.HTTP_ERROR=6,ah=Ei,Oo.COMPLETE="complete",u1=Oo,Eu.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",wt.prototype.listen=wt.prototype.J,Fl=Eu,Ye.prototype.listenOnce=Ye.prototype.K,Ye.prototype.getLastError=Ye.prototype.Ha,Ye.prototype.getLastErrorCode=Ye.prototype.ya,Ye.prototype.getStatus=Ye.prototype.ca,Ye.prototype.getResponseJson=Ye.prototype.La,Ye.prototype.getResponseText=Ye.prototype.la,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Fa,l1=Ye}).apply(typeof Qc<"u"?Qc:typeof self<"u"?self:typeof window<"u"?window:{});/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let ko="12.8.0";function nC(s){ko=s}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Zi=new um("@firebase/firestore");function eo(){return Zi.logLevel}function ue(s,...e){if(Zi.logLevel<=Pe.DEBUG){const n=e.map(dm);Zi.debug(`Firestore (${ko}): ${s}`,...n)}}function ds(s,...e){if(Zi.logLevel<=Pe.ERROR){const n=e.map(dm);Zi.error(`Firestore (${ko}): ${s}`,...n)}}function fo(s,...e){if(Zi.logLevel<=Pe.WARN){const n=e.map(dm);Zi.warn(`Firestore (${ko}): ${s}`,...n)}}function dm(s){if(typeof s=="string")return s;try{return(function(e){return JSON.stringify(e)})(s)}catch{return s}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function be(s,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,f1(s,i,n)}function f1(s,e,n){let i=`FIRESTORE (${ko}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw ds(i),new Error(i)}function He(s,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,s||f1(e,o,i)}function Te(s,e){return s}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends zr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ii{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class p1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(en.UNAUTHENTICATED)))}shutdown(){}}class sC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class iC{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let i=this.i;const o=m=>this.i!==i?(i=this.i,n(m)):Promise.resolve();let u=new ii;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ii,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const m=u;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},p=m=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((m=>p(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ii)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(He(typeof i.accessToken=="string",31837,{l:i}),new p1(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class aC{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=en.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class oC{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new aC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class e0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const i=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>i(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new e0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new e0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function uC(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<s;i++)n[i]=Math.floor(256*Math.random());return n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=uC(40);for(let u=0;u<o.length;++u)i.length<20&&o[u]<n&&(i+=e.charAt(o[u]%62))}return i}}function De(s,e){return s<e?-1:s>e?1:0}function Dp(s,e){const n=Math.min(s.length,e.length);for(let i=0;i<n;i++){const o=s.charAt(i),u=e.charAt(i);if(o!==u)return gp(o)===gp(u)?De(o,u):gp(o)?1:-1}return De(s.length,e.length)}const cC=55296,hC=57343;function gp(s){const e=s.charCodeAt(0);return e>=cC&&e<=hC}function po(s,e,n){return s.length===e.length&&s.every(((i,o)=>n(i,e[o])))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const t0="__name__";class Cr{constructor(e,n,i){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&be(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Cr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cr?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const u=Cr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return De(e.length,n.length)}static compareSegments(e,n){const i=Cr.isNumericId(e),o=Cr.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?Cr.extractNumericId(e).compare(Cr.extractNumericId(n)):Dp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return si.fromString(e.substring(4,e.length-2))}}class rt extends Cr{construct(e,n,i){return new rt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new fe(te.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((o=>o.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const dC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Cr{construct(e,n,i){return new Wt(e,n,i)}static isValidIdentifier(e){return dC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===t0}static keyField(){return new Wt([t0])}static fromServerFormat(e){const n=[];let i="",o=0;const u=()=>{if(i.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new fe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new fe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(i+=p,o++):(u(),o++)}if(u(),d)throw new fe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ge{constructor(e){this.path=e}static fromPath(e){return new ge(rt.fromString(e))}static fromName(e){return new ge(rt.fromString(e).popFirst(5))}static empty(){return new ge(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new rt(e.slice()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function m1(s,e,n){if(!n)throw new fe(te.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function fC(s,e,n,i){if(e===!0&&i===!0)throw new fe(te.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function n0(s){if(!ge.isDocumentKey(s))throw new fe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function r0(s){if(ge.isDocumentKey(s))throw new fe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function g1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function pm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":be(12329,{type:typeof s})}function Yl(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new fe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pm(s);throw new fe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function At(s,e){const n={typeString:s};return e&&(n.value=e),n}function hu(s,e){if(!g1(s))throw new fe(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,u="value"in e[i]?{value:e[i].value}:void 0;if(!(i in s)){n=`JSON missing required field: '${i}'`;break}const d=s[i];if(o&&typeof d!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${i}' field to equal '${u.value}'`;break}}if(n)throw new fe(te.INVALID_ARGUMENT,n);return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const s0=-62135596800,i0=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*i0);return new st(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<s0)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/i0}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hu(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-s0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:At("string",st._jsonSchemaVersion),seconds:At("number"),nanoseconds:At("number")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new st(0,0))}static max(){return new Ee(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Jl=-1;function pC(s,e){const n=s.toTimestamp().seconds,i=s.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(i===1e9?new st(n+1,0):new st(n,i));return new ui(o,ge.empty(),e)}function mC(s){return new ui(s.readTime,s.key,Jl)}class ui{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ui(Ee.min(),ge.empty(),Jl)}static max(){return new ui(Ee.max(),ge.empty(),Jl)}}function gC(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(s.documentKey,e.documentKey),n!==0?n:De(s.largestBatchId,e.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Eo(s){if(s.code!==te.FAILED_PRECONDITION||s.message!==yC)throw s;ue("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((i,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(i,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,i)=>{n(e)}))}static reject(e){return new ee(((n,i)=>{i(e)}))}static waitFor(e){return new ee(((n,i)=>{let o=0,u=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++u,d&&u===o&&n()}),(m=>i(m)))})),d=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const i of e)n=n.next((o=>o?ee.resolve(o):i()));return n}static forEach(e,n){const i=[];return e.forEach(((o,u)=>{i.push(n.call(this,o,u))})),this.waitFor(i)}static mapArray(e,n){return new ee(((i,o)=>{const u=e.length,d=new Array(u);let p=0;for(let m=0;m<u;m++){const y=m;n(e[y]).next((k=>{d[y]=k,++p,p===u&&i(d)}),(k=>o(k)))}}))}static doWhile(e,n){return new ee(((i,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):i()};u()}))}}function bC(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xo(s){return s.name==="IndexedDbTransactionError"}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $h{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}$h.ce=-1;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const mm=-1;function qh(s){return s==null}function wh(s){return s===0&&1/s==-1/0}function wC(s){return typeof s=="number"&&Number.isInteger(s)&&!wh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const y1="";function kC(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=a0(e)),e=EC(s.get(n),e);return a0(e)}function EC(s,e){let n=e;const i=s.length;for(let o=0;o<i;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case y1:n+="";break;default:n+=u}}return n}function a0(s){return s+y1+""}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function o0(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function ia(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function v1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ct{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yc(this.root,e,this.comparator,!0)}}class Yc{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?i(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,i,o,u){this.key=e,this.value=n,this.color=i??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,u){return new Kt(e??this.key,n??this.value,i??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const u=i(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,i),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(s,e,n,i,o){return this}insert(s,e,n){return new Kt(s,e)}remove(s,e){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new l0(this.data.getIterator())}getIteratorFrom(e){return new l0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new jt(this.comparator);return n.data=e,n}}class l0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tr{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new tr([])}unionWith(e){let n=new jt(Wt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new tr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class b1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new b1("Invalid base64 string: "+o):o}})(e);return new Jt(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let u=0;u<i.length;++u)o+=String.fromCharCode(i[u]);return o})(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const xC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ci(s){if(He(!!s,39018),typeof s=="string"){let e=0;const n=xC.exec(s);if(He(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(s);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:bt(s.seconds),nanos:bt(s.nanos)}}function bt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function hi(s){return typeof s=="string"?Jt.fromBase64String(s):Jt.fromUint8Array(s)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const w1="server_timestamp",k1="__type__",E1="__previous_value__",x1="__local_write_time__";function gm(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)==null?void 0:e.fields)||{})[k1])==null?void 0:n.stringValue)===w1}function Hh(s){const e=s.mapValue.fields[E1];return gm(e)?Hh(e):e}function Xl(s){const e=ci(s.mapValue.fields[x1].timestampValue);return new st(e.seconds,e.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class TC{constructor(e,n,i,o,u,d,p,m,y,k,E){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=y,this.isUsingEmulator=k,this.apiKey=E}}const kh="(default)";class Zl{constructor(e,n){this.projectId=e,this.database=n||kh}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===kh}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}function SC(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new fe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(s.options.projectId,e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const T1="__type__",_C="__max__",Jc={mapValue:{}},S1="__vector__",Eh="value";function di(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?gm(s)?4:CC(s)?9007199254740991:NC(s)?10:11:be(28295,{value:s})}function Mr(s,e){if(s===e)return!0;const n=di(s);if(n!==di(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Xl(s).isEqual(Xl(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const u=ci(i.timestampValue),d=ci(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(i,o){return hi(i.bytesValue).isEqual(hi(o.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(i,o){return bt(i.geoPointValue.latitude)===bt(o.geoPointValue.latitude)&&bt(i.geoPointValue.longitude)===bt(o.geoPointValue.longitude)})(s,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return bt(i.integerValue)===bt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const u=bt(i.doubleValue),d=bt(o.doubleValue);return u===d?wh(u)===wh(d):isNaN(u)&&isNaN(d)}return!1})(s,e);case 9:return po(s.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:case 11:return(function(i,o){const u=i.mapValue.fields||{},d=o.mapValue.fields||{};if(o0(u)!==o0(d))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(d[p]===void 0||!Mr(u[p],d[p])))return!1;return!0})(s,e);default:return be(52216,{left:s})}}function eu(s,e){return(s.values||[]).find((n=>Mr(n,e)))!==void 0}function mo(s,e){if(s===e)return 0;const n=di(s),i=di(e);if(n!==i)return De(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(s.booleanValue,e.booleanValue);case 2:return(function(o,u){const d=bt(o.integerValue||o.doubleValue),p=bt(u.integerValue||u.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(s,e);case 3:return u0(s.timestampValue,e.timestampValue);case 4:return u0(Xl(s),Xl(e));case 5:return Dp(s.stringValue,e.stringValue);case 6:return(function(o,u){const d=hi(o),p=hi(u);return d.compareTo(p)})(s.bytesValue,e.bytesValue);case 7:return(function(o,u){const d=o.split("/"),p=u.split("/");for(let m=0;m<d.length&&m<p.length;m++){const y=De(d[m],p[m]);if(y!==0)return y}return De(d.length,p.length)})(s.referenceValue,e.referenceValue);case 8:return(function(o,u){const d=De(bt(o.latitude),bt(u.latitude));return d!==0?d:De(bt(o.longitude),bt(u.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return c0(s.arrayValue,e.arrayValue);case 10:return(function(o,u){var d,p,m,y;const k=o.fields||{},E=u.fields||{},A=(d=k[Eh])==null?void 0:d.arrayValue,q=(p=E[Eh])==null?void 0:p.arrayValue,V=De(((m=A==null?void 0:A.values)==null?void 0:m.length)||0,((y=q==null?void 0:q.values)==null?void 0:y.length)||0);return V!==0?V:c0(A,q)})(s.mapValue,e.mapValue);case 11:return(function(o,u){if(o===Jc.mapValue&&u===Jc.mapValue)return 0;if(o===Jc.mapValue)return 1;if(u===Jc.mapValue)return-1;const d=o.fields||{},p=Object.keys(d),m=u.fields||{},y=Object.keys(m);p.sort(),y.sort();for(let k=0;k<p.length&&k<y.length;++k){const E=Dp(p[k],y[k]);if(E!==0)return E;const A=mo(d[p[k]],m[y[k]]);if(A!==0)return A}return De(p.length,y.length)})(s.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function u0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return De(s,e);const n=ci(s),i=ci(e),o=De(n.seconds,i.seconds);return o!==0?o:De(n.nanos,i.nanos)}function c0(s,e){const n=s.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const u=mo(n[o],i[o]);if(u)return u}return De(n.length,i.length)}function go(s){return jp(s)}function jp(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(e){const n=ci(e);return`time(${n.seconds},${n.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(e){return hi(e).toBase64()})(s.bytesValue):"referenceValue"in s?(function(e){return ge.fromName(e).toString()})(s.referenceValue):"geoPointValue"in s?(function(e){return`geo(${e.latitude},${e.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(e){let n="[",i=!0;for(const o of e.values||[])i?i=!1:n+=",",n+=jp(o);return n+"]"})(s.arrayValue):"mapValue"in s?(function(e){const n=Object.keys(e.fields||{}).sort();let i="{",o=!0;for(const u of n)o?o=!1:i+=",",i+=`${u}:${jp(e.fields[u])}`;return i+"}"})(s.mapValue):be(61005,{value:s})}function oh(s){switch(di(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hh(s);return e?16+oh(e):16;case 5:return 2*s.stringValue.length;case 6:return hi(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,o)=>i+oh(o)),0)})(s.arrayValue);case 10:case 11:return(function(n){let i=0;return ia(n.fields,((o,u)=>{i+=o.length+oh(u)})),i})(s.mapValue);default:throw be(13486,{value:s})}}function Mp(s){return!!s&&"integerValue"in s}function ym(s){return!!s&&"arrayValue"in s}function h0(s){return!!s&&"nullValue"in s}function d0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function lh(s){return!!s&&"mapValue"in s}function NC(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)==null?void 0:e.fields)||{})[T1])==null?void 0:n.stringValue)===S1}function $l(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return ia(s.mapValue.fields,((n,i)=>e.mapValue.fields[n]=$l(i))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$l(s.arrayValue.values[n]);return e}return{...s}}function CC(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===_C}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!lh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(n)}setAll(e){let n=Wt.emptyPath(),i={},o=[];e.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const m=this.getFieldsMap(n);this.applyChanges(m,i,o),i={},o=[],n=p.popLast()}d?i[p.lastSegment()]=$l(d):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,i,o)}delete(e){const n=this.field(e.popLast());lh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];lh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){ia(n,((o,u)=>e[o]=u));for(const o of i)delete e[o]}clone(){return new Un($l(this.value))}}function _1(s){const e=[];return ia(s.fields,((n,i)=>{const o=new Wt([n]);if(lh(i)){const u=_1(i.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)})),new tr(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tn{constructor(e,n,i,o,u,d,p){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(e){return new tn(e,0,Ee.min(),Ee.min(),Ee.min(),Un.empty(),0)}static newFoundDocument(e,n,i,o){return new tn(e,1,n,Ee.min(),i,o,0)}static newNoDocument(e,n){return new tn(e,2,n,Ee.min(),Ee.min(),Un.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,Ee.min(),Ee.min(),Un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xh{constructor(e,n){this.position=e,this.inclusive=n}}function f0(s,e,n){let i=0;for(let o=0;o<s.position.length;o++){const u=e[o],d=s.position[o];if(u.field.isKeyField()?i=ge.comparator(ge.fromName(d.referenceValue),n.key):i=mo(d,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function p0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Mr(s.position[n],e.position[n]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Th{constructor(e,n="asc"){this.field=e,this.dir=n}}function IC(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class N1{}class Dt extends N1{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new RC(e,n,i):n==="array-contains"?new PC(e,i):n==="in"?new DC(e,i):n==="not-in"?new jC(e,i):n==="array-contains-any"?new MC(e,i):new Dt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new OC(e,i):new LC(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(mo(n,this.value)):n!==null&&di(this.value)===di(n)&&this.matchesComparison(mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fr extends N1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Fr(e,n)}matches(e){return C1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function C1(s){return s.op==="and"}function I1(s){return AC(s)&&C1(s)}function AC(s){for(const e of s.filters)if(e instanceof Fr)return!1;return!0}function Fp(s){if(s instanceof Dt)return s.field.canonicalString()+s.op.toString()+go(s.value);if(I1(s))return s.filters.map((e=>Fp(e))).join(",");{const e=s.filters.map((n=>Fp(n))).join(",");return`${s.op}(${e})`}}function A1(s,e){return s instanceof Dt?(function(n,i){return i instanceof Dt&&n.op===i.op&&n.field.isEqual(i.field)&&Mr(n.value,i.value)})(s,e):s instanceof Fr?(function(n,i){return i instanceof Fr&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((o,u,d)=>o&&A1(u,i.filters[d])),!0):!1})(s,e):void be(19439)}function R1(s){return s instanceof Dt?(function(e){return`${e.field.canonicalString()} ${e.op} ${go(e.value)}`})(s):s instanceof Fr?(function(e){return e.op.toString()+" {"+e.getFilters().map(R1).join(" ,")+"}"})(s):"Filter"}class RC extends Dt{constructor(e,n,i){super(e,n,i),this.key=ge.fromName(i.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class OC extends Dt{constructor(e,n){super(e,"in",n),this.keys=O1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class LC extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=O1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function O1(s,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((i=>ge.fromName(i.referenceValue)))}class PC extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ym(n)&&eu(n.arrayValue,this.value)}}class DC extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&eu(this.value.arrayValue,n)}}class jC extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!eu(this.value.arrayValue,n)}}class MC extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ym(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>eu(this.value.arrayValue,i)))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class FC{constructor(e,n=null,i=[],o=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function m0(s,e=null,n=[],i=[],o=null,u=null,d=null){return new FC(s,e,n,i,o,u,d)}function vm(s){const e=Te(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>Fp(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),qh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>go(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>go(i))).join(",")),e.Te=n}return e.Te}function bm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!IC(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!A1(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!p0(s.startAt,e.startAt)&&p0(s.endAt,e.endAt)}function Up(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Bh{constructor(e,n=null,i=[],o=[],u=null,d="F",p=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function UC(s,e,n,i,o,u,d,p){return new Bh(s,e,n,i,o,u,d,p)}function L1(s){return new Bh(s)}function g0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function zC(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function VC(s){return s.collectionGroup!==null}function ql(s){const e=Te(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new jt(Wt.comparator);return o.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(u=u.add(p.field))}))})),u})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Th(o,i))})),n.has(Wt.keyField().canonicalString())||e.Ie.push(new Th(Wt.keyField(),i))}return e.Ie}function Rr(s){const e=Te(s);return e.Ee||(e.Ee=$C(e,ql(s))),e.Ee}function $C(s,e){if(s.limitType==="F")return m0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Th(o.field,u)}));const n=s.endAt?new xh(s.endAt.position,s.endAt.inclusive):null,i=s.startAt?new xh(s.startAt.position,s.startAt.inclusive):null;return m0(s.path,s.collectionGroup,e,s.filters,s.limit,n,i)}}function zp(s,e,n){return new Bh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Gh(s,e){return bm(Rr(s),Rr(e))&&s.limitType===e.limitType}function P1(s){return`${vm(Rr(s))}|lt:${s.limitType}`}function to(s){return`Query(target=${(function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map((i=>R1(i))).join(", ")}]`),qh(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>go(i))).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>go(i))).join(",")),`Target(${n})`})(Rr(s))}; limitType=${s.limitType})`}function Kh(s,e){return e.isFoundDocument()&&(function(n,i){const o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):ge.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)})(s,e)&&(function(n,i){for(const o of ql(n))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(s,e)&&(function(n,i){for(const o of n.filters)if(!o.matches(i))return!1;return!0})(s,e)&&(function(n,i){return!(n.startAt&&!(function(o,u,d){const p=f0(o,u,d);return o.inclusive?p<=0:p<0})(n.startAt,ql(n),i)||n.endAt&&!(function(o,u,d){const p=f0(o,u,d);return o.inclusive?p>=0:p>0})(n.endAt,ql(n),i))})(s,e)}function qC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function D1(s){return(e,n)=>{let i=!1;for(const o of ql(s)){const u=HC(o,e,n);if(u!==0)return u;i=i||o.field.isKeyField()}return 0}}function HC(s,e,n){const i=s.field.isKeyField()?ge.comparator(e.key,n.key):(function(o,u,d){const p=u.data.field(o),m=d.data.field(o);return p!==null&&m!==null?mo(p,m):be(42886)})(s.field,e,n);switch(s.dir){case"asc":return i;case"desc":return-1*i;default:return be(19790,{direction:s.dir})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class aa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,u]of i)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ia(this.inner,((n,i)=>{for(const[o,u]of i)e(o,u)}))}isEmpty(){return v1(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const BC=new ct(ge.comparator);function fs(){return BC}const j1=new ct(ge.comparator);function Ul(...s){let e=j1;for(const n of s)e=e.insert(n.key,n);return e}function M1(s){let e=j1;return s.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Qi(){return Hl()}function F1(){return Hl()}function Hl(){return new aa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const GC=new ct(ge.comparator),KC=new jt(ge.comparator);function je(...s){let e=KC;for(const n of s)e=e.add(n);return e}const WC=new jt(De);function QC(){return WC}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function wm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(e)?"-0":e}}function U1(s){return{integerValue:""+s}}function YC(s,e){return wC(e)?U1(e):wm(s,e)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Wh{constructor(){this._=void 0}}function JC(s,e,n){return s instanceof Sh?(function(i,o){const u={fields:{[k1]:{stringValue:w1},[x1]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&gm(o)&&(o=Hh(o)),o&&(u.fields[E1]=o),{mapValue:u}})(n,e):s instanceof tu?V1(s,e):s instanceof nu?$1(s,e):(function(i,o){const u=z1(i,o),d=y0(u)+y0(i.Ae);return Mp(u)&&Mp(i.Ae)?U1(d):wm(i.serializer,d)})(s,e)}function XC(s,e,n){return s instanceof tu?V1(s,e):s instanceof nu?$1(s,e):n}function z1(s,e){return s instanceof _h?(function(n){return Mp(n)||(function(i){return!!i&&"doubleValue"in i})(n)})(e)?e:{integerValue:0}:null}class Sh extends Wh{}class tu extends Wh{constructor(e){super(),this.elements=e}}function V1(s,e){const n=q1(e);for(const i of s.elements)n.some((o=>Mr(o,i)))||n.push(i);return{arrayValue:{values:n}}}class nu extends Wh{constructor(e){super(),this.elements=e}}function $1(s,e){let n=q1(e);for(const i of s.elements)n=n.filter((o=>!Mr(o,i)));return{arrayValue:{values:n}}}class _h extends Wh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function y0(s){return bt(s.integerValue||s.doubleValue)}function q1(s){return ym(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function ZC(s,e){return s.field.isEqual(e.field)&&(function(n,i){return n instanceof tu&&i instanceof tu||n instanceof nu&&i instanceof nu?po(n.elements,i.elements,Mr):n instanceof _h&&i instanceof _h?Mr(n.Ae,i.Ae):n instanceof Sh&&i instanceof Sh})(s.transform,e.transform)}class eI{constructor(e,n){this.version=e,this.transformResults=n}}class Or{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Qh{}function H1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new km(s.key,Or.none()):new du(s.key,s.data,Or.none());{const n=s.data,i=Un.empty();let o=new jt(Wt.comparator);for(let u of e.fields)if(!o.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?i.delete(u):i.set(u,d),o=o.add(u)}return new oa(s.key,i,new tr(o.toArray()),Or.none())}}function tI(s,e,n){s instanceof du?(function(i,o,u){const d=i.value.clone(),p=b0(i.fieldTransforms,o,u.transformResults);d.setAll(p),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(s,e,n):s instanceof oa?(function(i,o,u){if(!uh(i.precondition,o))return void o.convertToUnknownDocument(u.version);const d=b0(i.fieldTransforms,o,u.transformResults),p=o.data;p.setAll(B1(i)),p.setAll(d),o.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(s,e,n):(function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Bl(s,e,n,i){return s instanceof du?(function(o,u,d,p){if(!uh(o.precondition,u))return d;const m=o.value.clone(),y=w0(o.fieldTransforms,p,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(s,e,n,i):s instanceof oa?(function(o,u,d,p){if(!uh(o.precondition,u))return d;const m=w0(o.fieldTransforms,p,u),y=u.data;return y.setAll(B1(o)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((k=>k.field)))})(s,e,n,i):(function(o,u,d){return uh(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(s,e,n)}function nI(s,e){let n=null;for(const i of s.fieldTransforms){const o=e.data.field(i.field),u=z1(i.transform,o||null);u!=null&&(n===null&&(n=Un.empty()),n.set(i.field,u))}return n||null}function v0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&po(n,i,((o,u)=>ZC(o,u)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class du extends Qh{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class oa extends Qh{constructor(e,n,i,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function B1(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=s.data.field(n);e.set(n,i)}})),e}function b0(s,e,n){const i=new Map;He(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let o=0;o<n.length;o++){const u=s[o],d=u.transform,p=e.data.field(u.field);i.set(u.field,XC(d,p,n[o]))}return i}function w0(s,e,n){const i=new Map;for(const o of s){const u=o.transform,d=n.data.field(o.field);i.set(o.field,JC(u,d,e))}return i}class km extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rI extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sI{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&tI(u,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Bl(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Bl(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=F1();return this.mutations.forEach((o=>{const u=e.get(o.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=n.has(o.key)?null:p;const m=H1(d,p);m!==null&&i.set(o.key,m),d.isValidDocument()||d.convertToNoDocument(Ee.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),je())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,((n,i)=>v0(n,i)))&&po(this.baseMutations,e.baseMutations,((n,i)=>v0(n,i)))}}class Em{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){He(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return GC})();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,i[d].version);return new Em(e,n,i,o)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class iI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class aI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var It,Ue;function oI(s){switch(s){case te.OK:return be(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return be(15467,{code:s})}}function G1(s){if(s===void 0)return ds("GRPC error has no .code"),te.UNKNOWN;switch(s){case It.OK:return te.OK;case It.CANCELLED:return te.CANCELLED;case It.UNKNOWN:return te.UNKNOWN;case It.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case It.INTERNAL:return te.INTERNAL;case It.UNAVAILABLE:return te.UNAVAILABLE;case It.UNAUTHENTICATED:return te.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case It.NOT_FOUND:return te.NOT_FOUND;case It.ALREADY_EXISTS:return te.ALREADY_EXISTS;case It.PERMISSION_DENIED:return te.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case It.ABORTED:return te.ABORTED;case It.OUT_OF_RANGE:return te.OUT_OF_RANGE;case It.UNIMPLEMENTED:return te.UNIMPLEMENTED;case It.DATA_LOSS:return te.DATA_LOSS;default:return be(39323,{code:s})}}(Ue=It||(It={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function lI(){return new TextEncoder}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const uI=new si([4294967295,4294967295],0);function k0(s){const e=lI().encode(s),n=new o1;return n.update(e),new Uint8Array(n.digest())}function E0(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new si([n,i],0),new si([o,u],0)]}class xm{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new zl(`Invalid padding: ${n}`);if(i<0)throw new zl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new zl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=si.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(si.fromNumber(i)));return o.compare(uI)===1&&(o=new si([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=k0(e),[i,o]=E0(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(i,o,u);if(!this.we(d))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new xm(u,o,n);return i.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const n=k0(e),[i,o]=E0(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(i,o,u);this.be(d)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yh{constructor(e,n,i,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Yh(Ee.min(),o,new ct(De),fs(),je())}}class fu{constructor(e,n,i,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new fu(i,n,je(),je(),je())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ch{constructor(e,n,i,o){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=o}}class K1{constructor(e,n){this.targetId=e,this.Ce=n}}class W1{constructor(e,n,i=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class x0{constructor(){this.ve=0,this.Fe=T0(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),n=je(),i=je();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:be(38017,{changeType:u})}})),new fu(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=T0()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class cI{constructor(e){this.Ge=e,this.ze=new Map,this.je=fs(),this.He=Xc(),this.Je=Xc(),this.Ze=new ct(De)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Up(u))if(i===0){const d=new ge(u.path);this.et(n,d,tn.newNoDocument(d,Ee.min()))}else He(i===1,20013,{expectedCount:i});else{const d=this._t(n);if(d!==i){const p=this.ut(e),m=p?this.ct(p,e,d):1;if(m!==0){this.it(n);const y=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:u=0}=n;let d,p;try{d=hi(i).toUint8Array()}catch(m){if(m instanceof b1)return fo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new xm(d,o,u)}catch(m){return fo(m instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.ge===0?null:p}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&Up(p.target)){const m=new ge(p.target.path);this.It(m).has(d)||this.Et(d,m)||this.et(d,m,tn.newNoDocument(m,e))}u.Be&&(n.set(d,u.ke()),u.Ke())}}));let i=je();this.Je.forEach(((u,d)=>{let p=!0;d.forEachWhile((m=>{const y=this.ot(m);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(i=i.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const o=new Yh(e,n,this.Ze,this.je,i);return this.je=fs(),this.He=Xc(),this.Je=Xc(),this.Ze=new ct(De),o}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new x0,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new jt(De),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new jt(De),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new x0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Xc(){return new ct(ge.comparator)}function T0(){return new ct(ge.comparator)}const hI={asc:"ASCENDING",desc:"DESCENDING"},dI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fI={and:"AND",or:"OR"};class pI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vp(s,e){return s.useProto3Json||qh(e)?e:{value:e}}function Nh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Q1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function mI(s,e){return Nh(s,e.toTimestamp())}function Lr(s){return He(!!s,49232),Ee.fromTimestamp((function(e){const n=ci(e);return new st(n.seconds,n.nanos)})(s))}function Tm(s,e){return $p(s,e).canonicalString()}function $p(s,e){const n=(function(i){return new rt(["projects",i.projectId,"databases",i.database])})(s).child("documents");return e===void 0?n:n.child(e)}function Y1(s){const e=rt.fromString(s);return He(tk(e),10190,{key:e.toString()}),e}function qp(s,e){return Tm(s.databaseId,e.path)}function yp(s,e){const n=Y1(e);if(n.get(1)!==s.databaseId.projectId)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ge(X1(n))}function J1(s,e){return Tm(s.databaseId,e)}function gI(s){const e=Y1(s);return e.length===4?rt.emptyPath():X1(e)}function Hp(s){return new rt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function X1(s){return He(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function S0(s,e,n){return{name:qp(s,e),fields:n.value.mapValue.fields}}function yI(s,e){let n;if("targetChange"in e){e.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:be(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(m,y){return m.useProto3Json?(He(y===void 0||typeof y=="string",58123),Jt.fromBase64String(y||"")):(He(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Jt.fromUint8Array(y||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(m){const y=m.code===void 0?te.UNKNOWN:G1(m.code);return new fe(y,m.message||"")})(d);n=new W1(i,o,u,p||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=yp(s,i.document.name),u=Lr(i.document.updateTime),d=i.document.createTime?Lr(i.document.createTime):Ee.min(),p=new Un({mapValue:{fields:i.document.fields}}),m=tn.newFoundDocument(o,u,d,p),y=i.targetIds||[],k=i.removedTargetIds||[];n=new ch(y,k,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=yp(s,i.document),u=i.readTime?Lr(i.readTime):Ee.min(),d=tn.newNoDocument(o,u),p=i.removedTargetIds||[];n=new ch([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=yp(s,i.document),u=i.removedTargetIds||[];n=new ch([],u,o,null)}else{if(!("filter"in e))return be(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:u}=i,d=new aI(o,u),p=i.targetId;n=new K1(p,d)}}return n}function vI(s,e){let n;if(e instanceof du)n={update:S0(s,e.key,e.value)};else if(e instanceof km)n={delete:qp(s,e.key)};else if(e instanceof oa)n={update:S0(s,e.key,e.data),updateMask:NI(e.fieldMask)};else{if(!(e instanceof rI))return be(16599,{dt:e.type});n={verify:qp(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(o,u){const d=u.transform;if(d instanceof Sh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof tu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof nu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof _h)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw be(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:mI(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:be(27497)})(s,e.precondition)),n}function bI(s,e){return s&&s.length>0?(He(e!==void 0,14353),s.map((n=>(function(i,o){let u=i.updateTime?Lr(i.updateTime):Lr(o);return u.isEqual(Ee.min())&&(u=Lr(o)),new eI(u,i.transformResults||[])})(n,e)))):[]}function wI(s,e){return{documents:[J1(s,e.path)]}}function kI(s,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=J1(s,o);const u=(function(m){if(m.length!==0)return ek(Fr.create(m,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(m){if(m.length!==0)return m.map((y=>(function(k){return{field:no(k.field),direction:TI(k.dir)}})(y)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=Vp(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:o}}function EI(s){let e=gI(s.parent);const n=s.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){He(i===1,65062);const k=n.from[0];k.allDescendants?o=k.collectionId:e=e.child(k.collectionId)}let u=[];n.where&&(u=(function(k){const E=Z1(k);return E instanceof Fr&&I1(E)?E.getFilters():[E]})(n.where));let d=[];n.orderBy&&(d=(function(k){return k.map((E=>(function(A){return new Th(ro(A.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(E)))})(n.orderBy));let p=null;n.limit&&(p=(function(k){let E;return E=typeof k=="object"?k.value:k,qh(E)?null:E})(n.limit));let m=null;n.startAt&&(m=(function(k){const E=!!k.before,A=k.values||[];return new xh(A,E)})(n.startAt));let y=null;return n.endAt&&(y=(function(k){const E=!k.before,A=k.values||[];return new xh(A,E)})(n.endAt)),UC(e,o,d,u,p,"F",m,y)}function xI(s,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Z1(s){return s.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=ro(e.unaryFilter.field);return Dt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=ro(e.unaryFilter.field);return Dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ro(e.unaryFilter.field);return Dt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ro(e.unaryFilter.field);return Dt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(s):s.fieldFilter!==void 0?(function(e){return Dt.create(ro(e.fieldFilter.field),(function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(e){return Fr.create(e.compositeFilter.filters.map((n=>Z1(n))),(function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(e.compositeFilter.op))})(s):be(30097,{filter:s})}function TI(s){return hI[s]}function SI(s){return dI[s]}function _I(s){return fI[s]}function no(s){return{fieldPath:s.canonicalString()}}function ro(s){return Wt.fromServerFormat(s.fieldPath)}function ek(s){return s instanceof Dt?(function(e){if(e.op==="=="){if(d0(e.value))return{unaryFilter:{field:no(e.field),op:"IS_NAN"}};if(h0(e.value))return{unaryFilter:{field:no(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(d0(e.value))return{unaryFilter:{field:no(e.field),op:"IS_NOT_NAN"}};if(h0(e.value))return{unaryFilter:{field:no(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(e.field),op:SI(e.op),value:e.value}}})(s):s instanceof Fr?(function(e){const n=e.getFilters().map((i=>ek(i)));return n.length===1?n[0]:{compositeFilter:{op:_I(e.op),filters:n}}})(s):be(54877,{filter:s})}function NI(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function tk(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function nk(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ti{constructor(e,n,i,o,u=Ee.min(),d=Ee.min(),p=Jt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new ti(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class CI{constructor(e){this.yt=e}}function II(s){const e=EI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?zp(e,e.limit,"L"):e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class AI{constructor(){this.Sn=new RI}addToCollectionParentIndex(e,n){return this.Sn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(ui.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(ui.min())}updateCollectionGroup(e,n,i){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class RI{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new jt(rt.comparator),u=!o.has(i);return this.index[n]=o.add(i),u}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new jt(rt.comparator)).toArray()}}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rk=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(rk,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class yo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new yo(0)}static ar(){return new yo(-1)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const N0="LruGarbageCollector",OI=1048576;function C0([s,e],[n,i]){const o=De(s,n);return o===0?De(e,i):o}class LI{constructor(e){this.Pr=e,this.buffer=new jt(C0),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();C0(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class PI{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ue(N0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xo(n)?ue(N0,"Ignoring IndexedDB error during garbage collection: ",n):await Eo(n)}await this.Ar(3e5)}))}}class DI{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve($h.ce);const i=new LI(n);return this.Vr.forEachTarget(e,(o=>i.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>i.Er(o))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(_0)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_0):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,o,u,d,p,m,y;const k=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,d=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(i=E,p=Date.now(),this.removeTargets(e,i,n)))).next((E=>(u=E,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(y=Date.now(),eo()<=Pe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-k}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${u} targets in `+(m-p)+`ms
	Removed ${E} documents in `+(y-m)+`ms
Total Duration: ${y-k}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E}))))}}function jI(s,e){return new DI(s,e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class MI{constructor(){this.changes=new aa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ee.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class FI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class UI{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(i!==null&&Bl(i.mutation,o,tr.empty(),st.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,je()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=je()){const o=Qi();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,i).next((u=>{let d=Ul();return u.forEach(((p,m)=>{d=d.insert(p,m.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const i=Qi();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,je())))}populateOverlays(e,n,i){const o=[];return i.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(e,n,i,o){let u=fs();const d=Hl(),p=(function(){return Hl()})();return n.forEach(((m,y)=>{const k=i.get(y.key);o.has(y.key)&&(k===void 0||k.mutation instanceof oa)?u=u.insert(y.key,y):k!==void 0?(d.set(y.key,k.mutation.getFieldMask()),Bl(k.mutation,y,k.mutation.getFieldMask(),st.now())):d.set(y.key,tr.empty())})),this.recalculateAndSaveOverlays(e,u).next((m=>(m.forEach(((y,k)=>d.set(y,k))),n.forEach(((y,k)=>p.set(y,new FI(k,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const i=Hl();let o=new ct(((d,p)=>d-p)),u=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const p of d)p.keys().forEach((m=>{const y=n.get(m);if(y===null)return;let k=i.get(m)||tr.empty();k=p.applyToLocalView(y,k),i.set(m,k);const E=(o.get(p.batchId)||je()).add(m);o=o.insert(p.batchId,E)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),y=m.key,k=m.value,E=F1();k.forEach((A=>{if(!u.has(A)){const q=H1(n.get(A),i.get(A));q!==null&&E.set(A,q),u=u.add(A)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,E))}return ee.waitFor(d)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,o){return zC(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):VC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next((u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-u.size):ee.resolve(Qi());let p=Jl,m=u;return d.next((y=>ee.forEach(y,((k,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),u.get(k)?ee.resolve():this.remoteDocumentCache.getEntry(e,k).next((A=>{m=m.insert(k,A)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,m,y,je()))).next((k=>({batchId:p,changes:M1(k)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((i=>{let o=Ul();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const u=n.collectionGroup;let d=Ul();return this.indexManager.getCollectionParents(e,u).next((p=>ee.forEach(p,(m=>{const y=(function(k,E){return new Bh(E,null,k.explicitOrderBy.slice(),k.filters.slice(),k.limit,k.limitType,k.startAt,k.endAt)})(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next((k=>{k.forEach(((E,A)=>{d=d.insert(E,A)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,i,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,u,o)))).next((d=>{u.forEach(((m,y)=>{const k=y.getKey();d.get(k)===null&&(d=d.insert(k,tn.newInvalidDocument(k)))}));let p=Ul();return d.forEach(((m,y)=>{const k=u.get(m);k!==void 0&&Bl(k.mutation,y,tr.empty(),st.now()),Kh(n,y)&&(p=p.insert(m,y))})),p}))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zI{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ee.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Lr(i.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:II(i.bundledQuery),readTime:Lr(i.readTime)}})(n)),ee.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class VI{constructor(){this.overlays=new ct(ge.comparator),this.Lr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Qi();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&i.set(o,u)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((o,u)=>{this.bt(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.Lr.get(i);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(i)),ee.resolve()}getOverlaysForCollection(e,n,i){const o=Qi(),u=n.length+1,d=new ge(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const m=p.getNext().value,y=m.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&m.largestBatchId>i&&o.set(m.getKey(),m)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let u=new ct(((y,k)=>y-k));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>i){let k=u.get(y.largestBatchId);k===null&&(k=Qi(),u=u.insert(y.largestBatchId,k)),k.set(y.getKey(),y)}}const p=Qi(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((y,k)=>p.set(y,k))),!(p.size()>=o)););return ee.resolve(p)}bt(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(i.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new iI(n,i));let u=this.Lr.get(n);u===void 0&&(u=je(),this.Lr.set(n,u)),this.Lr.set(n,u.add(i.key))}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $I{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Sm{constructor(){this.kr=new jt(zt.Kr),this.qr=new jt(zt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new zt(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new zt(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new ge(new rt([])),i=new zt(n,e),o=new zt(n,e+1),u=[];return this.qr.forEachInRange([i,o],(d=>{this.Wr(d),u.push(d.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ge(new rt([])),i=new zt(n,e),o=new zt(n,e+1);let u=je();return this.qr.forEachInRange([i,o],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new zt(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class zt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ge.comparator(e.key,n.key)||De(e.Hr,n.Hr)}static Ur(e,n){return De(e.Hr,n.Hr)||ge.comparator(e.key,n.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new jt(zt.Kr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new sI(u,n,i,o);this.mutationQueue.push(d);for(const p of o)this.Jr=this.Jr.add(new zt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ee.resolve(d)}lookupMutationBatch(e,n){return ee.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.Xr(i),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?mm:this.Yn-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([i,o],(d=>{const p=this.Zr(d.Hr);u.push(p)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new jt(De);return n.forEach((o=>{const u=new zt(o,0),d=new zt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,d],(p=>{i=i.add(p.Hr)}))})),ee.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let u=i;ge.isDocumentKey(u)||(u=u.child(""));const d=new zt(new ge(u),0);let p=new jt(De);return this.Jr.forEachWhile((m=>{const y=m.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(p=p.add(m.Hr)),!0)}),d),ee.resolve(this.Yr(p))}Yr(e){const n=[];return e.forEach((i=>{const o=this.Zr(i);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){He(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return ee.forEach(n.mutations,(o=>{const u=new zt(o.key,n.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new zt(n,0),o=this.Jr.firstAfterOrEqual(i);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class HI{constructor(e){this.ti=e,this.docs=(function(){return new ct(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),u=o?o.size:0,d=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ee.resolve(i?i.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let i=fs();return n.forEach((o=>{const u=this.docs.get(o);i=i.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))})),ee.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let u=fs();const d=n.path,p=new ge(d.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:y,value:{document:k}}=m.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||gC(mC(k),i)<=0||(o.has(k.key)||Kh(n,k))&&(u=u.insert(k.key,k.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,i,o){be(9500)}ni(e,n){return ee.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new BI(this)}getSize(e){return ee.resolve(this.size)}}class BI extends MI{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(i)})),ee.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class GI{constructor(e){this.persistence=e,this.ri=new aa((n=>vm(n)),bm),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.ii=0,this.si=new Sm,this.targetCount=0,this.oi=yo._r()}forEachTarget(e,n){return this.ri.forEach(((i,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),ee.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new yo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.lr(n),ee.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,i){let o=0;const u=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=n&&i.get(p.targetId)===null&&(this.ri.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return ee.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),ee.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((d=>{u.push(o.markPotentiallyOrphaned(e,d))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return ee.resolve(i)}containsKey(e,n){return ee.resolve(this.si.containsKey(n))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sk{constructor(e,n){this._i={},this.overlays={},this.ai=new $h(0),this.ui=!1,this.ui=!0,this.ci=new $I,this.referenceDelegate=e(this),this.li=new GI(this),this.indexManager=new AI,this.remoteDocumentCache=(function(i){return new HI(i)})((i=>this.referenceDelegate.hi(i))),this.serializer=new CI(n),this.Pi=new zI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new qI(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){ue("MemoryPersistence","Starting transaction:",e);const o=new KI(this.ai.next());return this.referenceDelegate.Ti(),i(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ee.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class KI extends vC{constructor(e){super(),this.currentSequenceNumber=e}}class _m{constructor(e){this.persistence=e,this.Ri=new Sm,this.Ai=null}static Vi(e){return new _m(e)}get di(){if(this.Ai)return this.Ai;throw be(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),ee.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.di,(i=>{const o=ge.fromPath(i);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Ee.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Ch{constructor(e,n){this.persistence=e,this.fi=new aa((i=>kC(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=jI(this,n)}static Vi(e,n){return new Ch(e,n)}Ti(){}Ii(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((o=>i+o))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return ee.forEach(this.fi,((i,o)=>this.wr(e,i,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,n).next((p=>{p||(i++,u.removeEntry(d,Ee.min()))})))).next((()=>u.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=oh(e.data.value)),n}wr(e,n,i){return ee.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ee.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Nm{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=o}static Es(e,n){let i=je(),o=je();for(const u of n.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Nm(e,n.fromCache,i,o)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class WI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class QI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return F_()?8:bC(nn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const u={result:null};return this.gs(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ps(e,n,o,i).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new WI;return this.ys(e,n,d).next((p=>{if(u.result=p,this.As)return this.ws(e,n,d,p.size)}))})).next((()=>u.result))}ws(e,n,i,o){return i.documentReadCount<this.Vs?(eo()<=Pe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",to(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ee.resolve()):(eo()<=Pe.DEBUG&&ue("QueryEngine","Query:",to(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ds*o?(eo()<=Pe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",to(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rr(n))):ee.resolve())}gs(e,n){if(g0(n))return ee.resolve(null);let i=Rr(n);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=zp(n,null,"F"),i=Rr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((u=>{const d=je(...u);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,i).next((m=>{const y=this.bs(n,p);return this.Ss(n,y,d,m.readTime)?this.gs(e,zp(n,null,"F")):this.Ds(e,y,n,m)}))))})))))}ps(e,n,i,o){return g0(n)||o.isEqual(Ee.min())?ee.resolve(null):this.fs.getDocuments(e,i).next((u=>{const d=this.bs(n,u);return this.Ss(n,d,i,o)?ee.resolve(null):(eo()<=Pe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),to(n)),this.Ds(e,d,n,pC(o,Jl)).next((p=>p)))}))}bs(e,n){let i=new jt(D1(e));return n.forEach(((o,u)=>{Kh(e,u)&&(i=i.add(u))})),i}Ss(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,i){return eo()<=Pe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",to(n)),this.fs.getDocumentsMatchingQuery(e,n,ui.min(),i)}Ds(e,n,i,o){return this.fs.getDocumentsMatchingQuery(e,i,o).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Cm="LocalStore",YI=3e8;class JI{constructor(e,n,i,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ct(De),this.Fs=new aa((u=>vm(u)),bm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function XI(s,e,n,i){return new JI(s,e,n,i)}async function ik(s,e){const n=Te(s);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((u=>{const d=[],p=[];let m=je();for(const y of o){d.push(y.batchId);for(const k of y.mutations)m=m.add(k.key)}for(const y of u){p.push(y.batchId);for(const k of y.mutations)m=m.add(k.key)}return n.localDocuments.getDocuments(i,m).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function ZI(s,e){const n=Te(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,p,m,y){const k=m.batch,E=k.keys();let A=ee.resolve();return E.forEach((q=>{A=A.next((()=>y.getEntry(p,q))).next((V=>{const K=m.docVersions.get(q);He(K!==null,48541),V.version.compareTo(K)<0&&(k.applyToRemoteDocument(V,m),V.isValidDocument()&&(V.setReadTime(m.commitVersion),y.addEntry(V)))}))})),A.next((()=>d.mutationQueue.removeMutationBatch(p,k)))})(n,i,e,u).next((()=>u.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let p=je();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(p=p.add(d.batch.mutations[m].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(i,o)))}))}function ak(s){const e=Te(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function eA(s,e){const n=Te(s),i=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const p=[];e.targetChanges.forEach(((k,E)=>{const A=o.get(E);if(!A)return;p.push(n.li.removeMatchingKeys(u,k.removedDocuments,E).next((()=>n.li.addMatchingKeys(u,k.addedDocuments,E))));let q=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?q=q.withResumeToken(Jt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):k.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(k.resumeToken,i)),o=o.insert(E,q),(function(V,K,W){return V.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=YI?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(A,q,k)&&p.push(n.li.updateTargetData(u,q))}));let m=fs(),y=je();if(e.documentUpdates.forEach((k=>{e.resolvedLimboDocuments.has(k)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,k))})),p.push(tA(u,d,e.documentUpdates).next((k=>{m=k.Bs,y=k.Ls}))),!i.isEqual(Ee.min())){const k=n.li.getLastRemoteSnapshotVersion(u).next((E=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,i)));p.push(k)}return ee.waitFor(p).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,m,y))).next((()=>m))})).then((u=>(n.vs=o,u)))}function tA(s,e,n){let i=je(),o=je();return n.forEach((u=>i=i.add(u))),e.getEntries(s,i).next((u=>{let d=fs();return n.forEach(((p,m)=>{const y=u.get(p);m.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(Ee.min())?(e.removeEntry(p,m.readTime),d=d.insert(p,m)):!y.isValidDocument()||m.version.compareTo(y.version)>0||m.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(m),d=d.insert(p,m)):ue(Cm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",m.version)})),{Bs:d,Ls:o}}))}function nA(s,e){const n=Te(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=mm),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function rA(s,e){const n=Te(s);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return n.li.getTargetData(i,e).next((u=>u?(o=u,ee.resolve(o)):n.li.allocateTargetId(i).next((d=>(o=new ti(e,d,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=n.vs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function Bp(s,e,n){const i=Te(s),o=i.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",u,(d=>i.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!xo(d))throw d;ue(Cm,`Failed to update sequence numbers for target ${e}: ${d}`)}i.vs=i.vs.remove(e),i.Fs.delete(o.target)}function I0(s,e,n){const i=Te(s);let o=Ee.min(),u=je();return i.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,m,y){const k=Te(p),E=k.Fs.get(y);return E!==void 0?ee.resolve(k.vs.get(E)):k.li.getTargetData(m,y)})(i,d,Rr(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(d,p.targetId).next((m=>{u=m}))})).next((()=>i.Cs.getDocumentsMatchingQuery(d,e,n?o:Ee.min(),n?u:je()))).next((p=>(sA(i,qC(e),p),{documents:p,ks:u})))))}function sA(s,e,n){let i=s.Ms.get(e)||Ee.min();n.forEach(((o,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)})),s.Ms.set(e,i)}class A0{constructor(){this.activeTargetIds=QC()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iA{constructor(){this.vo=new A0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new A0,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class aA{Mo(e){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const R0="ConnectivityMonitor";class O0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ue(R0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ue(R0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Zc=null;function Gp(){return Zc===null?Zc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zc++,"0x"+Zc.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const vp="RestConnection",oA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class lA{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${o}`,this.$o=this.databaseId.database===kh?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Wo(e,n,i,o,u){const d=Gp(),p=this.Qo(e,n.toUriEncodedString());ue(vp,`Sending RPC '${e}' ${d}:`,p,i);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,o,u);const{host:y}=new URL(p),k=mi(y);return this.zo(e,p,m,i,k).then((E=>(ue(vp,`Received RPC '${e}' ${d}: `,E),E)),(E=>{throw fo(vp,`RPC '${e}' ${d} failed with error: `,E,"url: ",p,"request:",i),E}))}jo(e,n,i,o,u,d){return this.Wo(e,n,i,o,u)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ko})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),i&&i.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const i=oA[e];let o=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uA{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Zt="WebChannelConnection",Pl=(s,e,n)=>{s.listen(e,(i=>{try{n(i)}catch(o){setTimeout((()=>{throw o}),0)}}))};class io extends lA{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!io.c_){const e=h1();Pl(e,c1.STAT_EVENT,(n=>{n.stat===Pp.PROXY?ue(Zt,"STAT_EVENT: detected buffering proxy"):n.stat===Pp.NOPROXY&&ue(Zt,"STAT_EVENT: detected no buffering proxy")})),io.c_=!0}}zo(e,n,i,o,u){const d=Gp();return new Promise(((p,m)=>{const y=new l1;y.setWithCredentials(!0),y.listenOnce(u1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case ah.NO_ERROR:const E=y.getResponseJson();ue(Zt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(E)),p(E);break;case ah.TIMEOUT:ue(Zt,`RPC '${e}' ${d} timed out`),m(new fe(te.DEADLINE_EXCEEDED,"Request time out"));break;case ah.HTTP_ERROR:const A=y.getStatus();if(ue(Zt,`RPC '${e}' ${d} failed with status:`,A,"response text:",y.getResponseText()),A>0){let q=y.getResponseJson();Array.isArray(q)&&(q=q[0]);const V=q==null?void 0:q.error;if(V&&V.status&&V.message){const K=(function(W){const ne=W.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(ne)>=0?ne:te.UNKNOWN})(V.status);m(new fe(K,V.message))}else m(new fe(te.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new fe(te.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ue(Zt,`RPC '${e}' ${d} completed.`)}}));const k=JSON.stringify(o);ue(Zt,`RPC '${e}' ${d} sending request:`,o),y.send(n,"POST",k,i,15)}))}T_(e,n,i){const o=Gp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const y=u.join("");ue(Zt,`Creating RPC '${e}' stream ${o}: ${y}`,p);const k=d.createWebChannel(y,p);this.I_(k);let E=!1,A=!1;const q=new uA({Ho:V=>{A?ue(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(E||(ue(Zt,`Opening RPC '${e}' stream ${o} transport.`),k.open(),E=!0),ue(Zt,`RPC '${e}' stream ${o} sending:`,V),k.send(V))},Jo:()=>k.close()});return Pl(k,Fl.EventType.OPEN,(()=>{A||(ue(Zt,`RPC '${e}' stream ${o} transport opened.`),q.i_())})),Pl(k,Fl.EventType.CLOSE,(()=>{A||(A=!0,ue(Zt,`RPC '${e}' stream ${o} transport closed`),q.o_(),this.E_(k))})),Pl(k,Fl.EventType.ERROR,(V=>{A||(A=!0,fo(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),q.o_(new fe(te.UNAVAILABLE,"The operation could not be completed")))})),Pl(k,Fl.EventType.MESSAGE,(V=>{var K;if(!A){const W=V.data[0];He(!!W,16349);const ne=W,re=(ne==null?void 0:ne.error)||((K=ne[0])==null?void 0:K.error);if(re){ue(Zt,`RPC '${e}' stream ${o} received error:`,re);const G=re.status;let le=(function(se){const _=It[se];if(_!==void 0)return G1(_)})(G),we=re.message;le===void 0&&(le=te.INTERNAL,we="Unknown error status: "+G+" with message "+re.message),A=!0,q.o_(new fe(le,we)),k.close()}else ue(Zt,`RPC '${e}' stream ${o} received:`,W),q.__(W)}})),io.u_(),setTimeout((()=>{q.s_()}),0),q}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return d1()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function cA(s){return new io(s)}function bp(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Jh(s){return new pI(s,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/io.c_=!1;class ok{constructor(e,n,i=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const L0="PersistentStream";class lk{constructor(e,n,i,o,u,d,p,m){this.Ci=e,this.b_=i,this.S_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ok(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(ds(n.toString()),ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===n&&this.G_(i,o)}),(i=>{e((()=>{const o=new fe(te.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(L0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ue(L0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hA extends lk{constructor(e,n,i,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=yI(this.serializer,e),i=(function(o){if(!("targetChange"in o))return Ee.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ee.min():u.readTime?Lr(u.readTime):Ee.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=Hp(this.serializer),n.addTarget=(function(o,u){let d;const p=u.target;if(d=Up(p)?{documents:wI(o,p)}:{query:kI(o,p).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=Q1(o,u.resumeToken);const m=Vp(o,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ee.min())>0){d.readTime=Nh(o,u.snapshotVersion.toTimestamp());const m=Vp(o,u.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const i=xI(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=Hp(this.serializer),n.removeTarget=e,this.K_(n)}}class dA extends lk{constructor(e,n,i,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,d),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=bI(e.writeResults,e.commitTime),i=Lr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Hp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>vI(this.serializer,i)))};this.K_(n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fA{}class pA extends fA{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Wo(e,$p(n,i),o,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(te.UNKNOWN,u.toString())}))}jo(e,n,i,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,$p(n,i),o,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new fe(te.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function mA(s,e,n,i){return new pA(s,e,n,i)}class gA{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ds(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ea="RemoteStore";class yA{constructor(e,n,i,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((d=>{i.enqueueAndForget((async()=>{la(this)&&(ue(ea,"Restarting streams for network reachability change."),await(async function(p){const m=Te(p);m.Ea.add(4),await pu(m),m.Va.set("Unknown"),m.Ea.delete(4),await Xh(m)})(this))}))})),this.Va=new gA(i,o)}}async function Xh(s){if(la(s))for(const e of s.Ra)await e(!0)}async function pu(s){for(const e of s.Ra)await e(!1)}function uk(s,e){const n=Te(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Om(n)?Rm(n):To(n).O_()&&Am(n,e))}function Im(s,e){const n=Te(s),i=To(n);n.Ia.delete(e),i.O_()&&ck(n,e),n.Ia.size===0&&(i.O_()?i.L_():la(n)&&n.Va.set("Unknown"))}function Am(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}To(s).Z_(e)}function ck(s,e){s.da.$e(e),To(s).X_(e)}function Rm(s){s.da=new cI({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),To(s).start(),s.Va.ua()}function Om(s){return la(s)&&!To(s).x_()&&s.Ia.size>0}function la(s){return Te(s).Ea.size===0}function hk(s){s.da=void 0}async function vA(s){s.Va.set("Online")}async function bA(s){s.Ia.forEach(((e,n)=>{Am(s,e)}))}async function wA(s,e){hk(s),Om(s)?(s.Va.ha(e),Rm(s)):s.Va.set("Unknown")}async function kA(s,e,n){if(s.Va.set("Online"),e instanceof W1&&e.state===2&&e.cause)try{await(async function(i,o){const u=o.cause;for(const d of o.targetIds)i.Ia.has(d)&&(await i.remoteSyncer.rejectListen(d,u),i.Ia.delete(d),i.da.removeTarget(d))})(s,e)}catch(i){ue(ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Ih(s,i)}else if(e instanceof ch?s.da.Xe(e):e instanceof K1?s.da.st(e):s.da.tt(e),!n.isEqual(Ee.min()))try{const i=await ak(s.localStore);n.compareTo(i)>=0&&await(function(o,u){const d=o.da.Tt(u);return d.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const y=o.Ia.get(m);y&&o.Ia.set(m,y.withResumeToken(p.resumeToken,u))}})),d.targetMismatches.forEach(((p,m)=>{const y=o.Ia.get(p);if(!y)return;o.Ia.set(p,y.withResumeToken(Jt.EMPTY_BYTE_STRING,y.snapshotVersion)),ck(o,p);const k=new ti(y.target,p,m,y.sequenceNumber);Am(o,k)})),o.remoteSyncer.applyRemoteEvent(d)})(s,n)}catch(i){ue(ea,"Failed to raise snapshot:",i),await Ih(s,i)}}async function Ih(s,e,n){if(!xo(e))throw e;s.Ea.add(1),await pu(s),s.Va.set("Offline"),n||(n=()=>ak(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ue(ea,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Xh(s)}))}function dk(s,e){return e().catch((n=>Ih(s,n,e)))}async function Zh(s){const e=Te(s),n=fi(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:mm;for(;EA(e);)try{const o=await nA(e.localStore,i);if(o===null){e.Ta.length===0&&n.L_();break}i=o.batchId,xA(e,o)}catch(o){await Ih(e,o)}fk(e)&&pk(e)}function EA(s){return la(s)&&s.Ta.length<10}function xA(s,e){s.Ta.push(e);const n=fi(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function fk(s){return la(s)&&!fi(s).x_()&&s.Ta.length>0}function pk(s){fi(s).start()}async function TA(s){fi(s).ra()}async function SA(s){const e=fi(s);for(const n of s.Ta)e.ea(n.mutations)}async function _A(s,e,n){const i=s.Ta.shift(),o=Em.from(i,e,n);await dk(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Zh(s)}async function NA(s,e){e&&fi(s).Y_&&await(async function(n,i){if((function(o){return oI(o)&&o!==te.ABORTED})(i.code)){const o=n.Ta.shift();fi(n).B_(),await dk(n,(()=>n.remoteSyncer.rejectFailedWrite(o.batchId,i))),await Zh(n)}})(s,e),fk(s)&&pk(s)}async function P0(s,e){const n=Te(s);n.asyncQueue.verifyOperationInProgress(),ue(ea,"RemoteStore received new credentials");const i=la(n);n.Ea.add(3),await pu(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Xh(n)}async function CA(s,e){const n=Te(s);e?(n.Ea.delete(2),await Xh(n)):e||(n.Ea.add(2),await pu(n),n.Va.set("Unknown"))}function To(s){return s.ma||(s.ma=(function(e,n,i){const o=Te(e);return o.sa(),new hA(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(s.datastore,s.asyncQueue,{Zo:vA.bind(null,s),Yo:bA.bind(null,s),t_:wA.bind(null,s),J_:kA.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),Om(s)?Rm(s):s.Va.set("Unknown")):(await s.ma.stop(),hk(s))}))),s.ma}function fi(s){return s.fa||(s.fa=(function(e,n,i){const o=Te(e);return o.sa(),new dA(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:TA.bind(null,s),t_:NA.bind(null,s),ta:SA.bind(null,s),na:_A.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Zh(s)):(await s.fa.stop(),s.Ta.length>0&&(ue(ea,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Lm{constructor(e,n,i,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,u){const d=Date.now()+i,p=new Lm(e,n,d,o,u);return p.start(i),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pm(s,e){if(ds("AsyncQueue",`${e}: ${s}`),xo(s))return new fe(te.UNAVAILABLE,`${e}: ${s}`);throw s}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ao{static emptySet(e){return new ao(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||ge.comparator(n.key,i.key):(n,i)=>ge.comparator(n.key,i.key),this.keyedMap=Ul(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ao)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new ao;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class D0{constructor(){this.ga=new ct(ge.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class vo{constructor(e,n,i,o,u,d,p,m,y){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=y}static fromInitialDocuments(e,n,i,o,u){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new vo(e,n,ao.emptySet(n),d,i,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class IA{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class AA{constructor(){this.queries=j0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,n){const i=Te(e),o=i.queries;i.queries=j0(),o.forEach(((u,d)=>{for(const p of d.ba)p.onError(n)}))})(this,new fe(te.ABORTED,"Firestore shutting down"))}}function j0(){return new aa((s=>P1(s)),Gh)}async function RA(s,e){const n=Te(s);let i=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(i=2):(u=new IA,i=e.Da()?0:1);try{switch(i){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const p=Pm(d,`Initialization of query '${to(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Dm(n)}async function OA(s,e){const n=Te(s),i=e.query;let o=3;const u=n.queries.get(i);if(u){const d=u.ba.indexOf(e);d>=0&&(u.ba.splice(d,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function LA(s,e){const n=Te(s);let i=!1;for(const o of e){const u=o.query,d=n.queries.get(u);if(d){for(const p of d.ba)p.Fa(o)&&(i=!0);d.wa=o}}i&&Dm(n)}function PA(s,e,n){const i=Te(s),o=i.queries.get(e);if(o)for(const u of o.ba)u.onError(n);i.queries.delete(e)}function Dm(s){s.Ca.forEach((e=>{e.next()}))}var Kp,M0;(M0=Kp||(Kp={})).Ma="default",M0.Cache="cache";class DA{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new vo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Kp.Cache}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mk{constructor(e){this.key=e}}class gk{constructor(e){this.key=e}}class jA{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=je(),this.mutatedKeys=je(),this.eu=D1(e),this.tu=new ao(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new D0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((k,E)=>{const A=o.get(k),q=Kh(this.query,E)?E:null,V=!!A&&this.mutatedKeys.has(A.key),K=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let W=!1;A&&q?A.data.isEqual(q.data)?V!==K&&(i.track({type:3,doc:q}),W=!0):this.su(A,q)||(i.track({type:2,doc:q}),W=!0,(m&&this.eu(q,m)>0||y&&this.eu(q,y)<0)&&(p=!0)):!A&&q?(i.track({type:0,doc:q}),W=!0):A&&!q&&(i.track({type:1,doc:A}),W=!0,(m||y)&&(p=!0)),W&&(q?(d=d.add(q),u=K?u.add(k):u.delete(k)):(d=d.delete(k),u=u.delete(k)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const k=this.query.limitType==="F"?d.last():d.first();d=d.delete(k.key),u=u.delete(k.key),i.track({type:1,doc:k})}return{tu:d,iu:i,Ss:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((k,E)=>(function(A,q){const V=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Vt:K})}};return V(A)-V(q)})(k.type,E.type)||this.eu(k.doc,E.doc))),this.ou(i),o=o??!1;const p=n&&!o?this._u():[],m=this.Ya.size===0&&this.current&&!o?1:0,y=m!==this.Xa;return this.Xa=m,d.length!==0||y?{snapshot:new vo(this.query,e.tu,u,d,e.mutatedKeys,m===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new D0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=je(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new gk(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new mk(i))})),n}cu(e){this.Za=e.ks,this.Ya=je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const jm="SyncEngine";class MA{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class FA{constructor(e){this.key=e,this.hu=!1}}class UA{constructor(e,n,i,o,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new aa((p=>P1(p)),Gh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ct(ge.comparator),this.Au=new Map,this.Vu=new Sm,this.du={},this.mu=new Map,this.fu=yo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zA(s,e,n=!0){const i=Ek(s);let o;const u=i.Tu.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await yk(i,e,n,!0),o}async function VA(s,e){const n=Ek(s);await yk(n,e,!0,!1)}async function yk(s,e,n,i){const o=await rA(s.localStore,Rr(e)),u=o.targetId,d=s.sharedClientState.addLocalQueryTarget(u,n);let p;return i&&(p=await $A(s,e,u,d==="current",o.resumeToken)),s.isPrimaryClient&&n&&uk(s.remoteStore,o),p}async function $A(s,e,n,i,o){s.pu=(E,A,q)=>(async function(V,K,W,ne){let re=K.view.ru(W);re.Ss&&(re=await I0(V.localStore,K.query,!1).then((({documents:se})=>K.view.ru(se,re))));const G=ne&&ne.targetChanges.get(K.targetId),le=ne&&ne.targetMismatches.get(K.targetId)!=null,we=K.view.applyChanges(re,V.isPrimaryClient,G,le);return U0(V,K.targetId,we.au),we.snapshot})(s,E,A,q);const u=await I0(s.localStore,e,!0),d=new jA(e,u.ks),p=d.ru(u.documents),m=fu.createSynthesizedTargetChangeForCurrentChange(n,i&&s.onlineState!=="Offline",o),y=d.applyChanges(p,s.isPrimaryClient,m);U0(s,n,y.au);const k=new MA(e,n,d);return s.Tu.set(e,k),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function qA(s,e,n){const i=Te(s),o=i.Tu.get(e),u=i.Iu.get(o.targetId);if(u.length>1)return i.Iu.set(o.targetId,u.filter((d=>!Gh(d,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Bp(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),n&&Im(i.remoteStore,o.targetId),Wp(i,o.targetId)})).catch(Eo)):(Wp(i,o.targetId),await Bp(i.localStore,o.targetId,!0))}async function HA(s,e){const n=Te(s),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Im(n.remoteStore,i.targetId))}async function BA(s,e,n){const i=XA(s);try{const o=await(function(u,d){const p=Te(u),m=st.now(),y=d.reduce(((A,q)=>A.add(q.key)),je());let k,E;return p.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let q=fs(),V=je();return p.xs.getEntries(A,y).next((K=>{q=K,q.forEach(((W,ne)=>{ne.isValidDocument()||(V=V.add(W))}))})).next((()=>p.localDocuments.getOverlayedDocuments(A,q))).next((K=>{k=K;const W=[];for(const ne of d){const re=nI(ne,k.get(ne.key).overlayedDocument);re!=null&&W.push(new oa(ne.key,re,_1(re.value.mapValue),Or.exists(!0)))}return p.mutationQueue.addMutationBatch(A,m,W,d)})).next((K=>{E=K;const W=K.applyToLocalDocumentSet(k,V);return p.documentOverlayCache.saveOverlays(A,K.batchId,W)}))})).then((()=>({batchId:E.batchId,changes:M1(k)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(u,d,p){let m=u.du[u.currentUser.toKey()];m||(m=new ct(De)),m=m.insert(d,p),u.du[u.currentUser.toKey()]=m})(i,o.batchId,n),await mu(i,o.changes),await Zh(i.remoteStore)}catch(o){const u=Pm(o,"Failed to persist write");n.reject(u)}}async function vk(s,e){const n=Te(s);try{const i=await eA(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const d=n.Au.get(u);d&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?He(d.hu,14607):o.removedDocuments.size>0&&(He(d.hu,42227),d.hu=!1))})),await mu(n,i,e)}catch(i){await Eo(i)}}function F0(s,e,n){const i=Te(s);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach(((u,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(u,d){const p=Te(u);p.onlineState=d;let m=!1;p.queries.forEach(((y,k)=>{for(const E of k.ba)E.va(d)&&(m=!0)})),m&&Dm(p)})(i.eventManager,e),o.length&&i.Pu.J_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function GA(s,e,n){const i=Te(s);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),u=o&&o.key;if(u){let d=new ct(ge.comparator);d=d.insert(u,tn.newNoDocument(u,Ee.min()));const p=je().add(u),m=new Yh(Ee.min(),new Map,new ct(De),d,p);await vk(i,m),i.Ru=i.Ru.remove(u),i.Au.delete(e),Mm(i)}else await Bp(i.localStore,e,!1).then((()=>Wp(i,e,n))).catch(Eo)}async function KA(s,e){const n=Te(s),i=e.batch.batchId;try{const o=await ZI(n.localStore,e);wk(n,i,null),bk(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await mu(n,o)}catch(o){await Eo(o)}}async function WA(s,e,n){const i=Te(s);try{const o=await(function(u,d){const p=Te(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return p.mutationQueue.lookupMutationBatch(m,d).next((k=>(He(k!==null,37113),y=k.keys(),p.mutationQueue.removeMutationBatch(m,k)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,y,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>p.localDocuments.getDocuments(m,y)))}))})(i.localStore,e);wk(i,e,n),bk(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await mu(i,o)}catch(o){await Eo(o)}}function bk(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function wk(s,e,n){const i=Te(s);let o=i.du[i.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),i.du[i.currentUser.toKey()]=o}}function Wp(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const i of s.Iu.get(e))s.Tu.delete(i),n&&s.Pu.yu(i,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((i=>{s.Vu.containsKey(i)||kk(s,i)}))}function kk(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(Im(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),Mm(s))}function U0(s,e,n){for(const i of n)i instanceof mk?(s.Vu.addReference(i.key,e),QA(s,i)):i instanceof gk?(ue(jm,"Document no longer in limbo: "+i.key),s.Vu.removeReference(i.key,e),s.Vu.containsKey(i.key)||kk(s,i.key)):be(19791,{wu:i})}function QA(s,e){const n=e.key,i=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(i)||(ue(jm,"New document in limbo: "+n),s.Eu.add(i),Mm(s))}function Mm(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new ge(rt.fromString(e)),i=s.fu.next();s.Au.set(i,new FA(n)),s.Ru=s.Ru.insert(n,i),uk(s.remoteStore,new ti(Rr(L1(n.path)),i,"TargetPurposeLimboResolution",$h.ce))}}async function mu(s,e,n){const i=Te(s),o=[],u=[],d=[];i.Tu.isEmpty()||(i.Tu.forEach(((p,m)=>{d.push(i.pu(m,e,n).then((y=>{var k;if((y||n)&&i.isPrimaryClient){const E=y?!y.fromCache:(k=n==null?void 0:n.targetChanges.get(m.targetId))==null?void 0:k.current;i.sharedClientState.updateQueryState(m.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Nm.Es(m.targetId,y);u.push(E)}})))})),await Promise.all(d),i.Pu.J_(o),await(async function(p,m){const y=Te(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(k=>ee.forEach(m,(E=>ee.forEach(E.Ts,(A=>y.persistence.referenceDelegate.addReference(k,E.targetId,A))).next((()=>ee.forEach(E.Is,(A=>y.persistence.referenceDelegate.removeReference(k,E.targetId,A)))))))))}catch(k){if(!xo(k))throw k;ue(Cm,"Failed to update sequence numbers: "+k)}for(const k of m){const E=k.targetId;if(!k.fromCache){const A=y.vs.get(E),q=A.snapshotVersion,V=A.withLastLimboFreeSnapshotVersion(q);y.vs=y.vs.insert(E,V)}}})(i.localStore,u))}async function YA(s,e){const n=Te(s);if(!n.currentUser.isEqual(e)){ue(jm,"User change. New user:",e.toKey());const i=await ik(n.localStore,e);n.currentUser=e,(function(o,u){o.mu.forEach((d=>{d.forEach((p=>{p.reject(new fe(te.CANCELLED,u))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await mu(n,i.Ns)}}function JA(s,e){const n=Te(s),i=n.Au.get(e);if(i&&i.hu)return je().add(i.key);{let o=je();const u=n.Iu.get(e);if(!u)return o;for(const d of u){const p=n.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function Ek(s){const e=Te(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=vk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GA.bind(null,e),e.Pu.J_=LA.bind(null,e.eventManager),e.Pu.yu=PA.bind(null,e.eventManager),e}function XA(s){const e=Te(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WA.bind(null,e),e}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return XI(this.persistence,new QI,e.initialUser,this.serializer)}Cu(e){return new sk(_m.Vi,this.serializer)}Du(e){return new iA}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class ZA extends Ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){He(this.persistence.referenceDelegate instanceof Ch,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new PI(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new sk((i=>Ch.Vi(i,n)),this.serializer)}}class Qp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>F0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=YA.bind(null,this.syncEngine),await CA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new AA})()}createDatastore(e){const n=Jh(e.databaseInfo.databaseId),i=cA(e.databaseInfo);return mA(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(n,i,o,u,d){return new yA(n,i,o,u,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>F0(this.syncEngine,n,0)),(function(){return O0.v()?new O0:new aA})())}createSyncEngine(e,n){return(function(i,o,u,d,p,m,y){const k=new UA(i,o,u,d,p,m);return y&&(k.gu=!0),k})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const o=Te(i);ue(ea,"RemoteStore shutting down."),o.Ea.add(5),await pu(o),o.Aa.shutdown(),o.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Qp.provider={build:()=>new Qp};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class e4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ds("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const pi="FirestoreClient";class t4{constructor(e,n,i,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=fm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,(async d=>{ue(pi,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(i,(d=>(ue(pi,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Pm(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function wp(s,e){s.asyncQueue.verifyOperationInProgress(),ue(pi,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let i=n.initialUser;s.setCredentialChangeListener((async o=>{i.isEqual(o)||(await ik(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function z0(s,e){s.asyncQueue.verifyOperationInProgress();const n=await n4(s);ue(pi,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((i=>P0(e.remoteStore,i))),s.setAppCheckTokenChangeListener(((i,o)=>P0(e.remoteStore,o))),s._onlineComponents=e}async function n4(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ue(pi,"Using user provided OfflineComponentProvider");try{await wp(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),await wp(s,new Ah)}}else ue(pi,"Using default OfflineComponentProvider"),await wp(s,new ZA(void 0));return s._offlineComponents}async function xk(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ue(pi,"Using user provided OnlineComponentProvider"),await z0(s,s._uninitializedComponentsProvider._online)):(ue(pi,"Using default OnlineComponentProvider"),await z0(s,new Qp))),s._onlineComponents}function r4(s){return xk(s).then((e=>e.syncEngine))}async function s4(s){const e=await xk(s),n=e.eventManager;return n.onListen=zA.bind(null,e.syncEngine),n.onUnlisten=qA.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=VA.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=HA.bind(null,e.syncEngine),n}function i4(s,e,n={}){const i=new ii;return s.asyncQueue.enqueueAndForget((async()=>(function(o,u,d,p,m){const y=new e4({next:E=>{y.Nu(),u.enqueueAndForget((()=>OA(o,k))),E.fromCache&&p.source==="server"?m.reject(new fe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),k=new DA(d,y,{includeMetadataChanges:!0,Ka:!0});return RA(o,k)})(await s4(s),s.asyncQueue,e,n,i))),i.promise}function a4(s,e){const n=new ii;return s.asyncQueue.enqueueAndForget((async()=>BA(await r4(s),e,n))),n.promise}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Tk(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const o4="ComponentProvider",V0=new Map;function l4(s,e,n,i,o){return new TC(s,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,Tk(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,i)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Sk="firestore.googleapis.com",$0=!0;class q0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Sk,this.ssl=$0}else this.host=e.host,this.ssl=e.ssl??$0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OI)throw new fe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Tk(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ed{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new rC;switch(n.type){case"firstParty":return new oC(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new fe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const n=V0.get(e);n&&(ue(o4,"Removing Datastore"),V0.delete(e),n.terminate())})(this),Promise.resolve()}}function u4(s,e,n,i={}){var o;s=Yl(s,ed);const u=mi(e),d=s._getSettings(),p={...d,emulatorOptions:s._getEmulatorOptions()},m=`${e}:${n}`;u&&(om(`https://${m}`),lm("Firestore",!0)),d.host!==Sk&&d.host!==m&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...d,host:m,ssl:u,emulatorOptions:i};if(!Ji(y,p)&&(s._setSettings(y),i.mockUserToken)){let k,E;if(typeof i.mockUserToken=="string")k=i.mockUserToken,E=en.MOCK_USER;else{k=t1(i.mockUserToken,(o=s._app)==null?void 0:o.options.projectId);const A=i.mockUserToken.sub||i.mockUserToken.user_id;if(!A)throw new fe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new en(A)}s._authCredentials=new sC(new p1(k,E))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class td{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new td(this.firestore,e,this._query)}}class Qt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}toJSON(){return{type:Qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(hu(n,Qt._jsonSchema))return new Qt(e,i||null,new ge(rt.fromString(n.referencePath)))}}Qt._jsonSchemaVersion="firestore/documentReference/1.0",Qt._jsonSchema={type:At("string",Qt._jsonSchemaVersion),referencePath:At("string")};class ai extends td{constructor(e,n,i){super(e,n,L1(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new ge(e))}withConverter(e){return new ai(this.firestore,e,this._path)}}function Yp(s,e,...n){if(s=Yt(s),m1("collection","path",e),s instanceof ed){const i=rt.fromString(e,...n);return r0(i),new ai(s,null,i)}{if(!(s instanceof Qt||s instanceof ai))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(rt.fromString(e,...n));return r0(i),new ai(s.firestore,null,i)}}function _k(s,e,...n){if(s=Yt(s),arguments.length===1&&(e=fm.newId()),m1("doc","path",e),s instanceof ed){const i=rt.fromString(e,...n);return n0(i),new Qt(s,null,new ge(i))}{if(!(s instanceof Qt||s instanceof ai))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(rt.fromString(e,...n));return n0(i),new Qt(s.firestore,s instanceof ai?s.converter:null,new ge(i))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const H0="AsyncQueue";class B0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ok(this,"async_queue_retry"),this._c=()=>{const i=bp();i&&ue(H0,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=bp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=bp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ii;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!xo(e))throw e;ue(H0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,ds("INTERNAL UNHANDLED ERROR: ",G0(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Lm.createAndSchedule(this,e,n,i,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:G0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function G0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class nd extends ed{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new B0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new B0(e),this._firestoreClient=void 0,await e}}}function c4(s,e){const n=typeof s=="object"?s:hm(),i=typeof s=="string"?s:kh,o=Vh(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const u=Xw("firestore");u&&u4(o,...u)}return o}function Nk(s){if(s._terminated)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||h4(s),s._firestoreClient}function h4(s){var e,n,i,o;const u=s._freezeSettings(),d=l4(s._databaseId,((e=s._app)==null?void 0:e.options.appId)||"",s._persistenceKey,(n=s._app)==null?void 0:n.options.apiKey,u);s._componentsProvider||(i=u.localCache)!=null&&i._offlineComponentProvider&&(o=u.localCache)!=null&&o._onlineComponentProvider&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new t4(s._authCredentials,s._appCheckCredentials,s._queue,d,s._componentsProvider&&(function(p){const m=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(m),_online:m}})(s._componentsProvider))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Jt.fromBase64String(e))}catch(n){throw new fe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hu(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:At("string",zn._jsonSchemaVersion),bytes:At("string")};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ck{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ik{constructor(e){this._methodName=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pr._jsonSchemaVersion}}static fromJSON(e){if(hu(e,Pr._jsonSchema))return new Pr(e.latitude,e.longitude)}}Pr._jsonSchemaVersion="firestore/geoPoint/1.0",Pr._jsonSchema={type:At("string",Pr._jsonSchemaVersion),latitude:At("number"),longitude:At("number")};/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:rr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hu(e,rr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new rr(e.vectorValues);throw new fe(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rr._jsonSchemaVersion="firestore/vectorValue/1.0",rr._jsonSchema={type:At("string",rr._jsonSchemaVersion),vectorValues:At("object")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const d4=/^__.*__$/;class f4{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new oa(e,this.data,this.fieldMask,n,this.fieldTransforms):new du(e,this.data,n,this.fieldTransforms)}}function Ak(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{dataSource:s})}}class Fm{constructor(e,n,i,o,u,d){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Fm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var n;const i=(n=this.path)==null?void 0:n.child(e),o=this.contextWith({path:i,arrayElement:!1});return o.validatePathSegment(e),o}childContextForFieldPath(e){var n;const i=(n=this.path)==null?void 0:n.child(e),o=this.contextWith({path:i,arrayElement:!1});return o.validatePath(),o}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Rh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Ak(this.dataSource)&&d4.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class p4{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Jh(e)}createContext(e,n,i,o=!1){return new Fm({dataSource:e,methodName:n,targetDoc:i,path:Wt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function m4(s){const e=s._freezeSettings(),n=Jh(s._databaseId);return new p4(s._databaseId,!!e.ignoreUndefinedProperties,n)}function g4(s,e,n,i,o,u={}){const d=s.createContext(u.merge||u.mergeFields?2:0,e,n,o);Pk("Data must be an object, but it was:",d,i);const p=Ok(i,d);let m,y;if(u.merge)m=new tr(d.fieldMask),y=d.fieldTransforms;else if(u.mergeFields){const k=[];for(const E of u.mergeFields){const A=Um(e,E,n);if(!d.contains(A))throw new fe(te.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);b4(k,A)||k.push(A)}m=new tr(k),y=d.fieldTransforms.filter((E=>m.covers(E.field)))}else m=null,y=d.fieldTransforms;return new f4(new Un(p),m,y)}function Rk(s,e){if(Lk(s=Yt(s)))return Pk("Unsupported field value:",e,s),Ok(s,e);if(s instanceof Ik)return(function(n,i){if(!Ak(i.dataSource))throw i.createError(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(n,i){const o=[];let u=0;for(const d of n){let p=Rk(d,i.childContextForArray(u));p==null&&(p={nullValue:"NULL_VALUE"}),o.push(p),u++}return{arrayValue:{values:o}}})(s,e)}return(function(n,i){if((n=Yt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return YC(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=st.fromDate(n);return{timestampValue:Nh(i.serializer,o)}}if(n instanceof st){const o=new st(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Nh(i.serializer,o)}}if(n instanceof Pr)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof zn)return{bytesValue:Q1(i.serializer,n._byteString)};if(n instanceof Qt){const o=i.databaseId,u=n.firestore._databaseId;if(!u.isEqual(o))throw i.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Tm(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof rr)return(function(o,u){const d=o instanceof rr?o.toArray():o;return{mapValue:{fields:{[T1]:{stringValue:S1},[Eh]:{arrayValue:{values:d.map((p=>{if(typeof p!="number")throw u.createError("VectorValues must only contain numeric values.");return wm(u.serializer,p)}))}}}}}})(n,i);if(nk(n))return n._toProto(i.serializer);throw i.createError(`Unsupported field value: ${pm(n)}`)})(s,e)}function Ok(s,e){const n={};return v1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ia(s,((i,o)=>{const u=Rk(o,e.childContextForField(i));u!=null&&(n[i]=u)})),{mapValue:{fields:n}}}function Lk(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof st||s instanceof Pr||s instanceof zn||s instanceof Qt||s instanceof Ik||s instanceof rr||nk(s))}function Pk(s,e,n){if(!Lk(n)||!g1(n)){const i=pm(n);throw i==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+i)}}function Um(s,e,n){if((e=Yt(e))instanceof Ck)return e._internalPath;if(typeof e=="string")return v4(s,e);throw Rh("Field path arguments must be of type string or ",s,!1,void 0,n)}const y4=new RegExp("[~\\*/\\[\\]]");function v4(s,e,n){if(e.search(y4)>=0)throw Rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Ck(...e.split("."))._internalPath}catch{throw Rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Rh(s,e,n,i,o){const u=i&&!i.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(u||d)&&(m+=" (found",u&&(m+=` in field ${i}`),d&&(m+=` in document ${o}`),m+=")"),new fe(te.INVALID_ARGUMENT,p+s+m)}function b4(s,e){return s.some((n=>n.isEqual(e)))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class w4{convertValue(e,n="none"){switch(di(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return ia(e,((o,u)=>{i[o]=this.convertValue(u,n)})),i}convertVectorValue(e){var n,i,o;const u=(o=(i=(n=e.fields)==null?void 0:n[Eh].arrayValue)==null?void 0:i.values)==null?void 0:o.map((d=>bt(d.doubleValue)));return new rr(u)}convertGeoPoint(e){return new Pr(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Hh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Xl(e));default:return null}}convertTimestamp(e){const n=ci(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=rt.fromString(e);He(tk(i),9688,{name:e});const o=new Zl(i.get(1),i.get(3)),u=new ge(i.popFirst(5));return o.isEqual(n)||ds(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class k4 extends w4{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,n)}}const K0="@firebase/firestore",W0="4.10.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Dk{constructor(e,n,i,o,u){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new E4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Um("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class E4 extends Dk{data(){return super.data()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function x4(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new fe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function T4(s,e,n){let i;return i=s?s.toFirestore(e):e,i}class eh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oo extends Dk{constructor(e,n,i,o,u,d){super(e,n,i,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Um("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=oo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()||(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED")),n}}oo._jsonSchemaVersion="firestore/documentSnapshot/1.0",oo._jsonSchema={type:At("string",oo._jsonSchemaVersion),bundleSource:At("string","DocumentSnapshot"),bundleName:At("string"),bundle:At("string")};class hh extends oo{data(e={}){return super.data(e)}}class lo{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new eh(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new hh(this._firestore,this._userDataWriter,i.key,i,new eh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map((d=>{const p=new hh(i._firestore,i._userDataWriter,d.doc.key,d.doc,new eh(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((d=>o||d.type!==3)).map((d=>{const p=new hh(i._firestore,i._userDataWriter,d.doc.key,d.doc,new eh(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,y=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),y=u.indexOf(d.doc.key)),{type:S4(d.type),doc:p,oldIndex:m,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=lo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),i.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function S4(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:s})}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/lo._jsonSchemaVersion="firestore/querySnapshot/1.0",lo._jsonSchema={type:At("string",lo._jsonSchemaVersion),bundleSource:At("string","QuerySnapshot"),bundleName:At("string"),bundle:At("string")};function jk(s){s=Yl(s,td);const e=Yl(s.firestore,nd),n=Nk(e),i=new k4(e);return x4(s._query),i4(n,s._query).then((o=>new lo(e,i,s,o)))}function _4(s){return Mk(Yl(s.firestore,nd),[new km(s._key,Or.none())])}function N4(s,e){const n=Yl(s.firestore,nd),i=_k(s),o=T4(s.converter,e),u=m4(s.firestore);return Mk(n,[g4(u,"addDoc",i._key,o,s.converter!==null,{}).toMutation(i._key,Or.exists(!1))]).then((()=>i))}function Mk(s,e){const n=Nk(s);return a4(n,e)}(function(s,e=!0){nC(sa),Xi(new li("firestore",((n,{instanceIdentifier:i,options:o})=>{const u=n.getProvider("app").getImmediate(),d=new nd(new iC(n.getProvider("auth-internal")),new lC(u,n.getProvider("app-check-internal")),SC(u,i),u);return o={useFetchStreams:e,...o},d._setSettings(o),d}),"PUBLIC").setMultipleInstances(!0)),Ar(K0,W0,s),Ar(K0,W0,"esm2020")})();var C4="firebase",I4="12.8.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/Ar(C4,I4,"app");function Fk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const A4=Fk,Uk=new uu("auth","Firebase",Fk());/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Oh=new um("@firebase/auth");function R4(s,...e){Oh.logLevel<=Pe.WARN&&Oh.warn(`Auth (${sa}): ${s}`,...e)}function dh(s,...e){Oh.logLevel<=Pe.ERROR&&Oh.error(`Auth (${sa}): ${s}`,...e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ir(s,...e){throw zm(s,...e)}function Dr(s,...e){return zm(s,...e)}function zk(s,e,n){const i={...A4(),[e]:n};return new uu("auth","Firebase",i).create(e,{appName:s.name})}function oi(s){return zk(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zm(s,...e){if(typeof s!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=s.name),s._errorFactory.create(n,...i)}return Uk.create(s,...e)}function ve(s,e,...n){if(!s)throw zm(e,...n)}function os(s){const e="INTERNAL ASSERTION FAILED: "+s;throw dh(e),new Error(e)}function ps(s,e){s||os(e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Jp(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.href)||""}function O4(){return Q0()==="http:"||Q0()==="https:"}function Q0(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.protocol)||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function L4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(O4()||D_()||"connection"in navigator)?navigator.onLine:!0}function P4(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ps(n>e,"Short delay should be less than long delay!"),this.isMobile=O_()||j_()}get(){return L4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Vm(s,e){ps(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vk{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const D4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const j4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],M4=new gu(3e4,6e4);function ua(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function gi(s,e,n,i,o={}){return $k(s,o,async()=>{let u={},d={};i&&(e==="GET"?d=i:u={body:JSON.stringify(i)});const p=cu({key:s.config.apiKey,...d}).slice(1),m=await s._getAdditionalHeaders();m["Content-Type"]="application/json",s.languageCode&&(m["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:m,...u};return P_()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&mi(s.emulatorConfig.host)&&(y.credentials="include"),Vk.fetch()(await qk(s,s.config.apiHost,n,p),y)})}async function $k(s,e,n){s._canInitEmulator=!1;const i={...D4,...e};try{const o=new U4(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw th(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[m,y]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(s,"credential-already-in-use",d);if(m==="EMAIL_EXISTS")throw th(s,"email-already-in-use",d);if(m==="USER_DISABLED")throw th(s,"user-disabled",d);const k=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw zk(s,k,y);ir(s,k)}}catch(o){if(o instanceof zr)throw o;ir(s,"network-request-failed",{message:String(o)})}}async function rd(s,e,n,i,o={}){const u=await gi(s,e,n,i,o);return"mfaPendingCredential"in u&&ir(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function qk(s,e,n,i){const o=`${e}${n}?${i}`,u=s,d=u.config.emulator?Vm(s.config,o):`${s.config.apiScheme}://${o}`;return j4.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function F4(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class U4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Dr(this.auth,"network-request-failed")),M4.get())})}}function th(s,e,n){const i={appName:s.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=Dr(s,e,i);return o.customData._tokenResponse=n,o}function Y0(s){return s!==void 0&&s.enterprise!==void 0}class z4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return F4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function V4(s,e){return gi(s,"GET","/v2/recaptchaConfig",ua(s,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function $4(s,e){return gi(s,"POST","/v1/accounts:delete",e)}async function Lh(s,e){return gi(s,"POST","/v1/accounts:lookup",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Gl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function q4(s,e=!1){const n=Yt(s),i=await n.getIdToken(e),o=$m(i);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:o,token:i,authTime:Gl(kp(o.auth_time)),issuedAtTime:Gl(kp(o.iat)),expirationTime:Gl(kp(o.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function kp(s){return Number(s)*1e3}function $m(s){const[e,n,i]=s.split(".");if(e===void 0||n===void 0||i===void 0)return dh("JWT malformed, contained fewer than 3 sections"),null;try{const o=Yw(n);return o?JSON.parse(o):(dh("Failed to decode base64 JWT payload"),null)}catch(o){return dh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function J0(s){const e=$m(s);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function ru(s,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof zr&&H4(i)&&s.auth.currentUser===s&&await s.auth.signOut(),i}}function H4({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class B4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Ph(s){var e;const n=s.auth,i=await s.getIdToken(),o=await ru(s,Lh(n,{idToken:i}));ve(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];s._notifyReloadListener(u);const d=(e=u.providerUserInfo)!=null&&e.length?Hk(u.providerUserInfo):[],p=K4(s.providerData,d),m=s.isAnonymous,y=!(s.email&&u.passwordHash)&&!(p!=null&&p.length),k=m?y:!1,E={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new Xp(u.createdAt,u.lastLoginAt),isAnonymous:k};Object.assign(s,E)}async function G4(s){const e=Yt(s);await Ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function K4(s,e){return[...s.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function Hk(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function W4(s,e){const n=await $k(s,{},async()=>{const i=cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,d=await qk(s,o,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:p,body:i};return s.emulatorConfig&&mi(s.emulatorConfig.host)&&(m.credentials="include"),Vk.fetch()(d,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Q4(s,e){return gi(s,"POST","/v2/accounts:revokeToken",ua(s,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):J0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=J0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:u}=await W4(e,n);this.updateTokensAndExpiration(i,o,Number(u))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:u}=n,d=new uo;return i&&(ve(typeof i=="string","internal-error",{appName:e}),d.refreshToken=i),o&&(ve(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return os("not implemented")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ws(s,e){ve(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class nr{constructor({uid:e,auth:n,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new B4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Xp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ru(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return q4(this,e)}reload(){return G4(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new nr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Ph(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(oi(this.auth));const e=await this.getIdToken();return await ru(this,$4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,m=n._redirectEventId??void 0,y=n.createdAt??void 0,k=n.lastLoginAt??void 0,{uid:E,emailVerified:A,isAnonymous:q,providerData:V,stsTokenManager:K}=n;ve(E&&K,e,"internal-error");const W=uo.fromJSON(this.name,K);ve(typeof E=="string",e,"internal-error"),Ws(i,e.name),Ws(o,e.name),ve(typeof A=="boolean",e,"internal-error"),ve(typeof q=="boolean",e,"internal-error"),Ws(u,e.name),Ws(d,e.name),Ws(p,e.name),Ws(m,e.name),Ws(y,e.name),Ws(k,e.name);const ne=new nr({uid:E,auth:e,email:o,emailVerified:A,displayName:i,isAnonymous:q,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:W,createdAt:y,lastLoginAt:k});return V&&Array.isArray(V)&&(ne.providerData=V.map(re=>({...re}))),m&&(ne._redirectEventId=m),ne}static async _fromIdTokenResponse(e,n,i=!1){const o=new uo;o.updateFromServerResponse(n);const u=new nr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Ph(u),u}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Hk(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new uo;p.updateFromIdToken(i);const m=new nr({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Xp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,y),m}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const X0=new Map;function ls(s){ps(s instanceof Function,"Expected a class definition");let e=X0.get(s);return e?(ps(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,X0.set(s,e),e)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Bk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Bk.type="NONE";const Z0=Bk;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function fh(s,e,n){return`firebase:${s}:${e}:${n}`}class co{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:u}=this.auth;this.fullUserKey=fh(this.userKey,o.apiKey,u),this.fullPersistenceKey=fh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Lh(this.auth,{idToken:e}).catch(()=>{});return n?nr._fromGetAccountInfoResponse(this.auth,n,e):null}return nr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new co(ls(Z0),e,i);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||ls(Z0);const d=fh(i,e.config.apiKey,e.name);let p=null;for(const y of n)try{const k=await y._get(d);if(k){let E;if(typeof k=="string"){const A=await Lh(e,{idToken:k}).catch(()=>{});if(!A)break;E=await nr._fromGetAccountInfoResponse(e,A,k)}else E=nr._fromJSON(e,k);y!==u&&(p=E),u=y;break}}catch{}const m=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new co(u,e,i):(u=m[0],p&&await u._set(d,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(d)}catch{}})),new co(u,e,i))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ew(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Qk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Gk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Jk(e))return"Blackberry";if(Xk(e))return"Webos";if(Kk(e))return"Safari";if((e.includes("chrome/")||Wk(e))&&!e.includes("edge/"))return"Chrome";if(Yk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=s.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Gk(s=nn()){return/firefox\//i.test(s)}function Kk(s=nn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Wk(s=nn()){return/crios\//i.test(s)}function Qk(s=nn()){return/iemobile/i.test(s)}function Yk(s=nn()){return/android/i.test(s)}function Jk(s=nn()){return/blackberry/i.test(s)}function Xk(s=nn()){return/webos/i.test(s)}function qm(s=nn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Y4(s=nn()){var e;return qm(s)&&!!((e=window.navigator)!=null&&e.standalone)}function J4(){return M_()&&document.documentMode===10}function Zk(s=nn()){return qm(s)||Yk(s)||Xk(s)||Jk(s)||/windows phone/i.test(s)||Qk(s)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function eE(s,e=[]){let n;switch(s){case"Browser":n=ew(nn());break;case"Worker":n=`${ew(nn())}-${s}`;break;default:n=s}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${sa}/${i}`}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class X4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=u=>new Promise((d,p)=>{try{const m=e(u);d(m)}catch(m){p(m)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Z4(s,e={}){return gi(s,"GET","/v2/passwordPolicy",ua(s,e))}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const eR=6;class tR{constructor(e){var n;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??eR,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nR{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tw(this),this.idTokenSubscription=new tw(this),this.beforeStateQueue=new X4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Uk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ls(n)),this._initializationPromise=this.queue(async()=>{var i,o,u;if(!this._deleted&&(this.persistenceManager=await co.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Lh(this,{idToken:e}),i=await nr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Fn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)==null?void 0:n._redirectEventId,p=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!d||d===p)&&m!=null&&m.user&&(o=m.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ph(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=P4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fn(this.app))return Promise.reject(oi(this));const n=e?Yt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(oi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fn(this.app)?Promise.reject(oi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ls(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Z4(this),n=new tR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uu("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await Q4(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ls(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await co.create(this,[ls(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=((e=this.currentUser)==null?void 0:e.uid)??null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,i,o);return()=>{d=!0,m()}}else{const m=e.addObserver(n);return()=>{d=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getToken());return n!=null&&n.error&&R4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function So(s){return Yt(s)}class tw{constructor(e){this.auth=e,this.observer=null,this.addObserver=B_(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let sd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rR(s){sd=s}function tE(s){return sd.loadJS(s)}function sR(){return sd.recaptchaEnterpriseScript}function iR(){return sd.gapiScript}function aR(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class oR{constructor(){this.enterprise=new lR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class lR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const uR="recaptcha-enterprise",nE="NO_RECAPTCHA";class cR{constructor(e){this.type=uR,this.auth=So(e)}async verify(e="verify",n=!1){async function i(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{V4(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new z4(m);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,d(y.siteKey)}}).catch(m=>{p(m)})})}function o(u,d,p){const m=window.grecaptcha;Y0(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(y=>{d(y)}).catch(()=>{d(nE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oR().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{i(this.auth).then(p=>{if(!n&&Y0(window.grecaptcha))o(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let m=sR();m.length!==0&&(m+=p),tE(m).then(()=>{o(p,u,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function nw(s,e,n,i=!1,o=!1){const u=new cR(s);let d;if(o)d=nE;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const m=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const m=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return i?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function rw(s,e,n,i,o){var u;if((u=s._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await nw(s,e,n,n==="getOobCode");return i(s,d)}else return i(s,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await nw(s,e,n,n==="getOobCode");return i(s,p)}else return Promise.reject(d)})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function hR(s,e){const n=Vh(s,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Ji(o,e??{}))return i;ir(i,"already-initialized")}return n.initialize({options:e})}function dR(s,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ls);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function fR(s,e,n){const i=So(s);ve(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,u=rE(e),{host:d,port:p}=pR(e),m=p===null?"":`:${p}`,y={url:`${u}//${d}${m}/`},k=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){ve(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ve(Ji(y,i.config.emulator)&&Ji(k,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=k,i.settings.appVerificationDisabledForTesting=!0,mi(d)?(om(`${u}//${d}${m}`),lm("Auth",!0)):mR()}function rE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function pR(s){const e=rE(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const u=o[1];return{host:u,port:sw(i.substr(u.length+1))}}else{const[u,d]=i.split(":");return{host:u,port:sw(d)}}}function sw(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function mR(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Hm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return os("not implemented")}_getIdTokenResponse(e){return os("not implemented")}_linkToIdToken(e,n){return os("not implemented")}_getReauthenticationResolver(e){return os("not implemented")}}async function gR(s,e){return gi(s,"POST","/v1/accounts:signUp",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function yR(s,e){return rd(s,"POST","/v1/accounts:signInWithPassword",ua(s,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function vR(s,e){return rd(s,"POST","/v1/accounts:signInWithEmailLink",ua(s,e))}async function bR(s,e){return rd(s,"POST","/v1/accounts:signInWithEmailLink",ua(s,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class su extends Hm{constructor(e,n,i,o=null){super("password",i),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new su(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new su(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&n!=null&&n.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rw(e,n,"signInWithPassword",yR);case"emailLink":return vR(e,{email:this._email,oobCode:this._password});default:ir(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rw(e,i,"signUpPassword",gR);case"emailLink":return bR(e,{idToken:n,email:this._email,oobCode:this._password});default:ir(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function ho(s,e){return rd(s,"POST","/v1/accounts:signInWithIdp",ua(s,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const wR="http://localhost";class ta extends Hm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ir("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...u}=n;if(!i||!o)return null;const d=new ta(i,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return ho(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ho(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ho(e,n)}buildRequest(){const e={requestUri:wR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cu(n)}return e}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function kR(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ER(s){const e=jl(Ml(s)).link,n=e?jl(Ml(e)).deep_link_id:null,i=jl(Ml(s)).deep_link_id;return(i?jl(Ml(i)).link:null)||i||n||e||s}class Bm{constructor(e){const n=jl(Ml(e)),i=n.apiKey??null,o=n.oobCode??null,u=kR(n.mode??null);ve(i&&o&&u,"argument-error"),this.apiKey=i,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=ER(e);try{return new Bm(n)}catch{return null}}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _o{constructor(){this.providerId=_o.PROVIDER_ID}static credential(e,n){return su._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Bm.parseLink(n);return ve(i,"argument-error"),su._fromEmailAndCode(e,i.code,i.tenantId)}}_o.PROVIDER_ID="password";_o.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_o.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class yu extends sE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ys extends yu{constructor(){super("facebook.com")}static credential(e){return ta._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ys.credential(e.oauthAccessToken)}catch{return null}}}Ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ys.PROVIDER_ID="facebook.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Js extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ta._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Js.credential(n,i)}catch{return null}}}Js.GOOGLE_SIGN_IN_METHOD="google.com";Js.PROVIDER_ID="google.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xs extends yu{constructor(){super("github.com")}static credential(e){return ta._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xs.credential(e.oauthAccessToken)}catch{return null}}}Xs.GITHUB_SIGN_IN_METHOD="github.com";Xs.PROVIDER_ID="github.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zs extends yu{constructor(){super("twitter.com")}static credential(e,n){return ta._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Zs.credential(n,i)}catch{return null}}}Zs.TWITTER_SIGN_IN_METHOD="twitter.com";Zs.PROVIDER_ID="twitter.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const u=await nr._fromIdTokenResponse(e,i,o),d=iw(i);return new bo({user:u,providerId:d,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=iw(i);return new bo({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function iw(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Dh extends zr{constructor(e,n,i,o){super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Dh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new Dh(e,n,i,o)}}function iE(s,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Dh._fromErrorAndOperation(s,o,e,i):o})}async function xR(s,e,n=!1){const i=await ru(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return bo._forOperation(s,"link",i)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function TR(s,e,n=!1){const{auth:i}=s;if(Fn(i.app))return Promise.reject(oi(i));const o="reauthenticate";try{const u=await ru(s,iE(i,o,e,s),n);ve(u.idToken,i,"internal-error");const d=$m(u.idToken);ve(d,i,"internal-error");const{sub:p}=d;return ve(s.uid===p,i,"user-mismatch"),bo._forOperation(s,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ir(i,"user-mismatch"),u}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function aE(s,e,n=!1){if(Fn(s.app))return Promise.reject(oi(s));const i="signIn",o=await iE(s,i,e),u=await bo._fromIdTokenResponse(s,i,o);return n||await s._updateCurrentUser(u.user),u}async function SR(s,e){return aE(So(s),e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function _R(s){const e=So(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function NR(s,e,n){return Fn(s.app)?Promise.reject(oi(s)):SR(Yt(s),_o.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&_R(s),i})}function CR(s,e,n,i){return Yt(s).onIdTokenChanged(e,n,i)}function IR(s,e,n){return Yt(s).beforeAuthStateChanged(e,n)}function AR(s){return Yt(s).signOut()}const jh="__sak";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class oE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const RR=1e3,OR=10;class lE extends oE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Zk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,m)=>{this.notifyListeners(d,m)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(i);!n&&this.localCache[i]===d||this.notifyListeners(i,d)},u=this.storage.getItem(i);J4()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,OR):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},RR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lE.type="LOCAL";const LR=lE;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uE extends oE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}uE.type="SESSION";const cE=uE;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function PR(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class id{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new id(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:u}=n.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const p=Array.from(d).map(async y=>y(n.origin,u)),m=await PR(p);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}id.receivers=[];/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Gm(s="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return s+n}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class DR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((p,m)=>{const y=Gm("",20);o.port1.start();const k=setTimeout(()=>{m(new Error("unsupported_event"))},i);d={messageChannel:o,onMessage(E){const A=E;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(k),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(A.data.response);break;default:clearTimeout(k),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function jr(){return window}function jR(s){jr().location.href=s}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function hE(){return typeof jr().WorkerGlobalScope<"u"&&typeof jr().importScripts=="function"}async function MR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FR(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)==null?void 0:s.controller)||null}function UR(){return hE()?self:null}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const dE="firebaseLocalStorageDb",zR=1,Mh="firebaseLocalStorage",fE="fbase_key";class vu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ad(s,e){return s.transaction([Mh],e?"readwrite":"readonly").objectStore(Mh)}function VR(){const s=indexedDB.deleteDatabase(dE);return new vu(s).toPromise()}function Zp(){const s=indexedDB.open(dE,zR);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const i=s.result;try{i.createObjectStore(Mh,{keyPath:fE})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const i=s.result;i.objectStoreNames.contains(Mh)?e(i):(i.close(),await VR(),e(await Zp()))})})}async function aw(s,e,n){const i=ad(s,!0).put({[fE]:e,value:n});return new vu(i).toPromise()}async function $R(s,e){const n=ad(s,!1).get(e),i=await new vu(n).toPromise();return i===void 0?null:i.value}function ow(s,e){const n=ad(s,!0).delete(e);return new vu(n).toPromise()}const qR=800,HR=3;class pE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>HR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=id._getInstance(UR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await MR(),!this.activeServiceWorker)return;this.sender=new DR(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&(e=i[0])!=null&&e.fulfilled&&(n=i[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||FR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zp();return await aw(e,jh,"1"),await ow(e,jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>aw(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>$R(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ow(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=ad(o,!1).getAll();return new vu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pE.type="LOCAL";const BR=pE;new gu(3e4,6e4);/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function GR(s,e){return e?ls(e):(ve(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Km extends Hm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function KR(s){return aE(s.auth,new Km(s),s.bypassAuthState)}function WR(s){const{auth:e,user:n}=s;return ve(n,e,"internal-error"),TR(n,new Km(s),s.bypassAuthState)}async function QR(s){const{auth:e,user:n}=s;return ve(n,e,"internal-error"),xR(n,new Km(s),s.bypassAuthState)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mE{constructor(e,n,i,o,u=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const m={auth:this.auth,requestUri:n,sessionId:i,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KR;case"linkViaPopup":case"linkViaRedirect":return QR;case"reauthViaPopup":case"reauthViaRedirect":return WR;default:ir(this.auth,"internal-error")}}resolve(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const YR=new gu(2e3,1e4);class so extends mE{constructor(e,n,i,o,u){super(e,n,o,u),this.provider=i,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){ps(this.filter.length===1,"Popup operations only handle one event");const e=Gm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Dr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Dr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YR.get())};e()}}so.currentPopupAction=null;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const JR="pendingRedirect",ph=new Map;class XR extends mE{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const n=await ZR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(n){e=()=>Promise.reject(n)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZR(s,e){const n=n6(e),i=t6(s);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function e6(s,e){ph.set(s._key(),e)}function t6(s){return ls(s._redirectPersistence)}function n6(s){return fh(JR,s.config.apiKey,s.name)}async function r6(s,e,n=!1){if(Fn(s.app))return Promise.reject(oi(s));const i=So(s),o=GR(i,e),u=await new XR(i,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const s6=600*1e3;class i6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!a6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!gE(e)){const o=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(Dr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=s6&&this.cachedEventUids.clear(),this.cachedEventUids.has(lw(e))}saveEventToCache(e){this.cachedEventUids.add(lw(e)),this.lastProcessedEventTime=Date.now()}}function lw(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function gE({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function a6(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gE(s);default:return!1}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function o6(s,e={}){return gi(s,"GET","/v1/projects",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const l6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,u6=/^https?/;async function c6(s){if(s.config.emulator)return;const{authorizedDomains:e}=await o6(s);for(const n of e)try{if(h6(n))return}catch{}ir(s,"unauthorized-domain")}function h6(s){const e=Jp(),{protocol:n,hostname:i}=new URL(e);if(s.startsWith("chrome-extension://")){const u=new URL(s);return u.hostname===""&&i===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!u6.test(n))return!1;if(l6.test(s))return i===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const d6=new gu(3e4,6e4);function uw(){const s=jr().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function f6(s){return new Promise((e,n)=>{var i,o,u;function d(){uw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uw(),n(Dr(s,"network-request-failed"))},timeout:d6.get()})}if((o=(i=jr().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((u=jr().gapi)!=null&&u.load)d();else{const p=aR("iframefcb");return jr()[p]=()=>{gapi.load?d():n(Dr(s,"network-request-failed"))},tE(`${iR()}?onload=${p}`).catch(m=>n(m))}}).catch(e=>{throw mh=null,e})}let mh=null;function p6(s){return mh=mh||f6(s),mh}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const m6=new gu(5e3,15e3),g6="__/auth/iframe",y6="emulator/auth/iframe",v6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},b6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function w6(s){const e=s.config;ve(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Vm(e,y6):`https://${s.config.authDomain}/${g6}`,i={apiKey:e.apiKey,appName:s.name,v:sa},o=b6.get(s.config.apiHost);o&&(i.eid=o);const u=s._getFrameworks();return u.length&&(i.fw=u.join(",")),`${n}?${cu(i).slice(1)}`}async function k6(s){const e=await p6(s),n=jr().gapi;return ve(n,s,"internal-error"),e.open({where:document.body,url:w6(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:v6,dontclear:!0},i=>new Promise(async(o,u)=>{await i.restyle({setHideOnLeave:!1});const d=Dr(s,"network-request-failed"),p=jr().setTimeout(()=>{u(d)},m6.get());function m(){jr().clearTimeout(p),o(i)}i.ping(m).then(m,()=>{u(d)})}))}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const E6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},x6=500,T6=600,S6="_blank",_6="http://localhost";class cw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function N6(s,e,n,i=x6,o=T6){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-i)/2,0).toString();let p="";const m={...E6,width:i.toString(),height:o.toString(),top:u,left:d},y=nn().toLowerCase();n&&(p=Wk(y)?S6:n),Gk(y)&&(e=e||_6,m.scrollbars="yes");const k=Object.entries(m).reduce((A,[q,V])=>`${A}${q}=${V},`,"");if(Y4(y)&&p!=="_self")return C6(e||"",p),new cw(null);const E=window.open(e||"",p,k);ve(E,s,"popup-blocked");try{E.focus()}catch{}return new cw(E)}function C6(s,e){const n=document.createElement("a");n.href=s,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const I6="__/auth/handler",A6="emulator/auth/handler",R6=encodeURIComponent("fac");async function hw(s,e,n,i,o,u){ve(s.config.authDomain,s,"auth-domain-config-required"),ve(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:i,v:sa,eventId:o};if(e instanceof sE){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",H_(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[k,E]of Object.entries({}))d[k]=E}if(e instanceof yu){const k=e.getScopes().filter(E=>E!=="");k.length>0&&(d.scopes=k.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const k of Object.keys(p))p[k]===void 0&&delete p[k];const m=await s._getAppCheckToken(),y=m?`#${R6}=${encodeURIComponent(m)}`:"";return`${O6(s)}?${cu(p).slice(1)}${y}`}function O6({config:s}){return s.emulator?Vm(s,A6):`https://${s.authDomain}/${I6}`}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ep="webStorageSupport";class L6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cE,this._completeRedirectFn=r6,this._overrideRedirectResult=e6}async _openPopup(e,n,i,o){var u;ps((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const d=await hw(e,n,i,Jp(),o);return N6(e,d,Gm())}async _openRedirect(e,n,i,o){await this._originValidation(e);const u=await hw(e,n,i,Jp(),o);return jR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ps(u,"If manager is not set, promise should be"),u)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await k6(e),i=new i6(e);return n.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ep,{type:Ep},i=>{var o;const u=(o=i==null?void 0:i[0])==null?void 0:o[Ep];u!==void 0&&n(!!u),ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=c6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Zk()||Kk()||qm()}}const P6=L6;var dw="@firebase/auth",fw="1.12.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class D6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function j6(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function M6(s){Xi(new li("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=i.options;ve(d&&!d.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eE(s)},y=new nR(i,o,u,m);return dR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Xi(new li("auth-internal",e=>{const n=So(e.getProvider("auth").getImmediate());return(i=>new D6(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ar(dw,fw,j6(s)),Ar(dw,fw,"esm2020")}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const F6=300,U6=e1("authIdTokenMaxAge")||F6;let pw=null;const z6=s=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>U6)return;const o=n==null?void 0:n.token;pw!==o&&(pw=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function V6(s=hm()){const e=Vh(s,"auth");if(e.isInitialized())return e.getImmediate();const n=hR(s,{popupRedirectResolver:P6,persistence:[BR,LR,cE]}),i=e1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(i,location.origin);if(location.origin===u.origin){const d=z6(u.toString());IR(n,d,()=>d(n.currentUser)),CR(n,p=>d(p))}}const o=Jw("auth");return o&&fR(n,`http://${o}`),n}function $6(){var s;return((s=document.getElementsByTagName("head"))==null?void 0:s[0])??document}rR({loadJS(s){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",s),i.onload=e,i.onerror=o=>{const u=Dr("internal-error");u.customData=o,n(u)},i.type="text/javascript",i.charset="UTF-8",$6().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});M6("Browser");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yE="firebasestorage.googleapis.com",vE="storageBucket",q6=120*1e3,H6=600*1e3;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pt extends zr{constructor(e,n,i=0){super(xp(e),`Firebase Storage: ${n} (${xp(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return xp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ft;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ft||(ft={}));function xp(s){return"storage/"+s}function Wm(){const s="An unknown error occurred, please check the error payload for server response.";return new pt(ft.UNKNOWN,s)}function B6(s){return new pt(ft.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function G6(s){return new pt(ft.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function K6(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new pt(ft.UNAUTHENTICATED,s)}function W6(){return new pt(ft.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Q6(s){return new pt(ft.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function Y6(){return new pt(ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function J6(){return new pt(ft.CANCELED,"User canceled the upload/download.")}function X6(s){return new pt(ft.INVALID_URL,"Invalid URL '"+s+"'.")}function Z6(s){return new pt(ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function e3(){return new pt(ft.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+vE+"' property when initializing the app?")}function t3(){return new pt(ft.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function n3(){return new pt(ft.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function r3(s){return new pt(ft.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function em(s){return new pt(ft.INVALID_ARGUMENT,s)}function bE(){return new pt(ft.APP_DELETED,"The Firebase app was deleted.")}function s3(s){return new pt(ft.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Kl(s,e){return new pt(ft.INVALID_FORMAT,"String does not match format '"+s+"': "+e)}function Dl(s){throw new pt(ft.INTERNAL_ERROR,"Internal error: "+s)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Sn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Sn.makeFromUrl(e,n)}catch{return new Sn(e,"")}if(i.path==="")return i;throw Z6(e)}static makeFromUrl(e,n){let i=null;const o="([A-Za-z0-9.\\-_]+)";function u(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+o+d,"i"),m={bucket:1,path:3};function y(G){G.path_=decodeURIComponent(G.path)}const k="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",q=new RegExp(`^https?://${E}/${k}/b/${o}/o${A}`,"i"),V={bucket:1,path:3},K=n===yE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,W="([^?#]*)",ne=new RegExp(`^https?://${K}/${o}/${W}`,"i"),re=[{regex:p,indices:m,postModify:u},{regex:q,indices:V,postModify:y},{regex:ne,indices:{bucket:1,path:2},postModify:y}];for(let G=0;G<re.length;G++){const le=re[G],we=le.regex.exec(e);if(we){const se=we[le.indices.bucket];let _=we[le.indices.path];_||(_=""),i=new Sn(se,_),le.postModify(i);break}}if(i==null)throw X6(e);return i}}class i3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function a3(s,e,n){let i=1,o=null,u=null,d=!1,p=0;function m(){return p===2}let y=!1;function k(...W){y||(y=!0,e.apply(null,W))}function E(W){o=setTimeout(()=>{o=null,s(q,m())},W)}function A(){u&&clearTimeout(u)}function q(W,...ne){if(y){A();return}if(W){A(),k.call(null,W,...ne);return}if(m()||d){A(),k.call(null,W,...ne);return}i<64&&(i*=2);let re;p===1?(p=2,re=0):re=(i+Math.random())*1e3,E(re)}let V=!1;function K(W){V||(V=!0,A(),!y&&(o!==null?(W||(p=2),clearTimeout(o),E(0)):W||(p=1)))}return E(0),u=setTimeout(()=>{d=!0,K(!0)},n),K}function o3(s){s(!1)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function l3(s){return s!==void 0}function u3(s){return typeof s=="object"&&!Array.isArray(s)}function Qm(s){return typeof s=="string"||s instanceof String}function mw(s){return Ym()&&s instanceof Blob}function Ym(){return typeof Blob<"u"}function gw(s,e,n,i){if(i<e)throw em(`Invalid value for '${s}'. Expected ${e} or greater.`);if(i>n)throw em(`Invalid value for '${s}'. Expected ${n} or less.`)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Jm(s,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${s}`}function wE(s){const e=encodeURIComponent;let n="?";for(const i in s)if(s.hasOwnProperty(i)){const o=e(i)+"="+e(s[i]);n=n+o+"&"}return n=n.slice(0,-1),n}var Yi;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(Yi||(Yi={}));/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function c3(s,e){const n=s>=500&&s<600,i=[408,429].indexOf(s)!==-1,o=e.indexOf(s)!==-1;return n||i||o}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class h3{constructor(e,n,i,o,u,d,p,m,y,k,E,A=!0,q=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=m,this.timeout_=y,this.progressCallback_=k,this.connectionFactory_=E,this.retry=A,this.isUsingEmulator=q,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,K)=>{this.resolve_=V,this.reject_=K,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new nh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const d=p=>{const m=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,y)};this.progressCallback_!==null&&u.addUploadProgressListener(d),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(d),this.pendingConnection_=null;const p=u.getErrorCode()===Yi.NO_ERROR,m=u.getStatus();if(!p||c3(m,this.additionalRetryCodes_)&&this.retry){const k=u.getErrorCode()===Yi.ABORT;i(!1,new nh(!1,null,k));return}const y=this.successCodes_.indexOf(m)!==-1;i(!0,new nh(y,u))})},n=(i,o)=>{const u=this.resolve_,d=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(p,p.getResponse());l3(m)?u(m):u()}catch(m){d(m)}else if(p!==null){const m=Wm();m.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,m)):d(m)}else if(o.canceled){const m=this.appDelete_?bE():J6();d(m)}else{const m=Y6();d(m)}};this.canceled_?n(!1,new nh(!1,null,!0)):this.backoffId_=a3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&o3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class nh{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function d3(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function f3(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function p3(s,e){e&&(s["X-Firebase-GMPID"]=e)}function m3(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function g3(s,e,n,i,o,u,d=!0,p=!1){const m=wE(s.urlParams),y=s.url+m,k=Object.assign({},s.headers);return p3(k,e),d3(k,n),f3(k,u),m3(k,i),new h3(y,s.method,k,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,d,p)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function y3(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function v3(...s){const e=y3();if(e!==void 0){const n=new e;for(let i=0;i<s.length;i++)n.append(s[i]);return n.getBlob()}else{if(Ym())return new Blob(s);throw new pt(ft.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function b3(s,e,n){return s.webkitSlice?s.webkitSlice(e,n):s.mozSlice?s.mozSlice(e,n):s.slice?s.slice(e,n):null}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function w3(s){if(typeof atob>"u")throw r3("base-64");return atob(s)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ir={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Tp{constructor(e,n){this.data=e,this.contentType=n||null}}function k3(s,e){switch(s){case Ir.RAW:return new Tp(kE(e));case Ir.BASE64:case Ir.BASE64URL:return new Tp(EE(s,e));case Ir.DATA_URL:return new Tp(x3(e),T3(e))}throw Wm()}function kE(s){const e=[];for(let n=0;n<s.length;n++){let i=s.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<s.length-1&&(s.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=i,u=s.charCodeAt(++n);i=65536|(o&1023)<<10|u&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function E3(s){let e;try{e=decodeURIComponent(s)}catch{throw Kl(Ir.DATA_URL,"Malformed data URL.")}return kE(e)}function EE(s,e){switch(s){case Ir.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw Kl(s,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ir.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw Kl(s,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=w3(e)}catch(o){throw o.message.includes("polyfill")?o:Kl(s,"Invalid character found")}const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}class xE{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Kl(Ir.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=S3(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function x3(s){const e=new xE(s);return e.base64?EE(Ir.BASE64,e.rest):E3(e.rest)}function T3(s){return new xE(s).contentType}function S3(s,e){return s.length>=e.length?s.substring(s.length-e.length)===e:!1}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ei{constructor(e,n){let i=0,o="";mw(e)?(this.data_=e,i=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(mw(this.data_)){const i=this.data_,o=b3(i,e,n);return o===null?null:new ei(o)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new ei(i,!0)}}static getBlob(...e){if(Ym()){const n=e.map(i=>i instanceof ei?i.data_:i);return new ei(v3.apply(null,n))}else{const n=e.map(d=>Qm(d)?k3(Ir.RAW,d).data:d.data_);let i=0;n.forEach(d=>{i+=d.byteLength});const o=new Uint8Array(i);let u=0;return n.forEach(d=>{for(let p=0;p<d.length;p++)o[u++]=d[p]}),new ei(o,!0)}}uploadData(){return this.data_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function TE(s){let e;try{e=JSON.parse(s)}catch{return null}return u3(e)?e:null}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _3(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function N3(s,e){const n=e.split("/").filter(i=>i.length>0).join("/");return s.length===0?n:s+"/"+n}function SE(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function C3(s,e){return e}class on{constructor(e,n,i,o){this.server=e,this.local=n||e,this.writable=!!i,this.xform=o||C3}}let rh=null;function I3(s){return!Qm(s)||s.length<2?s:SE(s)}function _E(){if(rh)return rh;const s=[];s.push(new on("bucket")),s.push(new on("generation")),s.push(new on("metageneration")),s.push(new on("name","fullPath",!0));function e(u,d){return I3(d)}const n=new on("name");n.xform=e,s.push(n);function i(u,d){return d!==void 0?Number(d):d}const o=new on("size");return o.xform=i,s.push(o),s.push(new on("timeCreated")),s.push(new on("updated")),s.push(new on("md5Hash",null,!0)),s.push(new on("cacheControl",null,!0)),s.push(new on("contentDisposition",null,!0)),s.push(new on("contentEncoding",null,!0)),s.push(new on("contentLanguage",null,!0)),s.push(new on("contentType",null,!0)),s.push(new on("metadata","customMetadata",!0)),rh=s,rh}function A3(s,e){function n(){const i=s.bucket,o=s.fullPath,u=new Sn(i,o);return e._makeStorageReference(u)}Object.defineProperty(s,"ref",{get:n})}function R3(s,e,n){const i={};i.type="file";const o=n.length;for(let u=0;u<o;u++){const d=n[u];i[d.local]=d.xform(i,e[d.server])}return A3(i,s),i}function NE(s,e,n){const i=TE(e);return i===null?null:R3(s,i,n)}function O3(s,e,n,i){const o=TE(e);if(o===null||!Qm(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const d=encodeURIComponent;return u.split(",").map(p=>{const m=s.bucket,y=s.fullPath,k="/b/"+d(m)+"/o/"+d(y),E=Jm(k,n,i),A=wE({alt:"media",token:p});return E+A})[0]}function L3(s,e){const n={},i=e.length;for(let o=0;o<i;o++){const u=e[o];u.writable&&(n[u.server]=s[u.local])}return JSON.stringify(n)}class CE{constructor(e,n,i,o){this.url=e,this.method=n,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function IE(s){if(!s)throw Wm()}function P3(s,e){function n(i,o){const u=NE(s,o,e);return IE(u!==null),u}return n}function D3(s,e){function n(i,o){const u=NE(s,o,e);return IE(u!==null),O3(u,o,s.host,s._protocol)}return n}function AE(s){function e(n,i){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=W6():o=K6():n.getStatus()===402?o=G6(s.bucket):n.getStatus()===403?o=Q6(s.path):o=i,o.status=n.getStatus(),o.serverResponse=i.serverResponse,o}return e}function j3(s){const e=AE(s);function n(i,o){let u=e(i,o);return i.getStatus()===404&&(u=B6(s.path)),u.serverResponse=o.serverResponse,u}return n}function M3(s,e,n){const i=e.fullServerUrl(),o=Jm(i,s.host,s._protocol),u="GET",d=s.maxOperationRetryTime,p=new CE(o,u,D3(s,n),d);return p.errorHandler=j3(e),p}function F3(s,e){return s&&s.contentType||e&&e.type()||"application/octet-stream"}function U3(s,e,n){const i=Object.assign({},n);return i.fullPath=s.path,i.size=e.size(),i.contentType||(i.contentType=F3(null,e)),i}function z3(s,e,n,i,o){const u=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function p(){let G="";for(let le=0;le<2;le++)G=G+Math.random().toString().slice(2);return G}const m=p();d["Content-Type"]="multipart/related; boundary="+m;const y=U3(e,i,o),k=L3(y,n),E="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+k+`\r
--`+m+`\r
Content-Type: `+y.contentType+`\r
\r
`,A=`\r
--`+m+"--",q=ei.getBlob(E,i,A);if(q===null)throw t3();const V={name:y.fullPath},K=Jm(u,s.host,s._protocol),W="POST",ne=s.maxUploadRetryTime,re=new CE(K,W,P3(s,n),ne);return re.urlParams=V,re.headers=d,re.body=q.uploadData(),re.errorHandler=AE(e),re}class V3{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Yi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Yi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Yi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,o,u){if(this.sent_)throw Dl("cannot .send() more than once");if(mi(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const d in u)u.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,u[d].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Dl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Dl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Dl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Dl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class $3 extends V3{initXhr(){this.xhr_.responseType="text"}}function RE(){return new $3}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class na{constructor(e,n){this._service=e,n instanceof Sn?this._location=n:this._location=Sn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new na(e,n)}get root(){const e=new Sn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return SE(this._location.path)}get storage(){return this._service}get parent(){const e=_3(this._location.path);if(e===null)return null;const n=new Sn(this._location.bucket,e);return new na(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw s3(e)}}function q3(s,e,n){s._throwIfRoot("uploadBytes");const i=z3(s.storage,s._location,_E(),new ei(e,!0),n);return s.storage.makeRequestWithTokens(i,RE).then(o=>({metadata:o,ref:s}))}function H3(s){s._throwIfRoot("getDownloadURL");const e=M3(s.storage,s._location,_E());return s.storage.makeRequestWithTokens(e,RE).then(n=>{if(n===null)throw n3();return n})}function B3(s,e){const n=N3(s._location.path,e),i=new Sn(s._location.bucket,n);return new na(s.storage,i)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function G3(s){return/^[A-Za-z]+:\/\//.test(s)}function K3(s,e){return new na(s,e)}function OE(s,e){if(s instanceof Xm){const n=s;if(n._bucket==null)throw e3();const i=new na(n,n._bucket);return e!=null?OE(i,e):i}else return e!==void 0?B3(s,e):s}function W3(s,e){if(e&&G3(e)){if(s instanceof Xm)return K3(s,e);throw em("To use ref(service, url), the first argument must be a Storage instance.")}else return OE(s,e)}function yw(s,e){const n=e==null?void 0:e[vE];return n==null?null:Sn.makeFromBucketSpec(n,s)}function Q3(s,e,n,i={}){s.host=`${e}:${n}`;const o=mi(e);o&&(om(`https://${s.host}/b`),lm("Storage",!0)),s._isUsingEmulator=!0,s._protocol=o?"https":"http";const{mockUserToken:u}=i;u&&(s._overrideAuthToken=typeof u=="string"?u:t1(u,s.app.options.projectId))}class Xm{constructor(e,n,i,o,u,d=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=d,this._bucket=null,this._host=yE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=q6,this._maxUploadRetryTime=H6,this._requests=new Set,o!=null?this._bucket=Sn.makeFromBucketSpec(o,this._host):this._bucket=yw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Sn.makeFromBucketSpec(this._url,e):this._bucket=yw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new na(this,e)}_makeRequest(e,n,i,o,u=!0){if(this._deleted)return new i3(bE());{const d=g3(e,this._appId,i,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,n){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,o).getPromise()}}const vw="@firebase/storage",bw="0.14.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const LE="storage";function Y3(s,e,n){return s=Yt(s),q3(s,e,n)}function J3(s){return s=Yt(s),H3(s)}function X3(s,e){return s=Yt(s),W3(s,e)}function Z3(s=hm(),e){s=Yt(s);const n=Vh(s,LE).getImmediate({identifier:e}),i=Xw("storage");return i&&eO(n,...i),n}function eO(s,e,n,i={}){Q3(s,e,n,i)}function tO(s,{instanceIdentifier:e}){const n=s.getProvider("app").getImmediate(),i=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new Xm(n,i,o,e,sa)}function nO(){Xi(new li(LE,tO,"PUBLIC").setMultipleInstances(!0)),Ar(vw,bw,""),Ar(vw,bw,"esm2020")}nO();const rO={apiKey:"YOUR_API_KEY_HERE",authDomain:"nmstudio-b4105.firebaseapp.com",projectId:"nmstudio-b4105",storageBucket:"nmstudio-b4105.firebasestorage.app",messagingSenderId:"",appId:""},Zm=s1(rO),Sp=V6(Zm),gh=c4(Zm),sO=Z3(Zm),iO=({heroImages:s})=>{const[e,n]=z.useState(0),i=z.useCallback(()=>{n(u=>u===(s||[]).length-1?0:u+1)},[s]),o=z.useCallback(()=>{n(u=>u===0?(s||[]).length-1:u-1)},[s]);return z.useEffect(()=>{const u=setInterval(i,6e3);return()=>clearInterval(u)},[i]),w.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[(s||[]).map((u,d)=>w.jsxs("div",{className:`absolute inset-0 transition-opacity duration-1000 ease-in-out ${d===e?"opacity-100":"opacity-0"}`,children:[w.jsx("div",{className:"absolute inset-0 animate-breathe",children:w.jsx("img",{src:u,className:"w-full h-full object-cover",alt:`Hero ${d+1}`})}),w.jsx("div",{className:"absolute inset-0 bg-black/45 animate-pulse-brightness"})]},d)),w.jsx("button",{onClick:o,className:"absolute left-6 top-1/2 -translate-y-1/2 z-20 p-4 border border-white/20 text-white rounded-full hover:bg-brand-primary hover:border-brand-primary transition-all group",children:w.jsx(yS,{className:"w-10 h-10 group-hover:scale-110 transition-transform"})}),w.jsx("button",{onClick:i,className:"absolute right-6 top-1/2 -translate-y-1/2 z-20 p-4 border border-white/20 text-white rounded-full hover:bg-brand-primary hover:border-brand-primary transition-all group",children:w.jsx(bS,{className:"w-10 h-10 group-hover:scale-110 transition-transform"})}),w.jsx("div",{className:"absolute bottom-12 left-1/2 -translate-x-1/2 z-20 flex gap-3",children:(s||[]).map((u,d)=>w.jsx("button",{onClick:()=>n(d),className:`transition-all duration-500 rounded-full h-1.5 ${d===e?"w-12 bg-brand-primary":"w-4 bg-white/30 hover:bg-white/50"}`},d))})]})},aO=({target:s,duration:e=1e3,suffix:n="+"})=>{const[i,o]=z.useState(0),u=z.useRef(null),[d,p]=z.useState(!1);return z.useEffect(()=>{const m=new IntersectionObserver(([y])=>{y.isIntersecting&&!d&&p(!0)},{threshold:.5});return u.current&&m.observe(u.current),()=>m.disconnect()},[d]),z.useEffect(()=>{if(!d)return;let m=null;const y=k=>{m||(m=k);const E=k-m,A=Math.min(Math.floor(E/e*s),s);o(A),E<e&&requestAnimationFrame(y)};requestAnimationFrame(y)},[d,s,e]),w.jsxs("div",{ref:u,className:"text-4xl font-heading font-bold text-[#705d3f] transition-colors duration-300",style:{filter:"drop-shadow(0 2px 2px rgba(0,0,0,0.1))"},children:[i,n]})},oO={nav_items:[{label:"V CHNG TI",href:"#story",view:"about"},{label:"DCH V",href:"#services",view:"services"},{label:"D N",href:"#projects",view:"home"},{label:"CM NANG",href:"#blog",view:"handbook"},{label:"LIN H",href:"#contact",view:"contact"}],hero_images:["https://images.unsplash.com/photo-1600607686527-6fb886090705?auto=format&fit=crop&q=80&w=2000"],project_categories:[{id:"all",label:"Tt c",header:"TT C D N"},{id:"arch",label:"Thit k kin trc",header:"THIT K KIN TRC"},{id:"interior",label:"Thit k ni tht",header:"THIT K NI THT"},{id:"construction",label:"Thi Cng",header:"THI CNG HON THIN"},{id:"cgi",label:"Din ha CGI",header:"DIN HA CGI"},{id:"ai",label:"Dch V AI",header:"SNG TO BNG AI"}],projects:[]},PE=[{title:"THIT K KIN TRC",icon:w.jsx(Bw,{className:"w-5 h-5"}),img:"https://images.unsplash.com/photo-1600607687920-4e2a09cf159d?auto=format&fit=crop&q=80&w=600"},{title:"THIT K NI THT",icon:w.jsx(Hw,{className:"w-5 h-5"}),img:"https://images.unsplash.com/photo-1618221195710-dd6b41faaea6?auto=format&fit=crop&q=80&w=600"},{title:"THI CNG HON THIN",icon:w.jsx($w,{className:"w-5 h-5"}),img:"https://images.unsplash.com/photo-1503387762-592dee58c460?auto=format&fit=crop&q=80&w=600"},{title:"T VN GIM ST",icon:w.jsx(qw,{className:"w-5 h-5"}),img:"https://images.unsplash.com/photo-1541888946425-d81bb19480c5?auto=format&fit=crop&q=80&w=600"},{title:"DIN HO CGI",icon:w.jsx(Vw,{className:"w-5 h-5"}),img:"https://images.unsplash.com/photo-1600566753376-12c8ab7fb75b?auto=format&fit=crop&q=80&w=600"},{title:"SNG TO BNG AI",icon:w.jsx(Kw,{className:"w-5 h-5"}),img:"https://images.unsplash.com/photo-1677442136019-21780ecad995?auto=format&fit=crop&q=80&w=600"}],_p={arch:{label:"QUY TRNH THIT K KIN TRC",stages:[{title:"G 1",subtitle:"TIP NHN THNG TIN & KHO ST",desc:"Tip nhn yu cu, kho st hin trng t/cng trnh v kho st nhu cu chi tit ca gia ch.",icon:w.jsx(r_,{className:"w-8 h-8"})},{title:"G 2",subtitle:"BO GI & HP NG",desc:"Lp bo gi chi tit, cht tin  v k kt hp ng thit k chnh thc.",pay:" 50% Ph thit k",icon:w.jsx(IS,{className:"w-8 h-8"})},{title:"G 3",subtitle:"PHC THO & CONCEPT",desc:"Mt bng cng nng (2D) v gii gii php hnh khi kin trc (3D). iu chnh ti a 3 ln.",pay:" 30% Ph thit k",icon:w.jsx(Bw,{className:"w-8 h-8"})},{title:"G 4",subtitle:"H S K THUT THI CNG",desc:"Trin khai h s k thut chi tit phc v xin php v thi cng hon thin.",pay:" 20% Bn giao h s",icon:w.jsx(Hw,{className:"w-8 h-8"})}]},interior:{label:"QUY TRNH THIT K NI THT",stages:[{title:"G 1",subtitle:"KHO ST & PHN TCH",desc:"Kho st hin trng mt bng, o c v phn tch thi quen sinh hot gia ch.",icon:w.jsx(i_,{className:"w-8 h-8"})},{title:"G 2",subtitle:"BO GI & HP NG",desc:" xut phng n hp tc v k kt hp ng thit k ni tht.",pay:" 50% Ph thit k",icon:w.jsx(dS,{className:"w-8 h-8"})},{title:"G 3",subtitle:"PHC THO & CONCEPT",desc:"Mt bng 2D, Concept Moodboard vt liu v dng phi cnh 3D ni tht.",pay:" 30% Ph thit k",icon:w.jsx(DS,{className:"w-8 h-8"})},{title:"G 4",subtitle:"H S K THUT",desc:"Thit k h s k thut thi cng, sn xut ni tht chi tit v bn giao.",pay:" 20% Bn giao h s",icon:w.jsx(Vb,{className:"w-8 h-8"})}]},construction:{label:"THI CNG HON THIN NI THT",stages:[{title:"G 1",subtitle:"CHUN B",desc:"Kho st o c thc t, lp d ton chi tit v k hp ng thi cng.",pay:" 50% Tm ng thi cng",icon:w.jsx(xS,{className:"w-8 h-8"})},{title:"G 2",subtitle:"TRIN KHAI THI CNG",desc:"Sn xut ni tht ti xng, thi cng lp t ti cng trnh theo tin .",pay:" 30% Theo tin ",icon:w.jsx($w,{className:"w-8 h-8"})},{title:"G 3",subtitle:"HON THIN & BN GIAO",desc:"Nghim thu thm m, bn giao cng trnh v kch hot bo hnh.",pay:" 20% Khi bn giao",icon:w.jsx(cS,{className:"w-8 h-8"})}]},supervision:{label:"T VN GIM ST",stages:[{title:"G 1",subtitle:"TIP NHN & THNG NHT",desc:"Tip nhn h s thit k, xc nh phm vi v lp k hoch gim st.",pay:" 40% Tm ng",icon:w.jsx(Vb,{className:"w-8 h-8"})},{title:"G 2",subtitle:"GIM ST THI CNG",desc:"Kim tra thi cng theo h s, ghi nhn bo co v kin ngh iu chnh k thut.",pay:" 40% Theo tin ",icon:w.jsx(qw,{className:"w-8 h-8"})},{title:"G 3",subtitle:"NGHIM THU & BN GIAO",desc:"Tham gia nghim thu hon thin v bo co nh gi kt qu gim st.",pay:" 20% Kt thc H",icon:w.jsx(kS,{className:"w-8 h-8"})}]},cgi:{label:"QUY TRNH DIN HO CGI",stages:[{title:"G 1",subtitle:"TIP NHN BRIEF",desc:"Nhn bn v concept, thng nht s lng nh v mc  chi tit th hin.",pay:" 50% Tm ng",icon:w.jsx(RS,{className:"w-8 h-8"})},{title:"G 2",subtitle:"DNG HNH & NH SNG",desc:"Dng Model 3D khng gian, thit lp vt liu, nh sng v gc my.",icon:w.jsx(US,{className:"w-8 h-8"})},{title:"G 3",subtitle:"RENDER & HIU CHNH",desc:"Render nh cht lng cao v hiu chnh theo phn hi ca khch hng.",pay:" 40% Sau Render",icon:w.jsx(Vw,{className:"w-8 h-8"})},{title:"G 4",subtitle:"BN GIAO",desc:"Bn giao sn phm Final cht lng cao phc v truyn thng.",pay:" 10% Quyt ton",icon:w.jsx(h_,{className:"w-8 h-8"})}]},ai:{label:"SNG TO BNG AI",stages:[{title:"G 1",subtitle:"TIP NHN & NH HNG",desc:"Nhn Brief mc tiu s dng,  xut hng concept AI ph hp.",pay:" 50% Tm ng",icon:w.jsx(Kw,{className:"w-8 h-8"})},{title:"G 2",subtitle:"TRIN KHAI PHNG N AI",desc:"To concept & hnh nh bng AI chuyn su, th nghim nhiu bin th nhanh.",icon:w.jsx(lS,{className:"w-8 h-8"})},{title:"G 3",subtitle:"TINH CHNH & HON THIN",desc:"Lc chn phng n tt nht v tinh chnh chi tit theo phn hi.",pay:" 40% Cht phng n",icon:w.jsx(u_,{className:"w-8 h-8"})},{title:"G 4",subtitle:"BN GIAO",desc:"Bn giao sn phm Final v hng dn h tr s dng cho gia ch.",pay:" 10% Quyt ton",icon:w.jsx(QS,{className:"w-8 h-8"})}]}},lO=({content:s})=>{var e;const n=ou(),i=ar(),o=z.useRef(null),[u,d]=z.useState("arch"),[p,m]=z.useState("all"),[y,k]=z.useState(!1),{hero_images:E,project_categories:A,projects:q}=s,[V,K]=z.useState([]);z.useEffect(()=>{K(q||[]),(async()=>{try{const G=(await jk(Yp(gh,"projects"))).docs.map(le=>({id:le.id,...le.data()}));K(le=>[...G,...le])}catch(G){console.error("Failed to fetch dynamic projects:",G)}})()},[q]),z.useEffect(()=>{var G;((G=i.state)==null?void 0:G.scrollTo)==="projects"&&setTimeout(()=>{var le;(le=o.current)==null||le.scrollIntoView({behavior:"smooth"})},100)},[i]);const W=p==="all"?V:V.filter(G=>G.category===p),ne=y?W:W.slice(0,3),re=((e=(A||[]).find(G=>G.id===p))==null?void 0:e.header)||"TT C D N";return w.jsxs(w.Fragment,{children:[w.jsxs("section",{className:"relative h-screen flex items-center justify-center text-white overflow-hidden",children:[w.jsx(iO,{heroImages:E}),w.jsxs("div",{className:"relative z-10 text-center px-6 max-w-4xl",children:[w.jsx("h1",{className:"text-5xl md:text-7xl font-heading font-bold mb-4 leading-tight",children:"Gii php khng gian t  tng n hon thin"}),w.jsx("p",{className:"text-sm md:text-base text-gray-200 mb-10 max-w-2xl mx-auto font-light leading-relaxed",children:"Thit k, thi cng, din ho v sng to bng AI"}),w.jsx("div",{className:"flex flex-col md:flex-row gap-4 justify-center",children:w.jsx("a",{href:"#projects",onClick:G=>{var le;G.preventDefault(),(le=o.current)==null||le.scrollIntoView({behavior:"smooth"})},className:"bg-brand-primary py-4 px-10 font-bold uppercase tracking-widest hover:bg-white hover:text-black transition-all",children:"XEM CNG TRNH THC T"})})]})]}),w.jsx("section",{className:"bg-white py-20 border-b border-gray-100",children:w.jsx("div",{className:"container mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-8 text-center relative",children:[{v:15,l:"NM KINH NGHIM"},{v:250,l:"CNG TRNH HON THIN"},{v:10,l:"TNH THNH / QUC GIA"}].map((G,le)=>w.jsxs("div",{className:"group cursor-default flex flex-col items-center",children:[w.jsx(aO,{target:G.v}),w.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400 mt-2 font-bold",children:G.l})]},le))})}),w.jsx("section",{id:"services",className:"py-24 bg-white border-b border-gray-50 overflow-hidden",children:w.jsxs("div",{className:"container mx-auto px-6",children:[w.jsxs("div",{className:"text-center mb-16",children:[w.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold uppercase tracking-widest",children:"DCH V CUNG CP"}),w.jsx("div",{className:"w-20 h-1 bg-brand-primary mx-auto mt-6"})]}),w.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:PE.map((G,le)=>w.jsxs("div",{onClick:()=>n("/services"),className:"group relative overflow-hidden h-[350px] cursor-pointer shadow-lg rounded-sm",children:[w.jsx("img",{src:G.img,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",alt:G.title}),w.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent flex flex-col justify-end p-6",children:[w.jsx("div",{className:"text-brand-primary mb-3 transition-transform group-hover:-translate-y-1",children:G.icon}),w.jsx("h3",{className:"text-[10px] md:text-xs font-bold text-white uppercase tracking-[0.15em] leading-tight",children:G.title})]})]},le))})]})}),w.jsx("section",{className:"py-16 bg-[#e0ddd2] text-gray-900 overflow-hidden",children:w.jsxs("div",{className:"container mx-auto px-6",children:[w.jsx("div",{className:"flex justify-center mb-16 overflow-x-auto scrollbar-hide pb-4",children:w.jsx("div",{className:"inline-flex bg-white/50 p-1 rounded-sm border border-black/5 whitespace-nowrap shadow-sm",children:Object.keys(_p).map(G=>w.jsx("button",{onClick:()=>d(G),className:`px-5 py-3 text-[9px] md:text-[10px] font-bold uppercase tracking-[0.2em] transition-all ${u===G?"bg-brand-primary text-white shadow-lg":"text-gray-500 hover:text-brand-primary"}`,children:_p[G].label},G))})}),w.jsx("div",{className:"max-w-7xl mx-auto relative px-4",children:w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:_p[u].stages.map((G,le)=>w.jsxs("div",{className:"relative group animate-fadeIn flex flex-col items-center text-center",children:[w.jsx("div",{className:"w-12 h-12 rounded-full bg-white border border-gray-200 flex items-center justify-center z-10 group-hover:border-brand-primary transition-all shadow-md mb-6",children:w.jsx("div",{className:"text-gray-400 group-hover:text-brand-primary transition-all scale-75",children:G.icon})}),w.jsxs("div",{className:"bg-white/70 backdrop-blur-sm p-6 rounded-sm border border-black/5 group-hover:border-brand-primary/20 transition-all flex flex-col items-center w-full h-full shadow-sm hover:shadow-xl group-hover:bg-white",children:[w.jsx("h5",{className:"text-[10px] font-bold text-brand-primary uppercase tracking-[0.3em] mb-2",children:G.title}),w.jsx("h4",{className:"text-sm md:text-base font-bold mb-4 uppercase tracking-widest min-h-[40px] flex items-center justify-center text-gray-800",children:G.subtitle}),w.jsx("p",{className:"text-gray-600 text-[11px] font-medium tracking-widest leading-relaxed mb-6",children:G.desc}),G.pay&&w.jsxs("div",{className:"mt-auto flex items-center gap-2 bg-brand-primary/10 py-2 px-4 rounded-sm border border-brand-primary/10 w-fit",children:[w.jsx(SS,{className:"w-3 h-3 text-brand-primary"}),w.jsxs("span",{className:"text-[9px] font-bold text-brand-primary uppercase tracking-widest leading-none",children:["THNG TON: ",G.pay.replace("","").trim()]})]})]})]},le))})})]})}),w.jsx("section",{id:"projects",ref:o,className:"py-24 bg-gray-50 overflow-hidden",children:w.jsxs("div",{className:"container mx-auto px-6",children:[w.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-16 gap-6",children:[w.jsxs("div",{className:"w-full md:w-1/2",children:[w.jsx("h4",{className:"text-brand-primary font-bold text-xs uppercase tracking-[0.3em] mb-4 uppercase",children:"D N"}),w.jsx("h2",{className:"text-4xl font-heading font-bold uppercase tracking-widest transition-all animate-fadeIn",children:re})]}),w.jsx("div",{className:"w-full md:w-1/2 flex justify-end",children:w.jsx("div",{className:"flex flex-wrap gap-2 justify-end bg-white/50 p-2 border border-gray-100 rounded-sm",children:(A||[]).map(G=>w.jsx("button",{onClick:()=>{m(G.id),k(!1)},className:`px-4 py-2 text-[10px] font-bold uppercase tracking-widest transition-all ${p===G.id?"bg-brand-primary text-white shadow-sm":"text-gray-400 hover:text-brand-primary"}`,children:G.label},G.id))})})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:ne.length>0?ne.map(G=>w.jsxs("div",{onClick:()=>n(`/project/${G.id}`),className:"group cursor-pointer bg-white overflow-hidden shadow-md hover:shadow-2xl transition-all duration-500 rounded-sm",children:[w.jsxs("div",{className:"relative overflow-hidden aspect-[4/3]",children:[w.jsx("img",{src:G.gallery[0]||"placeholder.jpg",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-1000",alt:G.title}),w.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors"})]}),w.jsx("div",{className:"p-8 flex justify-between items-center text-center",children:w.jsxs("div",{className:"w-full",children:[w.jsx("h3",{className:"text-xl font-bold mb-2 group-hover:text-brand-primary transition-colors uppercase",children:G.title}),w.jsxs("p",{className:"text-[10px] text-gray-500 uppercase tracking-widest font-bold",children:[G.floors,"  ",G.area,"  ",G.style]})]})})]},G.id)):w.jsx("div",{className:"col-span-full py-20 text-center opacity-40",children:w.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest",children:"ang cp nht thm d n trong mc ny..."})})}),!y&&W.length>3&&w.jsx("div",{className:"flex justify-center mt-16 animate-fadeIn",children:w.jsxs("button",{onClick:()=>k(!0),className:"border-2 border-[#705d3f] text-[#705d3f] px-12 py-4 text-[12px] font-bold uppercase tracking-[0.3em] hover:bg-[#705d3f] hover:text-white transition-all rounded-sm shadow-md flex items-center gap-4 group",children:["TI THM ",w.jsx(Gw,{className:"w-4 h-4 group-hover:rotate-90 transition-transform"})]})})]})})]})},uO=()=>w.jsxs("div",{className:"pt-24 min-h-screen bg-[#e0ddd2] flex flex-col lg:flex-row animate-fadeIn",children:[w.jsxs("div",{className:"w-full lg:w-1/2 px-8 lg:px-24 py-16 flex flex-col justify-center",children:[w.jsx("h4",{className:"text-brand-primary font-bold text-xs uppercase tracking-[0.4em] mb-6",children:"GII THIU"}),w.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-bold mb-10 text-brand-secondary leading-tight uppercase",children:"V NM Studio"}),w.jsxs("div",{className:"space-y-6 text-gray-700 leading-relaxed text-sm md:text-base font-light",children:[w.jsx("p",{children:"NM Studio l n v hot ng trong lnh vc thit k kin trc  ni tht, thi cng hon thin v din ho khng gian, vi hn 15 nm kinh nghim trong ngnh."}),w.jsx("p",{children:"Thnh lp t nm 2007, NM Studio khi u vi cc d n thit k nh , bit th v tham gia din ho kin trc  ni tht cho nhiu cng ty thit k trong v ngoi nc."})]}),w.jsx("div",{className:"mt-12",children:w.jsx("div",{className:"w-20 h-1 bg-brand-primary"})})]}),w.jsx("div",{className:"w-full lg:w-1/2 min-h-[500px] lg:min-h-0 relative overflow-hidden",children:w.jsx("img",{src:"https://images.unsplash.com/photo-1600607687920-4e2a09cf159d?auto=format&fit=crop&q=80&w=2000",className:"w-full h-full object-cover grayscale hover:grayscale-0 transition-all duration-1000",alt:"Studio View"})})]}),cO=()=>w.jsxs("div",{className:"pt-24 min-h-screen bg-[#f4f1ea] animate-fadeIn",children:[w.jsxs("div",{className:"container mx-auto px-6 py-16 text-center max-w-4xl",children:[w.jsx("h4",{className:"text-brand-primary font-bold text-xs uppercase tracking-[0.4em] mb-6",children:"GII PHP TON DIN"}),w.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-bold mb-8 text-brand-secondary uppercase tracking-widest",children:"DCH V  NM STUDIO"}),w.jsx("p",{className:"text-gray-600 leading-relaxed text-sm md:text-base font-light mb-12",children:"NM Studio cung cp h sinh thi dch v ton din, p ng trn vn nhu cu t  tng n trin khai cho d n ca bn."}),w.jsx("div",{className:"w-20 h-1 bg-brand-primary mx-auto"})]}),w.jsx("div",{className:"container mx-auto px-6 pb-24 grid md:grid-cols-2 gap-16 items-center",children:PE.map((s,e)=>w.jsxs("div",{className:"group relative overflow-hidden h-[400px] shadow-xl",children:[w.jsx("img",{src:s.img,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700",alt:s.title}),w.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/20 to-transparent flex flex-col justify-end p-8",children:[w.jsx("div",{className:"text-brand-primary mb-4",children:s.icon}),w.jsx("h3",{className:"text-xl font-bold text-white uppercase tracking-widest",children:s.title})]})]},e))})]}),hO=()=>w.jsxs("div",{className:"pt-24 min-h-screen bg-white animate-fadeIn",children:[w.jsxs("div",{className:"h-[60vh] relative overflow-hidden flex items-center justify-center text-center",children:[w.jsx("img",{src:"https://images.unsplash.com/photo-1497366216548-37526070297c?auto=format&fit=crop&q=80&w=2000",className:"absolute inset-0 w-full h-full object-cover grayscale opacity-20",alt:"Blog BG"}),w.jsxs("div",{className:"relative z-10 px-6 max-w-4xl",children:[w.jsx("h4",{className:"text-brand-primary font-bold text-xs uppercase tracking-[0.5em] mb-6",children:"KIN THC CHUYN NGNH"}),w.jsx("h1",{className:"text-5xl md:text-7xl font-heading font-bold text-gray-900 mb-8 uppercase tracking-widest",children:"Cm Nang NM Studio"}),w.jsx("p",{className:"text-gray-500 font-light text-sm md:text-base leading-relaxed max-w-2xl mx-auto",children:"Chia s kinh nghim thc t trong thit k, thi cng v qun l d n xy dng t i ng 15 nm kinh nghim."})]})]}),w.jsx("div",{className:"container mx-auto px-6 py-20",children:w.jsx("div",{className:"max-w-4xl mx-auto space-y-24",children:w.jsxs("article",{className:"prose prose-brand max-w-none",children:[w.jsxs("div",{className:"flex items-center gap-4 mb-10 text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:[w.jsxs("span",{className:"flex items-center gap-2",children:[w.jsx(pS,{className:"w-3 h-3"})," 24 Thng 05, 2024"]}),w.jsx("span",{className:"w-1 h-1 bg-gray-300 rounded-full"}),w.jsx("span",{className:"text-brand-primary",children:"Kin trc & K thut"})]}),w.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-gray-900 mb-8 uppercase tracking-wide leading-snug",children:"La chn phong cch kin trc: Cn hiu ng  trnh lng ph v hi tic"}),w.jsxs("div",{className:"text-sm md:text-base text-gray-600 font-light leading-relaxed space-y-8",children:[w.jsxs("p",{children:[w.jsx("strong",{children:"1. M bi:"})," Trong hn 15 nm tham gia t vn v thi cng, chng ti nhn thy mt sai lm ph bin ca nhiu ch u t..."]}),w.jsx("h3",{className:"text-xl font-bold text-gray-800 uppercase tracking-widest mt-12 border-l-4 border-brand-primary pl-4",children:"2. Gii thch khi nim"}),w.jsx("p",{children:'Phong cch kin trc khng ch l "ci v" bn ngoi ca ngi nh...'}),w.jsx("div",{className:"mt-20 pt-10 border-t border-gray-100 italic text-gray-400 text-sm text-center",children:"Vic hiu ng v la chn phong cch kin trc s gip ch u t hn ch ri ro v pht sinh khng cn thit trong qu trnh thit k  thi cng. Nu cn t vn c th cho d n ca mnh, bn c th trao i thm vi NM Studio."})]})]})})})]}),dO=()=>w.jsxs("div",{className:"pt-24 min-h-screen bg-[#111] animate-fadeIn",children:[w.jsxs("div",{className:"py-20 text-center px-6",children:[w.jsx("h4",{className:"text-brand-primary font-bold text-[10px] uppercase tracking-[0.5em] mb-4",children:"CONTACT US"}),w.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-bold text-white uppercase tracking-widest mb-6",children:"Lin H / Nhn T Vn"}),w.jsx("div",{className:"w-16 h-1 bg-brand-primary mx-auto"})]}),w.jsx("div",{className:"container mx-auto px-6 pb-24",children:w.jsx("div",{className:"max-w-4xl mx-auto bg-[#1a1a1a] p-8 md:p-12 border border-white/5 shadow-2xl rounded-sm",children:w.jsxs("form",{id:"nm-contact",className:"space-y-10",children:[w.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Tn (bt buc)"}),w.jsx("input",{name:"firstName",required:!0,placeholder:"Tn",className:"w-full bg-[#111] border border-white/10 p-4 text-xs text-white focus:border-brand-primary outline-none transition-all"})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"H (bt buc)"}),w.jsx("input",{name:"lastName",required:!0,placeholder:"H",className:"w-full bg-[#111] border border-white/10 p-4 text-xs text-white focus:border-brand-primary outline-none transition-all"})]})]}),w.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Email (bt buc)"}),w.jsx("input",{type:"email",name:"email",required:!0,placeholder:"example@email.com",className:"w-full bg-[#111] border border-white/10 p-4 text-xs text-white focus:border-brand-primary outline-none transition-all"})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"in thoi (bt buc)"}),w.jsx("input",{name:"phone",required:!0,placeholder:"09xx xxx xxx",className:"w-full bg-[#111] border border-white/10 p-4 text-xs text-white focus:border-brand-primary outline-none transition-all"})]})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("legend",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Loi d n (bt buc  chn nhiu)"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:["Cng trnh mi","Ci to / nng cp","Ni tht","Kin trc","Thng mi / Vn phng / Dch v","Khc"].map(s=>w.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[w.jsx("input",{type:"checkbox",name:"projectTypes",value:s,className:"w-4 h-4 accent-brand-primary"}),w.jsx("span",{className:"text-[11px] text-gray-400 group-hover:text-white transition-colors",children:s})]},s))})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("legend",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Dch v quan tm (bt buc  chn nhiu)"}),w.jsx("div",{className:"space-y-3",children:["Design  Thit k kin trc / ni tht","Build  Thi cng hon thin ni tht","Visualization (CGI)  Din ho kin trc / ni tht","AI  Din ho nhanh & concept","AI Creative  Logo / Website /  ho / Truyn thng","Cha xc nh  cn t vn"].map(s=>w.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[w.jsx("input",{type:"checkbox",name:"services",value:s,className:"w-4 h-4 accent-brand-primary"}),w.jsx("span",{className:"text-[11px] text-gray-400 group-hover:text-white transition-colors",children:s})]},s))})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"V tr d n"}),w.jsx("input",{name:"location",placeholder:"Qun / Thnh ph / Tnh",className:"w-full bg-[#111] border border-white/10 p-4 text-xs text-white focus:border-brand-primary outline-none transition-all"})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("legend",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Phm vi mong mun (chn nhiu)"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["T vn nh hng ban u","Thit k concept","Thit k chi tit k thut","Thi cng trn gi","Din ho thuyt trnh / marketing","ng dng AI  ln  tng nhanh"].map(s=>w.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[w.jsx("input",{type:"checkbox",name:"scope",value:s,className:"w-4 h-4 accent-brand-primary"}),w.jsx("span",{className:"text-[11px] text-gray-400 group-hover:text-white transition-colors",children:s})]},s))})]}),w.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Thi gian d kin"}),w.jsxs("select",{name:"timeline",className:"w-full bg-[#111] border border-white/10 p-4 text-xs text-white focus:border-brand-primary outline-none transition-all appearance-none",children:[w.jsx("option",{value:"",children:"Chn"}),w.jsx("option",{children:"Ngay"}),w.jsx("option",{children:"Trong 13 thng"}),w.jsx("option",{children:"Trong 36 thng"}),w.jsx("option",{children:"Cha xc nh"})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Ngn sch d kin"}),w.jsxs("select",{name:"budget",className:"w-full bg-[#111] border border-white/10 p-4 text-xs text-white focus:border-brand-primary outline-none transition-all appearance-none",children:[w.jsx("option",{value:"",children:"Chn"}),w.jsx("option",{children:"Di 500 triu"}),w.jsx("option",{children:"500 triu  1 t"}),w.jsx("option",{children:"1  3 t"}),w.jsx("option",{children:"Trn 3 t"}),w.jsx("option",{children:"Cha xc nh / mun t vn"})]})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Hy cho chng ti bit thm v d n ca bn (bt buc)"}),w.jsx("p",{className:"text-[9px] text-gray-500 uppercase italic mb-2 tracking-widest",children:"Gi : Loi cng trnh, din tch, tnh trng hin ti, phong cch mong mun..."}),w.jsx("textarea",{name:"message",required:!0,rows:6,placeholder:"V d: Cn h 85m2, cn thit k ni tht theo phong cch hin i...",className:"w-full bg-[#111] border border-white/10 p-4 text-xs text-white focus:border-brand-primary outline-none transition-all resize-none"})]}),w.jsxs("div",{className:"text-center space-y-4",children:[w.jsxs("button",{type:"submit",className:"bg-[#D49910] hover:bg-[#B3800D] text-black font-bold uppercase tracking-[0.3em] px-12 py-5 text-sm transition-all shadow-xl rounded-sm active:scale-95 flex items-center gap-4 mx-auto",children:["Np / Send ",w.jsx(o_,{className:"w-4 h-4"})]}),w.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-widest opacity-75",children:"NM Studio s lin h li trong 2448 gi lm vic."})]})]})})})]}),fO=({projects:s})=>{const{id:e}=iT(),n=ou(),i=s.find(d=>String(d.id)===e),[o,u]=z.useState("");return z.useEffect(()=>{i&&i.gallery&&i.gallery.length>0&&u(i.gallery[0])},[i]),i?w.jsx("div",{className:"pt-24 min-h-screen bg-white animate-fadeIn",children:w.jsxs("div",{className:"container mx-auto px-6 py-12",children:[w.jsxs("button",{onClick:()=>n("/"),className:"flex items-center gap-2 text-gray-400 hover:text-brand-primary text-xs font-bold uppercase tracking-widest mb-12 transition-all group",children:[w.jsx(aS,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})," Quay li trang ch"]}),w.jsxs("div",{className:"flex flex-col lg:flex-row gap-16",children:[w.jsxs("div",{className:"w-full lg:w-1/3 space-y-10",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-bold text-gray-900 leading-tight mb-4 uppercase",children:i.title}),w.jsx("div",{className:"w-16 h-1 bg-brand-primary"})]}),w.jsx("div",{className:"grid grid-cols-2 gap-y-8 gap-x-4",children:[{label:"V tr",val:i.location},{label:"Nm thc hin",val:i.year},{label:"Phong cch",val:i.style},{label:"Quy m",val:i.floors},{label:"Din tch",val:i.area},{label:"Loi hnh",val:i.type}].map((d,p)=>w.jsxs("div",{children:[w.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest mb-1",children:d.label}),w.jsx("p",{className:"text-sm font-bold text-gray-800 uppercase",children:d.val})]},p))}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest mb-1",children:"M t d n"}),w.jsx("p",{className:"text-sm text-gray-600 leading-relaxed font-light",children:i.description})]}),w.jsx("button",{onClick:()=>n("/contact"),className:"w-full bg-brand-primary text-white py-4 px-10 text-[11px] font-bold uppercase tracking-widest hover:bg-brand-secondary transition-all shadow-lg",children:"LIN H NGAY"})]}),w.jsxs("div",{className:"w-full lg:w-2/3 space-y-6",children:[w.jsx("div",{className:"aspect-video w-full overflow-hidden shadow-2xl bg-gray-100",children:w.jsx("img",{src:o,className:"w-full h-full object-cover animate-fadeIn",alt:i.title})}),w.jsx("div",{className:"grid grid-cols-4 md:grid-cols-6 gap-4",children:i.gallery.map((d,p)=>w.jsx("div",{onClick:()=>u(d),className:`aspect-square overflow-hidden cursor-pointer border-2 transition-all ${o===d?"border-brand-primary opacity-100 scale-95":"border-transparent opacity-60 hover:opacity-100"}`,children:w.jsx("img",{src:d,className:"w-full h-full object-cover",alt:`Thumb ${p}`})},p))})]})]})]})}):w.jsxs("div",{className:"pt-32 text-center",children:[w.jsx("p",{children:"Khng tm thy d n hoc ang ti..."}),w.jsx("button",{onClick:()=>n("/"),className:"text-brand-primary mt-4 underline",children:"Quay v trang ch"})]})},pO=()=>{z.useEffect(()=>{console.log("!!! ADMIN COMPONENT MOUNTED !!!")},[]);const[s,e]=z.useState(null),[n,i]=z.useState(""),[o,u]=z.useState(""),[d,p]=z.useState(""),[m,y]=z.useState([]),[k,E]=z.useState(!1),[A,q]=z.useState(!1),[V,K]=z.useState({title:"",category:"arch",location:"",year:new Date().getFullYear().toString(),style:"",floors:"",area:"",type:"",description:"",gallery:[]});z.useEffect(()=>Sp.onAuthStateChanged(se=>{e(se),se&&W()}),[]);const W=async()=>{try{const se=(await jk(Yp(gh,"projects"))).docs.map(_=>({id:_.id,..._.data()}));y(se)}catch(se){console.error("Error fetching posts:",se)}},ne=async se=>{se.preventDefault(),p("");try{await NR(Sp,n,o)}catch(_){p("Login failed. Check your email/password."),console.error(_)}},re=async se=>{if(se.preventDefault(),!V.title)return alert("Title is required");try{q(!0),await N4(Yp(gh,"projects"),{...V,createdAt:new Date().toISOString()}),alert("Project created successfully!"),K({title:"",category:"arch",location:"",year:new Date().getFullYear().toString(),style:"",floors:"",area:"",type:"",description:"",gallery:[]}),E(!1),W()}catch(_){console.error("Error adding document: ",_),alert("Error saving post")}finally{q(!1)}},G=async se=>{if(!se.target.files)return;q(!0);const _=Array.from(se.target.files);try{const S=_.map(async P=>{const R=X3(sO,`uploads/${Date.now()}_${P.name}`);return await Y3(R,P),await J3(R)}),N=await Promise.all(S);K(P=>({...P,gallery:[...P.gallery,...N]}))}catch(S){console.error("Upload failed",S),alert("Upload failed. Check console.")}finally{q(!1)}},le=async se=>{if(confirm("Are you sure you want to delete this project?"))try{await _4(_k(gh,"projects",se)),W()}catch(_){console.error("Error deleting doc:",_)}},we=se=>{K(_=>({..._,gallery:_.gallery.filter((S,N)=>N!==se)}))};return s?w.jsx("div",{className:"pt-24 pb-24 min-h-screen bg-gray-50 text-gray-800",children:w.jsxs("div",{className:"container mx-auto px-6",children:[w.jsxs("div",{className:"flex justify-between items-center mb-8",children:[w.jsx("h1",{className:"text-3xl font-heading font-bold text-brand-secondary",children:"Admin Dashboard"}),w.jsxs("div",{className:"flex gap-4",children:[w.jsxs("button",{onClick:()=>E(!k),className:"flex items-center gap-2 bg-brand-primary text-white px-4 py-2 rounded shadow hover:bg-brand-secondary transition",children:[w.jsx(Gw,{className:"w-4 h-4"})," ",k?"Cancel":"New Project"]}),w.jsx("button",{onClick:()=>AR(Sp),className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 transition",children:"Sign Out"})]})]}),k&&w.jsxs("div",{className:"bg-white p-8 rounded shadow-xl mb-10 animate-fadeIn border border-gray-200",children:[w.jsx("h2",{className:"text-xl font-bold mb-6 uppercase tracking-widest text-brand-primary",children:"Create New Project"}),w.jsxs("form",{onSubmit:re,className:"space-y-6",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 mb-1 block",children:"Tn D n"}),w.jsx("input",{className:"w-full border p-2 rounded",placeholder:"e.g. Villa Riverside",value:V.title,onChange:se=>K({...V,title:se.target.value})})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 mb-1 block",children:"Danh Mc"}),w.jsxs("select",{className:"w-full border p-2 rounded",value:V.category,onChange:se=>K({...V,category:se.target.value}),children:[w.jsx("option",{value:"arch",children:"Kin Trc"}),w.jsx("option",{value:"interior",children:"Ni Tht"}),w.jsx("option",{value:"construction",children:"Thi Cng"}),w.jsx("option",{value:"cgi",children:"CGI"}),w.jsx("option",{value:"ai",children:"AI Creative"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 mb-1 block",children:"V Tr"}),w.jsx("input",{className:"w-full border p-2 rounded",placeholder:"H Ni",value:V.location,onChange:se=>K({...V,location:se.target.value})})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 mb-1 block",children:"Nm"}),w.jsx("input",{className:"w-full border p-2 rounded",placeholder:"2024",value:V.year,onChange:se=>K({...V,year:se.target.value})})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 mb-1 block",children:"Din Tch"}),w.jsx("input",{className:"w-full border p-2 rounded",placeholder:"350m2",value:V.area,onChange:se=>K({...V,area:se.target.value})})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 mb-1 block",children:"S Tng / Quy M"}),w.jsx("input",{className:"w-full border p-2 rounded",placeholder:"3 tng",value:V.floors,onChange:se=>K({...V,floors:se.target.value})})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 mb-1 block",children:"Phong Cch"}),w.jsx("input",{className:"w-full border p-2 rounded",placeholder:"Hin i / Indochine",value:V.style,onChange:se=>K({...V,style:se.target.value})})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 mb-1 block",children:"Loi Hnh"}),w.jsx("input",{className:"w-full border p-2 rounded",placeholder:"Bit th / Nh ph",value:V.type,onChange:se=>K({...V,type:se.target.value})})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 mb-1 block",children:"M t"}),w.jsx("textarea",{className:"w-full border p-2 rounded h-32",placeholder:"M t chi tit d n...",value:V.description,onChange:se=>K({...V,description:se.target.value})})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 mb-2 block",children:"Hnh nh (Gallery)"}),w.jsx("div",{className:"border-2 border-dashed border-gray-300 p-8 text-center rounded bg-gray-50 hover:bg-gray-100 transition relative",children:A?w.jsx("p",{className:"text-brand-primary animate-pulse",children:"Uploading..."}):w.jsxs(w.Fragment,{children:[w.jsx(m_,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),w.jsx("p",{className:"text-sm text-gray-500",children:"Click to upload images"}),w.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:G,className:"absolute inset-0 opacity-0 cursor-pointer"})]})}),V.gallery.length>0&&w.jsx("div",{className:"grid grid-cols-6 gap-2 mt-4",children:V.gallery.map((se,_)=>w.jsxs("div",{className:"relative group aspect-square",children:[w.jsx("img",{src:se,className:"w-full h-full object-cover rounded shadow-sm",alt:"Preview"}),w.jsx("button",{type:"button",onClick:()=>we(_),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition",children:w.jsx(y_,{className:"w-3 h-3"})})]},_))})]}),w.jsx("div",{className:"flex justify-end pt-4",children:w.jsx("button",{type:"submit",disabled:A,className:"bg-brand-primary text-white px-8 py-3 rounded font-bold uppercase tracking-widest hover:bg-brand-secondary transition disabled:opacity-50",children:A?"Processing...":"Publish Project"})})]})]}),w.jsxs("div",{className:"bg-white rounded shadow-sm border border-gray-100 overflow-hidden",children:[w.jsx("div",{className:"p-6 border-b border-gray-100 bg-gray-50",children:w.jsxs("h3",{className:"font-bold uppercase text-sm text-gray-500 tracking-widest",children:["Existing Projects (",m.length,")"]})}),m.length===0?w.jsx("div",{className:"p-8 text-center text-gray-400",children:"No projects found. Create one!"}):w.jsx("div",{className:"divide-y divide-gray-100",children:m.map(se=>{var _;return w.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-gray-50 transition",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded overflow-hidden",children:((_=se.gallery)==null?void 0:_[0])&&w.jsx("img",{src:se.gallery[0],className:"w-full h-full object-cover",alt:"Thumb"})}),w.jsxs("div",{children:[w.jsx("h4",{className:"font-bold text-brand-secondary",children:se.title}),w.jsxs("p",{className:"text-xs text-gray-500",children:[se.category,"  ",se.year]})]})]}),w.jsx("div",{className:"flex gap-2",children:w.jsx("button",{onClick:()=>le(se.id),className:"p-2 text-red-400 hover:text-red-600",children:w.jsx(f_,{className:"w-5 h-5"})})})]},se.id)})})]})]})}):w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 py-32",children:w.jsxs("div",{className:"bg-white p-10 rounded-xl shadow-2xl w-full max-w-md border-t-8 border-brand-primary animate-fadeIn",children:[w.jsxs("div",{className:"text-center mb-10",children:[w.jsx("h2",{className:"text-3xl font-heading font-black text-brand-secondary uppercase tracking-tighter",children:"H THNG QUN TR"}),w.jsx("p",{className:"text-xs text-gray-400 mt-2 font-bold uppercase tracking-widest",children:"N&M Studio Control Panel"})]}),d&&w.jsx("p",{className:"bg-red-50 text-red-500 text-xs p-3 rounded mb-6 border border-red-100 font-medium",children:d}),w.jsxs("form",{onSubmit:ne,className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),w.jsx("input",{type:"email",required:!0,className:"mt-1 block w-full border border-gray-300 rounded p-2",value:n,onChange:se=>i(se.target.value)})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),w.jsx("input",{type:"password",required:!0,className:"mt-1 block w-full border border-gray-300 rounded p-2",value:o,onChange:se=>u(se.target.value)})]}),w.jsx("button",{type:"submit",className:"w-full bg-brand-primary text-white py-2 rounded hover:bg-brand-secondary transition font-bold",children:"LOGIN"})]})]})})},mO=()=>{const s=ar(),[e,n]=z.useState(oO),[i,o]=z.useState(!0);return z.useEffect(()=>{console.log("Current Path:",s.pathname)},[s]),z.useEffect(()=>{fetch("/content.json").then(u=>u.json()).then(u=>{n(u),o(!1)}).catch(u=>{console.error("Failed to load content:",u),o(!1)})},[]),i?w.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-[#111]",children:w.jsx("div",{className:"animate-pulse text-brand-primary font-heading font-bold tracking-widest uppercase text-xl",children:"NM Studio Loading..."})}):w.jsxs("div",{className:"font-sans text-gray-900 selection:bg-brand-primary selection:text-white",children:[w.jsx(b_,{navItems:e.nav_items}),w.jsxs(wT,{children:[w.jsx(Qs,{path:"/admin",element:w.jsx(pO,{})}),w.jsx(Qs,{path:"/about",element:w.jsx(uO,{})}),w.jsx(Qs,{path:"/services",element:w.jsx(cO,{})}),w.jsx(Qs,{path:"/handbook",element:w.jsx(hO,{})}),w.jsx(Qs,{path:"/contact",element:w.jsx(dO,{})}),w.jsx(Qs,{path:"/project/:id",element:w.jsx(fO,{projects:e.projects||[]})}),w.jsx(Qs,{path:"/",element:w.jsx(lO,{content:e})})]}),w.jsx(w_,{})]})},gO=Ex.createRoot(document.getElementById("root"));gO.render(w.jsx(mx.StrictMode,{children:w.jsx(HT,{children:w.jsx(mO,{})})}));
