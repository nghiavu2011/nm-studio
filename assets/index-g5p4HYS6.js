(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();function hx(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var wb={exports:{}},Rl={};/**
* @license React
* react-jsx-runtime.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var kb;function dx(){if(kb)return Rl;kb=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:d,ref:o!==void 0?o:null,props:u}}return Rl.Fragment=e,Rl.jsx=n,Rl.jsxs=n,Rl}var Eb;function fx(){return Eb||(Eb=1,wb.exports=dx()),wb.exports}var w=fx(),xb={exports:{}},xe={};/**
* @license React
* react.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Tb;function px(){if(Tb)return xe;Tb=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),A=Symbol.iterator;function $(D){return D===null||typeof D!="object"?null:(D=A&&D[A]||D["@@iterator"],typeof D=="function"?D:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,G={};function ne(D,Y,oe){this.props=D,this.context=Y,this.refs=G,this.updater=oe||F}ne.prototype.isReactComponent={},ne.prototype.setState=function(D,Y){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Y,"setState")},ne.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function re(){}re.prototype=ne.prototype;function W(D,Y,oe){this.props=D,this.context=Y,this.refs=G,this.updater=oe||F}var le=W.prototype=new re;le.constructor=W,K(le,ne.prototype),le.isPureReactComponent=!0;var we=Array.isArray;function ie(){}var _={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(D,Y,oe){var ce=oe.ref;return{$$typeof:i,type:D,key:Y,ref:ce!==void 0?ce:null,props:oe}}function O(D,Y){return C(D.type,Y,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function L(D){var Y={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(oe){return Y[oe]})}var N=/\/+/g;function st(D,Y){return typeof D=="object"&&D!==null&&D.key!=null?L(""+D.key):Y.toString(36)}function Rt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(ie,ie):(D.status="pending",D.then(function(Y){D.status==="pending"&&(D.status="fulfilled",D.value=Y)},function(Y){D.status==="pending"&&(D.status="rejected",D.reason=Y)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function J(D,Y,oe,ce,ke){var _e=typeof D;(_e==="undefined"||_e==="boolean")&&(D=null);var Ue=!1;if(D===null)Ue=!0;else switch(_e){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(D.$$typeof){case i:case e:Ue=!0;break;case k:return Ue=D._init,J(Ue(D._payload),Y,oe,ce,ke)}}if(Ue)return ke=ke(D),Ue=ce===""?"."+st(D,0):ce,we(ke)?(oe="",Ue!=null&&(oe=Ue.replace(N,"$&/")+"/"),J(ke,Y,oe,"",function(ys){return ys})):ke!=null&&(R(ke)&&(ke=O(ke,oe+(ke.key==null||D&&D.key===ke.key?"":(""+ke.key).replace(N,"$&/")+"/")+Ue)),Y.push(ke)),1;Ue=0;var Pt=ce===""?".":ce+":";if(we(D))for(var at=0;at<D.length;at++)ce=D[at],_e=Pt+st(ce,at),Ue+=J(ce,Y,oe,_e,ke);else if(at=$(D),typeof at=="function")for(D=at.call(D),at=0;!(ce=D.next()).done;)ce=ce.value,_e=Pt+st(ce,at++),Ue+=J(ce,Y,oe,_e,ke);else if(_e==="object"){if(typeof D.then=="function")return J(Rt(D),Y,oe,ce,ke);throw Y=String(D),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function ae(D,Y,oe){if(D==null)return D;var ce=[],ke=0;return J(D,ce,"","",function(_e){return Y.call(oe,_e,ke++)}),ce}function me(D){if(D._status===-1){var Y=D._result;Y=Y(),Y.then(function(oe){(D._status===0||D._status===-1)&&(D._status=1,D._result=oe)},function(oe){(D._status===0||D._status===-1)&&(D._status=2,D._result=oe)}),D._status===-1&&(D._status=0,D._result=Y)}if(D._status===1)return D._result.default;throw D._result}var ze=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},He={map:ae,forEach:function(D,Y,oe){ae(D,function(){Y.apply(this,arguments)},oe)},count:function(D){var Y=0;return ae(D,function(){Y++}),Y},toArray:function(D){return ae(D,function(Y){return Y})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return xe.Activity=E,xe.Children=He,xe.Component=ne,xe.Fragment=n,xe.Profiler=o,xe.PureComponent=W,xe.StrictMode=s,xe.Suspense=m,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,xe.__COMPILER_RUNTIME={__proto__:null,c:function(D){return _.H.useMemoCache(D)}},xe.cache=function(D){return function(){return D.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(D,Y,oe){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ce=K({},D.props),ke=D.key;if(Y!=null)for(_e in Y.key!==void 0&&(ke=""+Y.key),Y)!S.call(Y,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&Y.ref===void 0||(ce[_e]=Y[_e]);var _e=arguments.length-2;if(_e===1)ce.children=oe;else if(1<_e){for(var Ue=Array(_e),Pt=0;Pt<_e;Pt++)Ue[Pt]=arguments[Pt+2];ce.children=Ue}return C(D.type,ke,ce)},xe.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},xe.createElement=function(D,Y,oe){var ce,ke={},_e=null;if(Y!=null)for(ce in Y.key!==void 0&&(_e=""+Y.key),Y)S.call(Y,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(ke[ce]=Y[ce]);var Ue=arguments.length-2;if(Ue===1)ke.children=oe;else if(1<Ue){for(var Pt=Array(Ue),at=0;at<Ue;at++)Pt[at]=arguments[at+2];ke.children=Pt}if(D&&D.defaultProps)for(ce in Ue=D.defaultProps,Ue)ke[ce]===void 0&&(ke[ce]=Ue[ce]);return C(D,_e,ke)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(D){return{$$typeof:p,render:D}},xe.isValidElement=R,xe.lazy=function(D){return{$$typeof:k,_payload:{_status:-1,_result:D},_init:me}},xe.memo=function(D,Y){return{$$typeof:y,type:D,compare:Y===void 0?null:Y}},xe.startTransition=function(D){var Y=_.T,oe={};_.T=oe;try{var ce=D(),ke=_.S;ke!==null&&ke(oe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(ie,ze)}catch(_e){ze(_e)}finally{Y!==null&&oe.types!==null&&(Y.types=oe.types),_.T=Y}},xe.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},xe.use=function(D){return _.H.use(D)},xe.useActionState=function(D,Y,oe){return _.H.useActionState(D,Y,oe)},xe.useCallback=function(D,Y){return _.H.useCallback(D,Y)},xe.useContext=function(D){return _.H.useContext(D)},xe.useDebugValue=function(){},xe.useDeferredValue=function(D,Y){return _.H.useDeferredValue(D,Y)},xe.useEffect=function(D,Y){return _.H.useEffect(D,Y)},xe.useEffectEvent=function(D){return _.H.useEffectEvent(D)},xe.useId=function(){return _.H.useId()},xe.useImperativeHandle=function(D,Y,oe){return _.H.useImperativeHandle(D,Y,oe)},xe.useInsertionEffect=function(D,Y){return _.H.useInsertionEffect(D,Y)},xe.useLayoutEffect=function(D,Y){return _.H.useLayoutEffect(D,Y)},xe.useMemo=function(D,Y){return _.H.useMemo(D,Y)},xe.useOptimistic=function(D,Y){return _.H.useOptimistic(D,Y)},xe.useReducer=function(D,Y,oe){return _.H.useReducer(D,Y,oe)},xe.useRef=function(D){return _.H.useRef(D)},xe.useState=function(D){return _.H.useState(D)},xe.useSyncExternalStore=function(D,Y,oe){return _.H.useSyncExternalStore(D,Y,oe)},xe.useTransition=function(){return _.H.useTransition()},xe.version="19.2.4",xe}var Sb;function tm(){return Sb||(Sb=1,xb.exports=px()),xb.exports}var z=tm();const mx=hx(z);var ap={exports:{}},Pl={},_b={exports:{}},Cb={};/**
* @license React
* scheduler.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Nb;function gx(){return Nb||(Nb=1,(function(i){function e(J,ae){var me=J.length;J.push(ae);e:for(;0<me;){var ze=me-1>>>1,He=J[ze];if(0<o(He,ae))J[ze]=ae,J[me]=He,me=ze;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var ae=J[0],me=J.pop();if(me!==ae){J[0]=me;e:for(var ze=0,He=J.length,D=He>>>1;ze<D;){var Y=2*(ze+1)-1,oe=J[Y],ce=Y+1,ke=J[ce];if(0>o(oe,me))ce<He&&0>o(ke,oe)?(J[ze]=ke,J[ce]=me,ze=ce):(J[ze]=oe,J[Y]=me,ze=Y);else if(ce<He&&0>o(ke,me))J[ze]=ke,J[ce]=me,ze=ce;else break e}}return ae}function o(J,ae){var me=J.sortIndex-ae.sortIndex;return me!==0?me:J.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();i.unstable_now=function(){return d.now()-p}}var m=[],y=[],k=1,E=null,A=3,$=!1,F=!1,K=!1,G=!1,ne=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function le(J){for(var ae=n(y);ae!==null;){if(ae.callback===null)s(y);else if(ae.startTime<=J)s(y),ae.sortIndex=ae.expirationTime,e(m,ae);else break;ae=n(y)}}function we(J){if(K=!1,le(J),!F)if(n(m)!==null)F=!0,ie||(ie=!0,L());else{var ae=n(y);ae!==null&&Rt(we,ae.startTime-J)}}var ie=!1,_=-1,S=5,C=-1;function O(){return G?!0:!(i.unstable_now()-C<S)}function R(){if(G=!1,ie){var J=i.unstable_now();C=J;var ae=!0;try{e:{F=!1,K&&(K=!1,re(_),_=-1),$=!0;var me=A;try{t:{for(le(J),E=n(m);E!==null&&!(E.expirationTime>J&&O());){var ze=E.callback;if(typeof ze=="function"){E.callback=null,A=E.priorityLevel;var He=ze(E.expirationTime<=J);if(J=i.unstable_now(),typeof He=="function"){E.callback=He,le(J),ae=!0;break t}E===n(m)&&s(m),le(J)}else s(m);E=n(m)}if(E!==null)ae=!0;else{var D=n(y);D!==null&&Rt(we,D.startTime-J),ae=!1}}break e}finally{E=null,A=me,$=!1}ae=void 0}}finally{ae?L():ie=!1}}}var L;if(typeof W=="function")L=function(){W(R)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,st=N.port2;N.port1.onmessage=R,L=function(){st.postMessage(null)}}else L=function(){ne(R,0)};function Rt(J,ae){_=ne(function(){J(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(J){switch(A){case 1:case 2:case 3:var ae=3;break;default:ae=A}var me=A;A=ae;try{return J()}finally{A=me}},i.unstable_requestPaint=function(){G=!0},i.unstable_runWithPriority=function(J,ae){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var me=A;A=J;try{return ae()}finally{A=me}},i.unstable_scheduleCallback=function(J,ae,me){var ze=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ze+me:ze):me=ze,J){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=me+He,J={id:k++,callback:ae,priorityLevel:J,startTime:me,expirationTime:He,sortIndex:-1},me>ze?(J.sortIndex=me,e(y,J),n(m)===null&&J===n(y)&&(K?(re(_),_=-1):K=!0,Rt(we,me-ze))):(J.sortIndex=He,e(m,J),F||$||(F=!0,ie||(ie=!0,L()))),J},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(J){var ae=A;return function(){var me=A;A=ae;try{return J.apply(this,arguments)}finally{A=me}}}})(Cb)),Cb}var Ib;function yx(){return Ib||(Ib=1,_b.exports=gx()),_b.exports}var op={exports:{}},Yt={};/**
* @license React
* react-dom.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Ab;function vx(){if(Ab)return Yt;Ab=1;var i=tm();function e(m){var y="https://react.dev/errors/"+m;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var k=2;k<arguments.length;k++)y+="&args[]="+encodeURIComponent(arguments[k])}return"Minified React error #"+m+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,y,k){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:m,containerInfo:y,implementation:k}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,y){if(m==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(m,y){var k=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(m,y,null,k)},Yt.flushSync=function(m){var y=d.T,k=s.p;try{if(d.T=null,s.p=2,m)return m()}finally{d.T=y,s.p=k,s.d.f()}},Yt.preconnect=function(m,y){typeof m=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(m,y))},Yt.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Yt.preinit=function(m,y){if(typeof m=="string"&&y&&typeof y.as=="string"){var k=y.as,E=p(k,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,$=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;k==="style"?s.d.S(m,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:$}):k==="script"&&s.d.X(m,{crossOrigin:E,integrity:A,fetchPriority:$,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Yt.preinitModule=function(m,y){if(typeof m=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var k=p(y.as,y.crossOrigin);s.d.M(m,{crossOrigin:k,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(m)},Yt.preload=function(m,y){if(typeof m=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var k=y.as,E=p(k,y.crossOrigin);s.d.L(m,k,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Yt.preloadModule=function(m,y){if(typeof m=="string")if(y){var k=p(y.as,y.crossOrigin);s.d.m(m,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:k,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(m)},Yt.requestFormReset=function(m){s.d.r(m)},Yt.unstable_batchedUpdates=function(m,y){return m(y)},Yt.useFormState=function(m,y,k){return d.H.useFormState(m,y,k)},Yt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Yt.version="19.2.4",Yt}var Rb;function bx(){if(Rb)return op.exports;Rb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),op.exports=vx(),op.exports}/**
* @license React
* react-dom-client.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Pb;function wx(){if(Pb)return Pl;Pb=1;var i=yx(),e=tm(),n=bx();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function d(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function y(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return m(h),t;if(f===l)return m(h),r;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var v=!1,x=h.child;x;){if(x===a){v=!0,a=h,l=f;break}if(x===l){v=!0,l=h,a=f;break}x=x.sibling}if(!v){for(x=f.child;x;){if(x===a){v=!0,a=f,l=h;break}if(x===l){v=!0,l=f,a=h;break}x=x.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function k(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=k(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),$=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),re=Symbol.for("react.consumer"),W=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),we=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=R&&t[R]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function st(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case ne:return"Profiler";case G:return"StrictMode";case we:return"Suspense";case ie:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case W:return t.displayName||"Context";case re:return(t._context.displayName||"Context")+".Consumer";case le:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _:return r=t.displayName||null,r!==null?r:st(t.type)||"Memo";case S:r=t._payload,t=t._init;try{return st(t(r))}catch{}}return null}var Rt=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ze=[],He=-1;function D(t){return{current:t}}function Y(t){0>He||(t.current=ze[He],ze[He]=null,He--)}function oe(t,r){He++,ze[He]=t.current,t.current=r}var ce=D(null),ke=D(null),_e=D(null),Ue=D(null);function Pt(t,r){switch(oe(_e,r),oe(ke,t),oe(ce,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?$v(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=$v(r),t=qv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(ce),oe(ce,t)}function at(){Y(ce),Y(ke),Y(_e)}function ys(t){t.memoizedState!==null&&oe(Ue,t);var r=ce.current,a=qv(r,t.type);r!==a&&(oe(ke,t),oe(ce,a))}function ca(t){ke.current===t&&(Y(ce),Y(ke)),Ue.current===t&&(Y(Ue),Cl._currentValue=me)}var ha,da;function or(t){if(ha===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ha=r&&r[1]||"",da=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ha+t+da}var Co=!1;function vs(t,r){if(!t||Co)return"";Co=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(H){var B=H}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(H){B=H}t.call(Z.prototype)}}else{try{throw Error()}catch(H){B=H}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],x=f[1];if(v&&x){var I=v.split(`
`),V=x.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<V.length&&!V[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===V.length)for(l=I.length-1,h=V.length-1;1<=l&&0<=h&&I[l]!==V[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==V[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==V[h]){var Q=`
`+I[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{Co=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?or(a):""}function No(t,r){switch(t.tag){case 26:case 27:case 5:return or(t.type);case 16:return or("Lazy");case 13:return t.child!==r&&r!==null?or("Suspense Fallback"):or("Suspense");case 19:return or("SuspenseList");case 0:case 15:return vs(t.type,!1);case 11:return vs(t.type.render,!1);case 1:return vs(t.type,!0);case 31:return or("Activity");default:return""}}function Io(t){try{var r="",a=null;do r+=No(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var wt=Object.prototype.hasOwnProperty,Dt=i.unstable_scheduleCallback,mi=i.unstable_cancelCallback,od=i.unstable_shouldYield,bu=i.unstable_requestPaint,rn=i.unstable_now,bs=i.unstable_getCurrentPriorityLevel,Ao=i.unstable_ImmediatePriority,Ro=i.unstable_UserBlockingPriority,gi=i.unstable_NormalPriority,ld=i.unstable_LowPriority,wu=i.unstable_IdlePriority,ku=i.log,Eu=i.unstable_setDisableYieldValue,Bn=null,Ft=null;function _n(t){if(typeof ku=="function"&&Eu(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(Bn,t)}catch{}}var mt=Math.clz32?Math.clz32:Tu,xu=Math.log,fa=Math.LN2;function Tu(t){return t>>>=0,t===0?32:31-(xu(t)/fa|0)|0}var lr=256,ws=262144,kt=4194304;function ur(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function cr(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var x=l&134217727;return x!==0?(l=x&~f,l!==0?h=ur(l):(v&=x,v!==0?h=ur(v):a||(a=x&~t,a!==0&&(h=ur(a))))):(x=l&~f,x!==0?h=ur(x):v!==0?h=ur(v):a||(a=l&~t,a!==0&&(h=ur(a)))),h===0?0:r!==0&&r!==h&&(r&f)===0&&(f=h&-h,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:h}function $n(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function ud(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Su(){var t=kt;return kt<<=1,(kt&62914560)===0&&(kt=4194304),t}function hr(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function ks(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function cd(t,r,a,l,h,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var x=t.entanglements,I=t.expirationTimes,V=t.hiddenUpdates;for(a=v&~a;0<a;){var Q=31-mt(a),Z=1<<Q;x[Q]=0,I[Q]=-1;var B=V[Q];if(B!==null)for(V[Q]=null,Q=0;Q<B.length;Q++){var H=B[Q];H!==null&&(H.lane&=-536870913)}a&=~Z}l!==0&&Es(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~r))}function Es(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-mt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Po(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-mt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function Do(t,r){var a=r&-r;return a=(a&42)!==0?1:xs(a),(a&(t.suspendedLanes|r))!==0?0:a}function xs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Fr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function _u(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:fb(t.type))}function qn(t,r){var a=ae.p;try{return ae.p=t,r()}finally{ae.p=a}}var Hn=Math.random().toString(36).slice(2),Et="__reactFiber$"+Hn,jt="__reactProps$"+Hn,dr="__reactContainer$"+Hn,pa="__reactEvents$"+Hn,hd="__reactListeners$"+Hn,Cu="__reactHandles$"+Hn,Nu="__reactResources$"+Hn,fr="__reactMarker$"+Hn;function ma(t){delete t[Et],delete t[jt],delete t[pa],delete t[hd],delete t[Cu]}function pr(t){var r=t[Et];if(r)return r;for(var a=t.parentNode;a;){if(r=a[dr]||a[Et]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Xv(t);t!==null;){if(a=t[Et])return a;t=Xv(t)}return r}t=a,a=t.parentNode}return null}function Cn(t){if(t=t[Et]||t[dr]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function mn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function mr(t){var r=t[Nu];return r||(r=t[Nu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function xt(t){t[fr]=!0}var Oo=new Set,Mo={};function gr(t,r){yr(t,r),yr(t+"Capture",r)}function yr(t,r){for(Mo[t]=r,t=0;t<r.length;t++)Oo.add(r[t])}var Lo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jo={},Uo={};function Iu(t){return wt.call(Uo,t)?!0:wt.call(jo,t)?!1:Lo.test(t)?Uo[t]=!0:(jo[t]=!0,!1)}function ga(t,r,a){if(Iu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function gn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Tt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yi(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Vo(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,f.call(this,v)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function We(t){if(!t._valueTracker){var r=yi(t)?"checked":"value";t._valueTracker=Vo(t,r,""+t[r])}}function Ts(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=yi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function vr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ss=/[\n"\\]/g;function yn(t){return t.replace(Ss,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ya(t,r,a,l,h,f,v,x){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Ut(r)):t.value!==""+Ut(r)&&(t.value=""+Ut(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?zo(t,v,Ut(r)):a!=null?zo(t,v,Ut(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Ut(x):t.removeAttribute("name")}function Au(t,r,a,l,h,f,v,x){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null)){We(t);return}a=a!=null?""+Ut(a):"",r=r!=null?""+Ut(r):a,x||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=x?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),We(t)}function zo(t,r,a){r==="number"&&vr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function vi(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ut(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Ru(t,r,a){if(r!=null&&(r=""+Ut(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Ut(a):""}function bi(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Rt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Ut(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),We(t)}function ln(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fo(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Pu.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Bo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Fo(t,h,l)}else for(var f in r)r.hasOwnProperty(f)&&Fo(t,f,r[f])}function va(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(t){return wi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Wn(){}var $o=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ki=null,br=null;function _s(t){var r=Cn(t);if(r&&(t=r.stateNode)){var a=t[jt]||null;e:switch(t=r.stateNode,r.type){case"input":if(ya(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+yn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[jt]||null;if(!h)throw Error(s(90));ya(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Ts(l)}break e;case"textarea":Ru(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&vi(t,!!a.multiple,r,!1)}}}var wa=!1;function Ei(t,r,a){if(wa)return t(r,a);wa=!0;try{var l=t(r);return l}finally{if(wa=!1,(ki!==null||br!==null)&&(_c(),ki&&(r=ki,t=br,br=ki=null,_s(r),t)))for(r=0;r<t.length;r++)_s(t[r])}}function Kn(t,r){var a=t.stateNode;if(a===null)return null;var l=a[jt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cs=!1;if(In)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Cs=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Cs=!1}var wr=null,qo=null,Ns=null;function Ho(){if(Ns)return Ns;var t,r=qo,a=r.length,l,h="value"in wr?wr.value:wr.textContent,f=h.length;for(t=0;t<a&&r[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===h[f-l];l++);return Ns=h.slice(t,1<l?1-l:void 0)}function Is(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Br(){return!0}function Gn(){return!1}function Bt(t){function r(a,l,h,f,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(a=t[x],this[x]=a?a(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Br:Gn,this.isPropagationStopped=Gn,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Br)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Br)},persist:function(){},isPersistent:Br}),r}var $r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kr=Bt($r),xi=E({},$r,{view:0,detail:0}),Wo=Bt(xi),Ti,ka,Er,Ea=E({},xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Si,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Er&&(Er&&t.type==="mousemove"?(Ti=t.screenX-Er.screenX,ka=t.screenY-Er.screenY):ka=Ti=0,Er=t),Ti)},movementY:function(t){return"movementY"in t?t.movementY:ka}}),Ko=Bt(Ea),As=E({},Ea,{dataTransfer:0}),Ou=Bt(As),Mu=E({},xi,{relatedTarget:0}),Rs=Bt(Mu),Go=E({},$r,{animationName:0,elapsedTime:0,pseudoElement:0}),Lu=Bt(Go),xa=E({},$r,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ju=Bt(xa),Uu=E({},$r,{data:0}),xr=Bt(Uu),Vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bu(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Fu[t])?!!r[t]:!1}function Si(){return Bu}var sn=E({},xi,{key:function(t){if(t.key){var r=Vu[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Is(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Si,charCode:function(t){return t.type==="keypress"?Is(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Is(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$u=Bt(sn),qu=E({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qr=Bt(qu),c=E({},xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Si}),g=Bt(c),b=E({},$r,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Bt(b),j=E({},Ea,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Bt(j),se=E({},$r,{newState:0,oldState:0}),Ce=Bt(se),gt=[9,13,27,32],Ke=In&&"CompositionEvent"in window,ot=null;In&&"documentMode"in document&&(ot=document.documentMode);var An=In&&"TextEvent"in window&&!ot,Hr=In&&(!Ke||ot&&8<ot&&11>=ot),Qn=" ",Jn=!1;function Ps(t,r){switch(t){case"keyup":return gt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ta(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sa=!1;function ME(t,r){switch(t){case"compositionend":return Ta(r);case"keypress":return r.which!==32?null:(Jn=!0,Qn);case"textInput":return t=r.data,t===Qn&&Jn?null:t;default:return null}}function LE(t,r){if(Sa)return t==="compositionend"||!Ke&&Ps(t,r)?(t=Ho(),Ns=qo=wr=null,Sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Hr&&r.locale!=="ko"?null:r.data;default:return null}}var jE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!jE[t.type]:r==="textarea"}function tg(t,r,a,l){ki?br?br.push(l):br=[l]:ki=l,r=Dc(r,"onChange"),0<r.length&&(a=new kr("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Qo=null,Jo=null;function UE(t){jv(t,0)}function Hu(t){var r=mn(t);if(Ts(r))return t}function ng(t,r){if(t==="change")return r}var rg=!1;if(In){var dd;if(In){var fd="oninput"in document;if(!fd){var ig=document.createElement("div");ig.setAttribute("oninput","return;"),fd=typeof ig.oninput=="function"}dd=fd}else dd=!1;rg=dd&&(!document.documentMode||9<document.documentMode)}function sg(){Qo&&(Qo.detachEvent("onpropertychange",ag),Jo=Qo=null)}function ag(t){if(t.propertyName==="value"&&Hu(Jo)){var r=[];tg(r,Jo,t,Nn(t)),Ei(UE,r)}}function VE(t,r,a){t==="focusin"?(sg(),Qo=r,Jo=a,Qo.attachEvent("onpropertychange",ag)):t==="focusout"&&sg()}function zE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hu(Jo)}function FE(t,r){if(t==="click")return Hu(r)}function BE(t,r){if(t==="input"||t==="change")return Hu(r)}function $E(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var vn=typeof Object.is=="function"?Object.is:$E;function Xo(t,r){if(vn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!wt.call(r,h)||!vn(t[h],r[h]))return!1}return!0}function og(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lg(t,r){var a=og(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=og(a)}}function ug(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?ug(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function cg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=vr(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=vr(t.document)}return r}function pd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var qE=In&&"documentMode"in document&&11>=document.documentMode,_a=null,md=null,Yo=null,gd=!1;function hg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gd||_a==null||_a!==vr(l)||(l=_a,"selectionStart"in l&&pd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yo&&Xo(Yo,l)||(Yo=l,l=Dc(md,"onSelect"),0<l.length&&(r=new kr("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=_a)))}function Ds(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Ca={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionrun:Ds("Transition","TransitionRun"),transitionstart:Ds("Transition","TransitionStart"),transitioncancel:Ds("Transition","TransitionCancel"),transitionend:Ds("Transition","TransitionEnd")},yd={},dg={};In&&(dg=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Os(t){if(yd[t])return yd[t];if(!Ca[t])return t;var r=Ca[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in dg)return yd[t]=r[a];return t}var fg=Os("animationend"),pg=Os("animationiteration"),mg=Os("animationstart"),HE=Os("transitionrun"),WE=Os("transitionstart"),KE=Os("transitioncancel"),gg=Os("transitionend"),yg=new Map,vd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vd.push("scrollEnd");function Xn(t,r){yg.set(t,r),gr(r,[t])}var Wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Rn=[],Na=0,bd=0;function Ku(){for(var t=Na,r=bd=Na=0;r<t;){var a=Rn[r];Rn[r++]=null;var l=Rn[r];Rn[r++]=null;var h=Rn[r];Rn[r++]=null;var f=Rn[r];if(Rn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&vg(a,h,f)}}function Gu(t,r,a,l){Rn[Na++]=t,Rn[Na++]=r,Rn[Na++]=a,Rn[Na++]=l,bd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function wd(t,r,a,l){return Gu(t,r,a,l),Qu(t)}function Ms(t,r){return Gu(t,null,null,r),Qu(t)}function vg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&r!==null&&(h=31-mt(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),f):null}function Qu(t){if(50<wl)throw wl=0,Af=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ia={};function GE(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,r,a,l){return new GE(t,r,a,l)}function kd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wr(t,r){var a=t.alternate;return a===null?(a=bn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function bg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Ju(t,r,a,l,h,f){var v=0;if(l=t,typeof t=="function")kd(t)&&(v=1);else if(typeof t=="string")v=Z2(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=bn(31,a,r,h),t.elementType=C,t.lanes=f,t;case K:return Ls(a.children,h,f,r);case G:v=8,h|=24;break;case ne:return t=bn(12,a,r,h|2),t.elementType=ne,t.lanes=f,t;case we:return t=bn(13,a,r,h),t.elementType=we,t.lanes=f,t;case ie:return t=bn(19,a,r,h),t.elementType=ie,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case W:v=10;break e;case re:v=9;break e;case le:v=11;break e;case _:v=14;break e;case S:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=bn(v,a,r,h),r.elementType=t,r.type=l,r.lanes=f,r}function Ls(t,r,a,l){return t=bn(7,t,l,r),t.lanes=a,t}function Ed(t,r,a){return t=bn(6,t,null,r),t.lanes=a,t}function wg(t){var r=bn(18,null,null,0);return r.stateNode=t,r}function xd(t,r,a){return r=bn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var kg=new WeakMap;function Pn(t,r){if(typeof t=="object"&&t!==null){var a=kg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Io(r)},kg.set(t,r),r)}return{value:t,source:r,stack:Io(r)}}var Aa=[],Ra=0,Xu=null,Zo=0,Dn=[],On=0,_i=null,Tr=1,Sr="";function Kr(t,r){Aa[Ra++]=Zo,Aa[Ra++]=Xu,Xu=t,Zo=r}function Eg(t,r,a){Dn[On++]=Tr,Dn[On++]=Sr,Dn[On++]=_i,_i=t;var l=Tr;t=Sr;var h=32-mt(l)-1;l&=~(1<<h),a+=1;var f=32-mt(r)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Tr=1<<32-mt(r)+h|a<<h|l,Sr=f+t}else Tr=1<<f|a<<h|l,Sr=t}function Td(t){t.return!==null&&(Kr(t,1),Eg(t,1,0))}function Sd(t){for(;t===Xu;)Xu=Aa[--Ra],Aa[Ra]=null,Zo=Aa[--Ra],Aa[Ra]=null;for(;t===_i;)_i=Dn[--On],Dn[On]=null,Sr=Dn[--On],Dn[On]=null,Tr=Dn[--On],Dn[On]=null}function xg(t,r){Dn[On++]=Tr,Dn[On++]=Sr,Dn[On++]=_i,Tr=r.id,Sr=r.overflow,_i=t}var $t=null,tt=null,je=!1,Ci=null,Mn=!1,_d=Error(s(519));function Ni(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw el(Pn(r,t)),_d}function Tg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Et]=t,r[jt]=l,a){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(a=0;a<El.length;a++)Re(El[a],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":Re("invalid",r),Au(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Re("invalid",r);break;case"textarea":Re("invalid",r),bi(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Fv(r.textContent,a)?(l.popover!=null&&(Re("beforetoggle",r),Re("toggle",r)),l.onScroll!=null&&Re("scroll",r),l.onScrollEnd!=null&&Re("scrollend",r),l.onClick!=null&&(r.onclick=Wn),r=!0):r=!1,r||Ni(t,!0)}function Sg(t){for($t=t.return;$t;)switch($t.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:$t=$t.return}}function Pa(t){if(t!==$t)return!1;if(!je)return Sg(t),je=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Hf(t.type,t.memoizedProps)),a=!a),a&&tt&&Ni(t),Sg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=Jv(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=Jv(t)}else r===27?(r=tt,Bi(t.type)?(t=Jf,Jf=null,tt=t):tt=r):tt=$t?Ln(t.stateNode.nextSibling):null;return!0}function js(){tt=$t=null,je=!1}function Cd(){var t=Ci;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),Ci=null),t}function el(t){Ci===null?Ci=[t]:Ci.push(t)}var Nd=D(null),Us=null,Gr=null;function Ii(t,r,a){oe(Nd,r._currentValue),r._currentValue=a}function Qr(t){t._currentValue=Nd.current,Y(Nd)}function Id(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Ad(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;e:for(;f!==null;){var x=f;f=h;for(var I=0;I<r.length;I++)if(x.context===r[I]){f.lanes|=a,x=f.alternate,x!==null&&(x.lanes|=a),Id(f.return,a,t),l||(v=null);break e}f=x.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Id(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Da(t,r,a,l){t=null;for(var h=r,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var x=h.type;vn(h.pendingProps.value,v.value)||(t!==null?t.push(x):t=[x])}}else if(h===Ue.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Cl):t=[Cl])}h=h.return}t!==null&&Ad(r,t,a,l),r.flags|=262144}function Yu(t){for(t=t.firstContext;t!==null;){if(!vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Vs(t){Us=t,Gr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return _g(Us,t)}function Zu(t,r){return Us===null&&Vs(t),_g(t,r)}function _g(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Gr===null){if(t===null)throw Error(s(308));Gr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Gr=Gr.next=r;return a}var QE=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},JE=i.unstable_scheduleCallback,XE=i.unstable_NormalPriority,St={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rd(){return{controller:new QE,data:new Map,refCount:0}}function tl(t){t.refCount--,t.refCount===0&&JE(XE,function(){t.controller.abort()})}var nl=null,Pd=0,Oa=0,Ma=null;function YE(t,r){if(nl===null){var a=nl=[];Pd=0,Oa=Lf(),Ma={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Pd++,r.then(Cg,Cg),r}function Cg(){if(--Pd===0&&nl!==null){Ma!==null&&(Ma.status="fulfilled");var t=nl;nl=null,Oa=0,Ma=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function ZE(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ng=J.S;J.S=function(t,r){hv=rn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&YE(t,r),Ng!==null&&Ng(t,r)};var zs=D(null);function Dd(){var t=zs.current;return t!==null?t:et.pooledCache}function ec(t,r){r===null?oe(zs,zs.current):oe(zs,r.pool)}function Ig(){var t=Dd();return t===null?null:{parent:St._currentValue,pool:t}}var La=Error(s(460)),Od=Error(s(474)),tc=Error(s(542)),nc={then:function(){}};function Ag(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Rg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Wn,Wn),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Dg(t),t;default:if(typeof r.status=="string")r.then(Wn,Wn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Dg(t),t}throw Bs=r,La}}function Fs(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Bs=a,La):a}}var Bs=null;function Pg(){if(Bs===null)throw Error(s(459));var t=Bs;return Bs=null,t}function Dg(t){if(t===La||t===tc)throw Error(s(483))}var ja=null,rl=0;function rc(t){var r=rl;return rl+=1,ja===null&&(ja=[]),Rg(ja,t,r)}function il(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function ic(t,r){throw r.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Og(t){function r(M,P){if(t){var U=M.deletions;U===null?(M.deletions=[P],M.flags|=16):U.push(P)}}function a(M,P){if(!t)return null;for(;P!==null;)r(M,P),P=P.sibling;return null}function l(M){for(var P=new Map;M!==null;)M.key!==null?P.set(M.key,M):P.set(M.index,M),M=M.sibling;return P}function h(M,P){return M=Wr(M,P),M.index=0,M.sibling=null,M}function f(M,P,U){return M.index=U,t?(U=M.alternate,U!==null?(U=U.index,U<P?(M.flags|=67108866,P):U):(M.flags|=67108866,P)):(M.flags|=1048576,P)}function v(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function x(M,P,U,X){return P===null||P.tag!==6?(P=Ed(U,M.mode,X),P.return=M,P):(P=h(P,U),P.return=M,P)}function I(M,P,U,X){var pe=U.type;return pe===K?Q(M,P,U.props.children,X,U.key):P!==null&&(P.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===S&&Fs(pe)===P.type)?(P=h(P,U.props),il(P,U),P.return=M,P):(P=Ju(U.type,U.key,U.props,null,M.mode,X),il(P,U),P.return=M,P)}function V(M,P,U,X){return P===null||P.tag!==4||P.stateNode.containerInfo!==U.containerInfo||P.stateNode.implementation!==U.implementation?(P=xd(U,M.mode,X),P.return=M,P):(P=h(P,U.children||[]),P.return=M,P)}function Q(M,P,U,X,pe){return P===null||P.tag!==7?(P=Ls(U,M.mode,X,pe),P.return=M,P):(P=h(P,U),P.return=M,P)}function Z(M,P,U){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Ed(""+P,M.mode,U),P.return=M,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case $:return U=Ju(P.type,P.key,P.props,null,M.mode,U),il(U,P),U.return=M,U;case F:return P=xd(P,M.mode,U),P.return=M,P;case S:return P=Fs(P),Z(M,P,U)}if(Rt(P)||L(P))return P=Ls(P,M.mode,U,null),P.return=M,P;if(typeof P.then=="function")return Z(M,rc(P),U);if(P.$$typeof===W)return Z(M,Zu(M,P),U);ic(M,P)}return null}function B(M,P,U,X){var pe=P!==null?P.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return pe!==null?null:x(M,P,""+U,X);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case $:return U.key===pe?I(M,P,U,X):null;case F:return U.key===pe?V(M,P,U,X):null;case S:return U=Fs(U),B(M,P,U,X)}if(Rt(U)||L(U))return pe!==null?null:Q(M,P,U,X,null);if(typeof U.then=="function")return B(M,P,rc(U),X);if(U.$$typeof===W)return B(M,P,Zu(M,U),X);ic(M,U)}return null}function H(M,P,U,X,pe){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return M=M.get(U)||null,x(P,M,""+X,pe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case $:return M=M.get(X.key===null?U:X.key)||null,I(P,M,X,pe);case F:return M=M.get(X.key===null?U:X.key)||null,V(P,M,X,pe);case S:return X=Fs(X),H(M,P,U,X,pe)}if(Rt(X)||L(X))return M=M.get(U)||null,Q(P,M,X,pe,null);if(typeof X.then=="function")return H(M,P,U,rc(X),pe);if(X.$$typeof===W)return H(M,P,U,Zu(P,X),pe);ic(P,X)}return null}function he(M,P,U,X){for(var pe=null,Fe=null,de=P,Ne=P=0,De=null;de!==null&&Ne<U.length;Ne++){de.index>Ne?(De=de,de=null):De=de.sibling;var Be=B(M,de,U[Ne],X);if(Be===null){de===null&&(de=De);break}t&&de&&Be.alternate===null&&r(M,de),P=f(Be,P,Ne),Fe===null?pe=Be:Fe.sibling=Be,Fe=Be,de=De}if(Ne===U.length)return a(M,de),je&&Kr(M,Ne),pe;if(de===null){for(;Ne<U.length;Ne++)de=Z(M,U[Ne],X),de!==null&&(P=f(de,P,Ne),Fe===null?pe=de:Fe.sibling=de,Fe=de);return je&&Kr(M,Ne),pe}for(de=l(de);Ne<U.length;Ne++)De=H(de,M,Ne,U[Ne],X),De!==null&&(t&&De.alternate!==null&&de.delete(De.key===null?Ne:De.key),P=f(De,P,Ne),Fe===null?pe=De:Fe.sibling=De,Fe=De);return t&&de.forEach(function(Ki){return r(M,Ki)}),je&&Kr(M,Ne),pe}function ye(M,P,U,X){if(U==null)throw Error(s(151));for(var pe=null,Fe=null,de=P,Ne=P=0,De=null,Be=U.next();de!==null&&!Be.done;Ne++,Be=U.next()){de.index>Ne?(De=de,de=null):De=de.sibling;var Ki=B(M,de,Be.value,X);if(Ki===null){de===null&&(de=De);break}t&&de&&Ki.alternate===null&&r(M,de),P=f(Ki,P,Ne),Fe===null?pe=Ki:Fe.sibling=Ki,Fe=Ki,de=De}if(Be.done)return a(M,de),je&&Kr(M,Ne),pe;if(de===null){for(;!Be.done;Ne++,Be=U.next())Be=Z(M,Be.value,X),Be!==null&&(P=f(Be,P,Ne),Fe===null?pe=Be:Fe.sibling=Be,Fe=Be);return je&&Kr(M,Ne),pe}for(de=l(de);!Be.done;Ne++,Be=U.next())Be=H(de,M,Ne,Be.value,X),Be!==null&&(t&&Be.alternate!==null&&de.delete(Be.key===null?Ne:Be.key),P=f(Be,P,Ne),Fe===null?pe=Be:Fe.sibling=Be,Fe=Be);return t&&de.forEach(function(cx){return r(M,cx)}),je&&Kr(M,Ne),pe}function Ze(M,P,U,X){if(typeof U=="object"&&U!==null&&U.type===K&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case $:e:{for(var pe=U.key;P!==null;){if(P.key===pe){if(pe=U.type,pe===K){if(P.tag===7){a(M,P.sibling),X=h(P,U.props.children),X.return=M,M=X;break e}}else if(P.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===S&&Fs(pe)===P.type){a(M,P.sibling),X=h(P,U.props),il(X,U),X.return=M,M=X;break e}a(M,P);break}else r(M,P);P=P.sibling}U.type===K?(X=Ls(U.props.children,M.mode,X,U.key),X.return=M,M=X):(X=Ju(U.type,U.key,U.props,null,M.mode,X),il(X,U),X.return=M,M=X)}return v(M);case F:e:{for(pe=U.key;P!==null;){if(P.key===pe)if(P.tag===4&&P.stateNode.containerInfo===U.containerInfo&&P.stateNode.implementation===U.implementation){a(M,P.sibling),X=h(P,U.children||[]),X.return=M,M=X;break e}else{a(M,P);break}else r(M,P);P=P.sibling}X=xd(U,M.mode,X),X.return=M,M=X}return v(M);case S:return U=Fs(U),Ze(M,P,U,X)}if(Rt(U))return he(M,P,U,X);if(L(U)){if(pe=L(U),typeof pe!="function")throw Error(s(150));return U=pe.call(U),ye(M,P,U,X)}if(typeof U.then=="function")return Ze(M,P,rc(U),X);if(U.$$typeof===W)return Ze(M,P,Zu(M,U),X);ic(M,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,P!==null&&P.tag===6?(a(M,P.sibling),X=h(P,U),X.return=M,M=X):(a(M,P),X=Ed(U,M.mode,X),X.return=M,M=X),v(M)):a(M,P)}return function(M,P,U,X){try{rl=0;var pe=Ze(M,P,U,X);return ja=null,pe}catch(de){if(de===La||de===tc)throw de;var Fe=bn(29,de,null,M.mode);return Fe.lanes=X,Fe.return=M,Fe}finally{}}}var $s=Og(!0),Mg=Og(!1),Ai=!1;function Md(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ld(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ri(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Pi(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Qu(t),vg(t,null,a),r}return Gu(t,l,r,a),Qu(t)}function sl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Po(t,a)}}function jd(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=r:f=f.next=r}else h=f=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Ud=!1;function al(){if(Ud){var t=Ma;if(t!==null)throw t}}function ol(t,r,a,l){Ud=!1;var h=t.updateQueue;Ai=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var I=x,V=I.next;I.next=null,v===null?f=V:v.next=V,v=I;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,x=Q.lastBaseUpdate,x!==v&&(x===null?Q.firstBaseUpdate=V:x.next=V,Q.lastBaseUpdate=I))}if(f!==null){var Z=h.baseState;v=0,Q=V=I=null,x=f;do{var B=x.lane&-536870913,H=B!==x.lane;if(H?(Pe&B)===B:(l&B)===B){B!==0&&B===Oa&&(Ud=!0),Q!==null&&(Q=Q.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var he=t,ye=x;B=r;var Ze=a;switch(ye.tag){case 1:if(he=ye.payload,typeof he=="function"){Z=he.call(Ze,Z,B);break e}Z=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ye.payload,B=typeof he=="function"?he.call(Ze,Z,B):he,B==null)break e;Z=E({},Z,B);break e;case 2:Ai=!0}}B=x.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:x.tag,payload:x.payload,callback:x.callback,next:null},Q===null?(V=Q=H,I=Z):Q=Q.next=H,v|=B;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;H=x,x=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(I=Z),h.baseState=I,h.firstBaseUpdate=V,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),ji|=v,t.lanes=v,t.memoizedState=Z}}function Lg(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function jg(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Lg(a[t],r)}var Ua=D(null),sc=D(0);function Ug(t,r){t=ii,oe(sc,t),oe(Ua,r),ii=t|r.baseLanes}function Vd(){oe(sc,ii),oe(Ua,Ua.current)}function zd(){ii=sc.current,Y(Ua),Y(sc)}var wn=D(null),Yn=null;function Di(t){var r=t.alternate;oe(yt,yt.current&1),oe(wn,t),Yn===null&&(r===null||Ua.current!==null||r.memoizedState!==null)&&(Yn=t)}function Fd(t){oe(yt,yt.current),oe(wn,t),Yn===null&&(Yn=t)}function Vg(t){t.tag===22?(oe(yt,yt.current),oe(wn,t),Yn===null&&(Yn=t)):Oi()}function Oi(){oe(yt,yt.current),oe(wn,wn.current)}function kn(t){Y(wn),Yn===t&&(Yn=null),Y(yt)}var yt=D(0);function ac(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Gf(a)||Qf(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Jr=0,Se=null,Xe=null,_t=null,oc=!1,Va=!1,qs=!1,lc=0,ll=0,za=null,e2=0;function ht(){throw Error(s(321))}function Bd(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!vn(t[a],r[a]))return!1;return!0}function $d(t,r,a,l,h,f){return Jr=f,Se=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,J.H=t===null||t.memoizedState===null?Ey:sf,qs=!1,f=a(l,h),qs=!1,Va&&(f=Fg(r,a,l,h)),zg(t),f}function zg(t){J.H=hl;var r=Xe!==null&&Xe.next!==null;if(Jr=0,_t=Xe=Se=null,oc=!1,ll=0,za=null,r)throw Error(s(300));t===null||Ct||(t=t.dependencies,t!==null&&Yu(t)&&(Ct=!0))}function Fg(t,r,a,l){Se=t;var h=0;do{if(Va&&(za=null),ll=0,Va=!1,25<=h)throw Error(s(301));if(h+=1,_t=Xe=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}J.H=xy,f=r(a,l)}while(Va);return f}function t2(){var t=J.H,r=t.useState()[0];return r=typeof r.then=="function"?ul(r):r,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Se.flags|=1024),r}function qd(){var t=lc!==0;return lc=0,t}function Hd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Wd(t){if(oc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}oc=!1}Jr=0,_t=Xe=Se=null,Va=!1,ll=lc=0,za=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Se.memoizedState=_t=t:_t=_t.next=t,_t}function vt(){if(Xe===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var r=_t===null?Se.memoizedState:_t.next;if(r!==null)_t=r,Xe=t;else{if(t===null)throw Se.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},_t===null?Se.memoizedState=_t=t:_t=_t.next=t}return _t}function uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(t){var r=ll;return ll+=1,za===null&&(za=[]),t=Rg(za,t,r),r=Se,(_t===null?r.memoizedState:_t.next)===null&&(r=r.alternate,J.H=r===null||r.memoizedState===null?Ey:sf),t}function cc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ul(t);if(t.$$typeof===W)return qt(t)}throw Error(s(438,String(t)))}function Kd(t){var r=null,a=Se.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Se.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=uc(),Se.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=O;return r.index++,a}function Xr(t,r){return typeof r=="function"?r(t):r}function hc(t){var r=vt();return Gd(r,Xe,t)}function Gd(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}r.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{r=h.next;var x=v=null,I=null,V=r,Q=!1;do{var Z=V.lane&-536870913;if(Z!==V.lane?(Pe&Z)===Z:(Jr&Z)===Z){var B=V.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),Z===Oa&&(Q=!0);else if((Jr&B)===B){V=V.next,B===Oa&&(Q=!0);continue}else Z={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},I===null?(x=I=Z,v=f):I=I.next=Z,Se.lanes|=B,ji|=B;Z=V.action,qs&&a(f,Z),f=V.hasEagerState?V.eagerState:a(f,Z)}else B={lane:Z,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},I===null?(x=I=B,v=f):I=I.next=B,Se.lanes|=Z,ji|=Z;V=V.next}while(V!==null&&V!==r);if(I===null?v=f:I.next=x,!vn(f,t.memoizedState)&&(Ct=!0,Q&&(a=Ma,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Qd(t){var r=vt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);vn(f,r.memoizedState)||(Ct=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,l]}function Bg(t,r,a){var l=Se,h=vt(),f=je;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!vn((Xe||h).memoizedState,a);if(v&&(h.memoizedState=a,Ct=!0),h=h.queue,Yd(Hg.bind(null,l,h,t),[t]),h.getSnapshot!==r||v||_t!==null&&_t.memoizedState.tag&1){if(l.flags|=2048,Fa(9,{destroy:void 0},qg.bind(null,l,h,a,r),null),et===null)throw Error(s(349));f||(Jr&127)!==0||$g(l,r,a)}return a}function $g(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Se.updateQueue,r===null?(r=uc(),Se.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function qg(t,r,a,l){r.value=a,r.getSnapshot=l,Wg(r)&&Kg(t)}function Hg(t,r,a){return a(function(){Wg(r)&&Kg(t)})}function Wg(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!vn(t,a)}catch{return!0}}function Kg(t){var r=Ms(t,2);r!==null&&fn(r,t,2)}function Jd(t){var r=an();if(typeof t=="function"){var a=t;if(t=a(),qs){_n(!0);try{a()}finally{_n(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:t},r}function Gg(t,r,a,l){return t.baseState=a,Gd(t,Xe,typeof l=="function"?l:Xr)}function n2(t,r,a,l,h){if(pc(t))throw Error(s(485));if(t=r.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};J.T!==null?a(!0):f.isTransition=!1,l(f),a=r.pending,a===null?(f.next=r.pending=f,Qg(r,f)):(f.next=a.next,r.pending=a.next=f)}}function Qg(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var f=J.T,v={};J.T=v;try{var x=a(h,l),I=J.S;I!==null&&I(v,x),Jg(t,r,x)}catch(V){Xd(t,r,V)}finally{f!==null&&v.types!==null&&(f.types=v.types),J.T=f}}else try{f=a(h,l),Jg(t,r,f)}catch(V){Xd(t,r,V)}}function Jg(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Xg(t,r,l)},function(l){return Xd(t,r,l)}):Xg(t,r,a)}function Xg(t,r,a){r.status="fulfilled",r.value=a,Yg(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Qg(t,a)))}function Xd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Yg(r),r=r.next;while(r!==l)}t.action=null}function Yg(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Zg(t,r){return r}function ey(t,r){if(je){var a=et.formState;if(a!==null){e:{var l=Se;if(je){if(tt){t:{for(var h=tt,f=Mn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Ln(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){tt=Ln(h.nextSibling),l=h.data==="F!";break e}}Ni(l)}l=!1}l&&(r=a[0])}}return a=an(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zg,lastRenderedState:r},a.queue=l,a=by.bind(null,Se,l),l.dispatch=a,l=Jd(!1),f=rf.bind(null,Se,!1,l.queue),l=an(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=n2.bind(null,Se,h,f,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function ty(t){var r=vt();return ny(r,Xe,t)}function ny(t,r,a){if(r=Gd(t,r,Zg)[0],t=hc(Xr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=ul(r)}catch(v){throw v===La?tc:v}else l=r;r=vt();var h=r.queue,f=h.dispatch;return a!==r.memoizedState&&(Se.flags|=2048,Fa(9,{destroy:void 0},r2.bind(null,h,a),null)),[l,f,t]}function r2(t,r){t.action=r}function ry(t){var r=vt(),a=Xe;if(a!==null)return ny(r,a,t);vt(),r=r.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Fa(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Se.updateQueue,r===null&&(r=uc(),Se.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function iy(){return vt().memoizedState}function dc(t,r,a,l){var h=an();Se.flags|=t,h.memoizedState=Fa(1|r,{destroy:void 0},a,l===void 0?null:l)}function fc(t,r,a,l){var h=vt();l=l===void 0?null:l;var f=h.memoizedState.inst;Xe!==null&&l!==null&&Bd(l,Xe.memoizedState.deps)?h.memoizedState=Fa(r,f,a,l):(Se.flags|=t,h.memoizedState=Fa(1|r,f,a,l))}function sy(t,r){dc(8390656,8,t,r)}function Yd(t,r){fc(2048,8,t,r)}function i2(t){Se.flags|=4;var r=Se.updateQueue;if(r===null)r=uc(),Se.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function ay(t){var r=vt().memoizedState;return i2({ref:r,nextImpl:t}),function(){if(($e&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function oy(t,r){return fc(4,2,t,r)}function ly(t,r){return fc(4,4,t,r)}function uy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function cy(t,r,a){a=a!=null?a.concat([t]):null,fc(4,4,uy.bind(null,r,t),a)}function Zd(){}function hy(t,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Bd(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function dy(t,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Bd(r,l[1]))return l[0];if(l=t(),qs){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,r],l}function ef(t,r,a){return a===void 0||(Jr&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=fv(),Se.lanes|=t,ji|=t,a)}function fy(t,r,a,l){return vn(a,r)?a:Ua.current!==null?(t=ef(t,a,l),vn(t,r)||(Ct=!0),t):(Jr&42)===0||(Jr&1073741824)!==0&&(Pe&261930)===0?(Ct=!0,t.memoizedState=a):(t=fv(),Se.lanes|=t,ji|=t,r)}function py(t,r,a,l,h){var f=ae.p;ae.p=f!==0&&8>f?f:8;var v=J.T,x={};J.T=x,rf(t,!1,r,a);try{var I=h(),V=J.S;if(V!==null&&V(x,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=ZE(I,l);cl(t,r,Q,Tn(t))}else cl(t,r,l,Tn(t))}catch(Z){cl(t,r,{then:function(){},status:"rejected",reason:Z},Tn())}finally{ae.p=f,v!==null&&x.types!==null&&(v.types=x.types),J.T=v}}function s2(){}function tf(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=my(t).queue;py(t,h,r,me,a===null?s2:function(){return gy(t),a(l)})}function my(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:me},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function gy(t){var r=my(t);r.next===null&&(r=t.alternate.memoizedState),cl(t,r.next.queue,{},Tn())}function nf(){return qt(Cl)}function yy(){return vt().memoizedState}function vy(){return vt().memoizedState}function a2(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Tn();t=Ri(a);var l=Pi(r,t,a);l!==null&&(fn(l,r,a),sl(l,r,a)),r={cache:Rd()},t.payload=r;return}r=r.return}}function o2(t,r,a){var l=Tn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},pc(t)?wy(r,a):(a=wd(t,r,a,l),a!==null&&(fn(a,t,l),ky(a,r,l)))}function by(t,r,a){var l=Tn();cl(t,r,a,l)}function cl(t,r,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(pc(t))wy(r,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var v=r.lastRenderedState,x=f(v,a);if(h.hasEagerState=!0,h.eagerState=x,vn(x,v))return Gu(t,r,h,0),et===null&&Ku(),!1}catch{}finally{}if(a=wd(t,r,h,l),a!==null)return fn(a,t,l),ky(a,r,l),!0}return!1}function rf(t,r,a,l){if(l={lane:2,revertLane:Lf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},pc(t)){if(r)throw Error(s(479))}else r=wd(t,a,l,2),r!==null&&fn(r,t,2)}function pc(t){var r=t.alternate;return t===Se||r!==null&&r===Se}function wy(t,r){Va=oc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function ky(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Po(t,a)}}var hl={readContext:qt,use:cc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};hl.useEffectEvent=ht;var Ey={readContext:qt,use:cc,useCallback:function(t,r){return an().memoizedState=[t,r===void 0?null:r],t},useContext:qt,useEffect:sy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,dc(4194308,4,uy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return dc(4194308,4,t,r)},useInsertionEffect:function(t,r){dc(4,2,t,r)},useMemo:function(t,r){var a=an();r=r===void 0?null:r;var l=t();if(qs){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=an();if(a!==void 0){var h=a(r);if(qs){_n(!0);try{a(r)}finally{_n(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=o2.bind(null,Se,t),[l.memoizedState,t]},useRef:function(t){var r=an();return t={current:t},r.memoizedState=t},useState:function(t){t=Jd(t);var r=t.queue,a=by.bind(null,Se,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Zd,useDeferredValue:function(t,r){var a=an();return ef(a,t,r)},useTransition:function(){var t=Jd(!1);return t=py.bind(null,Se,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Se,h=an();if(je){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),et===null)throw Error(s(349));(Pe&127)!==0||$g(l,r,a)}h.memoizedState=a;var f={value:a,getSnapshot:r};return h.queue=f,sy(Hg.bind(null,l,f,t),[t]),l.flags|=2048,Fa(9,{destroy:void 0},qg.bind(null,l,f,a,r),null),a},useId:function(){var t=an(),r=et.identifierPrefix;if(je){var a=Sr,l=Tr;a=(l&~(1<<32-mt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=lc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=e2++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:nf,useFormState:ey,useActionState:ey,useOptimistic:function(t){var r=an();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=rf.bind(null,Se,!0,a),a.dispatch=r,[t,r]},useMemoCache:Kd,useCacheRefresh:function(){return an().memoizedState=a2.bind(null,Se)},useEffectEvent:function(t){var r=an(),a={impl:t};return r.memoizedState=a,function(){if(($e&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},sf={readContext:qt,use:cc,useCallback:hy,useContext:qt,useEffect:Yd,useImperativeHandle:cy,useInsertionEffect:oy,useLayoutEffect:ly,useMemo:dy,useReducer:hc,useRef:iy,useState:function(){return hc(Xr)},useDebugValue:Zd,useDeferredValue:function(t,r){var a=vt();return fy(a,Xe.memoizedState,t,r)},useTransition:function(){var t=hc(Xr)[0],r=vt().memoizedState;return[typeof t=="boolean"?t:ul(t),r]},useSyncExternalStore:Bg,useId:yy,useHostTransitionStatus:nf,useFormState:ty,useActionState:ty,useOptimistic:function(t,r){var a=vt();return Gg(a,Xe,t,r)},useMemoCache:Kd,useCacheRefresh:vy};sf.useEffectEvent=ay;var xy={readContext:qt,use:cc,useCallback:hy,useContext:qt,useEffect:Yd,useImperativeHandle:cy,useInsertionEffect:oy,useLayoutEffect:ly,useMemo:dy,useReducer:Qd,useRef:iy,useState:function(){return Qd(Xr)},useDebugValue:Zd,useDeferredValue:function(t,r){var a=vt();return Xe===null?ef(a,t,r):fy(a,Xe.memoizedState,t,r)},useTransition:function(){var t=Qd(Xr)[0],r=vt().memoizedState;return[typeof t=="boolean"?t:ul(t),r]},useSyncExternalStore:Bg,useId:yy,useHostTransitionStatus:nf,useFormState:ry,useActionState:ry,useOptimistic:function(t,r){var a=vt();return Xe!==null?Gg(a,Xe,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Kd,useCacheRefresh:vy};xy.useEffectEvent=ay;function af(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var of={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Tn(),h=Ri(l);h.payload=r,a!=null&&(h.callback=a),r=Pi(t,h,l),r!==null&&(fn(r,t,l),sl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Tn(),h=Ri(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Pi(t,h,l),r!==null&&(fn(r,t,l),sl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Tn(),l=Ri(a);l.tag=2,r!=null&&(l.callback=r),r=Pi(t,l,a),r!==null&&(fn(r,t,a),sl(r,t,a))}};function Ty(t,r,a,l,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):r.prototype&&r.prototype.isPureReactComponent?!Xo(a,l)||!Xo(h,f):!0}function Sy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&of.enqueueReplaceState(r,r.state,null)}function Hs(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function _y(t){Wu(t)}function Cy(t){console.error(t)}function Ny(t){Wu(t)}function mc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Iy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function lf(t,r,a){return a=Ri(a),a.tag=3,a.payload={element:null},a.callback=function(){mc(t,r)},a}function Ay(t){return t=Ri(t),t.tag=3,t}function Ry(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Iy(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Iy(r,a,l),typeof h!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function l2(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Da(r,a,h,!0),a=wn.current,a!==null){switch(a.tag){case 31:case 13:return Yn===null?Cc():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===nc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Df(t,l,h)),!1;case 22:return a.flags|=65536,l===nc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Df(t,l,h)),!1}throw Error(s(435,a.tag))}return Df(t,l,h),Cc(),!1}if(je)return r=wn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==_d&&(t=Error(s(422),{cause:l}),el(Pn(t,a)))):(l!==_d&&(r=Error(s(423),{cause:l}),el(Pn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Pn(l,a),h=lf(t.stateNode,l,h),jd(t,h),dt!==4&&(dt=2)),!1;var f=Error(s(520),{cause:l});if(f=Pn(f,a),bl===null?bl=[f]:bl.push(f),dt!==4&&(dt=2),r===null)return!0;l=Pn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=lf(a.stateNode,l,t),jd(a,t),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ui===null||!Ui.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ay(h),Ry(h,t,a,l),jd(a,h),!1}a=a.return}while(a!==null);return!1}var uf=Error(s(461)),Ct=!1;function Ht(t,r,a,l){r.child=t===null?Mg(r,null,a,l):$s(r,t.child,a,l)}function Py(t,r,a,l,h){a=a.render;var f=r.ref;if("ref"in l){var v={};for(var x in l)x!=="ref"&&(v[x]=l[x])}else v=l;return Vs(r),l=$d(t,r,a,v,f,h),x=qd(),t!==null&&!Ct?(Hd(t,r,h),Yr(t,r,h)):(je&&x&&Td(r),r.flags|=1,Ht(t,r,l,h),r.child)}function Dy(t,r,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!kd(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,Oy(t,r,f,l,h)):(t=Ju(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!yf(t,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:Xo,a(v,l)&&t.ref===r.ref)return Yr(t,r,h)}return r.flags|=1,t=Wr(f,l),t.ref=r.ref,t.return=r,r.child=t}function Oy(t,r,a,l,h){if(t!==null){var f=t.memoizedProps;if(Xo(f,l)&&t.ref===r.ref)if(Ct=!1,r.pendingProps=l=f,yf(t,h))(t.flags&131072)!==0&&(Ct=!0);else return r.lanes=t.lanes,Yr(t,r,h)}return cf(t,r,a,l,h)}function My(t,r,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=r.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,r.child=null;return Ly(t,r,f,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&ec(r,f!==null?f.cachePool:null),f!==null?Ug(r,f):Vd(),Vg(r);else return l=r.lanes=536870912,Ly(t,r,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(ec(r,f.cachePool),Ug(r,f),Oi(),r.memoizedState=null):(t!==null&&ec(r,null),Vd(),Oi());return Ht(t,r,h,a),r.child}function dl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Ly(t,r,a,l,h){var f=Dd();return f=f===null?null:{parent:St._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},t!==null&&ec(r,null),Vd(),Vg(r),t!==null&&Da(t,r,l,!0),r.childLanes=h,null}function gc(t,r){return r=vc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function jy(t,r,a){return $s(r,t.child,null,a),t=gc(r,r.pendingProps),t.flags|=2,kn(r),r.memoizedState=null,t}function u2(t,r,a){var l=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(je){if(l.mode==="hidden")return t=gc(r,l),r.lanes=536870912,dl(null,t);if(Fd(r),(t=tt)?(t=Qv(t,Mn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:_i!==null?{id:Tr,overflow:Sr}:null,retryLane:536870912,hydrationErrors:null},a=wg(t),a.return=r,r.child=a,$t=r,tt=null)):t=null,t===null)throw Ni(r);return r.lanes=536870912,null}return gc(r,l)}var f=t.memoizedState;if(f!==null){var v=f.dehydrated;if(Fd(r),h)if(r.flags&256)r.flags&=-257,r=jy(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ct||Da(t,r,a,!1),h=(a&t.childLanes)!==0,Ct||h){if(l=et,l!==null&&(v=Do(l,a),v!==0&&v!==f.retryLane))throw f.retryLane=v,Ms(t,v),fn(l,t,v),uf;Cc(),r=jy(t,r,a)}else t=f.treeContext,tt=Ln(v.nextSibling),$t=r,je=!0,Ci=null,Mn=!1,t!==null&&xg(r,t),r=gc(r,l),r.flags|=4096;return r}return t=Wr(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function yc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function cf(t,r,a,l,h){return Vs(r),a=$d(t,r,a,l,void 0,h),l=qd(),t!==null&&!Ct?(Hd(t,r,h),Yr(t,r,h)):(je&&l&&Td(r),r.flags|=1,Ht(t,r,a,h),r.child)}function Uy(t,r,a,l,h,f){return Vs(r),r.updateQueue=null,a=Fg(r,l,a,h),zg(t),l=qd(),t!==null&&!Ct?(Hd(t,r,f),Yr(t,r,f)):(je&&l&&Td(r),r.flags|=1,Ht(t,r,a,f),r.child)}function Vy(t,r,a,l,h){if(Vs(r),r.stateNode===null){var f=Ia,v=a.contextType;typeof v=="object"&&v!==null&&(f=qt(v)),f=new a(l,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=of,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=l,f.state=r.memoizedState,f.refs={},Md(r),v=a.contextType,f.context=typeof v=="object"&&v!==null?qt(v):Ia,f.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(af(r,a,v,l),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&of.enqueueReplaceState(f,f.state,null),ol(r,l,f,h),al(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){f=r.stateNode;var x=r.memoizedProps,I=Hs(a,x);f.props=I;var V=f.context,Q=a.contextType;v=Ia,typeof Q=="object"&&Q!==null&&(v=qt(Q));var Z=a.getDerivedStateFromProps;Q=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",x=r.pendingProps!==x,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(x||V!==v)&&Sy(r,f,l,v),Ai=!1;var B=r.memoizedState;f.state=B,ol(r,l,f,h),al(),V=r.memoizedState,x||B!==V||Ai?(typeof Z=="function"&&(af(r,a,Z,l),V=r.memoizedState),(I=Ai||Ty(r,a,I,l,B,V,v))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=V),f.props=l,f.state=V,f.context=v,l=I):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{f=r.stateNode,Ld(t,r),v=r.memoizedProps,Q=Hs(a,v),f.props=Q,Z=r.pendingProps,B=f.context,V=a.contextType,I=Ia,typeof V=="object"&&V!==null&&(I=qt(V)),x=a.getDerivedStateFromProps,(V=typeof x=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Z||B!==I)&&Sy(r,f,l,I),Ai=!1,B=r.memoizedState,f.state=B,ol(r,l,f,h),al();var H=r.memoizedState;v!==Z||B!==H||Ai||t!==null&&t.dependencies!==null&&Yu(t.dependencies)?(typeof x=="function"&&(af(r,a,x,l),H=r.memoizedState),(Q=Ai||Ty(r,a,Q,l,B,H,I)||t!==null&&t.dependencies!==null&&Yu(t.dependencies))?(V||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,I)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=H),f.props=l,f.state=H,f.context=I,l=Q):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(r.flags|=1024),l=!1)}return f=l,yc(t,r),l=(r.flags&128)!==0,f||l?(f=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,t!==null&&l?(r.child=$s(r,t.child,null,h),r.child=$s(r,null,a,h)):Ht(t,r,a,h),r.memoizedState=f.state,t=r.child):t=Yr(t,r,h),t}function zy(t,r,a,l){return js(),r.flags|=256,Ht(t,r,a,l),r.child}var hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function df(t){return{baseLanes:t,cachePool:Ig()}}function ff(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=xn),t}function Fy(t,r,a){var l=r.pendingProps,h=!1,f=(r.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(je){if(h?Di(r):Oi(),(t=tt)?(t=Qv(t,Mn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:_i!==null?{id:Tr,overflow:Sr}:null,retryLane:536870912,hydrationErrors:null},a=wg(t),a.return=r,r.child=a,$t=r,tt=null)):t=null,t===null)throw Ni(r);return Qf(t)?r.lanes=32:r.lanes=536870912,null}var x=l.children;return l=l.fallback,h?(Oi(),h=r.mode,x=vc({mode:"hidden",children:x},h),l=Ls(l,h,a,null),x.return=r,l.return=r,x.sibling=l,r.child=x,l=r.child,l.memoizedState=df(a),l.childLanes=ff(t,v,a),r.memoizedState=hf,dl(null,l)):(Di(r),pf(r,x))}var I=t.memoizedState;if(I!==null&&(x=I.dehydrated,x!==null)){if(f)r.flags&256?(Di(r),r.flags&=-257,r=mf(t,r,a)):r.memoizedState!==null?(Oi(),r.child=t.child,r.flags|=128,r=null):(Oi(),x=l.fallback,h=r.mode,l=vc({mode:"visible",children:l.children},h),x=Ls(x,h,a,null),x.flags|=2,l.return=r,x.return=r,l.sibling=x,r.child=l,$s(r,t.child,null,a),l=r.child,l.memoizedState=df(a),l.childLanes=ff(t,v,a),r.memoizedState=hf,r=dl(null,l));else if(Di(r),Qf(x)){if(v=x.nextSibling&&x.nextSibling.dataset,v)var V=v.dgst;v=V,l=Error(s(419)),l.stack="",l.digest=v,el({value:l,source:null,stack:null}),r=mf(t,r,a)}else if(Ct||Da(t,r,a,!1),v=(a&t.childLanes)!==0,Ct||v){if(v=et,v!==null&&(l=Do(v,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,Ms(t,l),fn(v,t,l),uf;Gf(x)||Cc(),r=mf(t,r,a)}else Gf(x)?(r.flags|=192,r.child=t.child,r=null):(t=I.treeContext,tt=Ln(x.nextSibling),$t=r,je=!0,Ci=null,Mn=!1,t!==null&&xg(r,t),r=pf(r,l.children),r.flags|=4096);return r}return h?(Oi(),x=l.fallback,h=r.mode,I=t.child,V=I.sibling,l=Wr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,V!==null?x=Wr(V,x):(x=Ls(x,h,a,null),x.flags|=2),x.return=r,l.return=r,l.sibling=x,r.child=l,dl(null,l),l=r.child,x=t.child.memoizedState,x===null?x=df(a):(h=x.cachePool,h!==null?(I=St._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Ig(),x={baseLanes:x.baseLanes|a,cachePool:h}),l.memoizedState=x,l.childLanes=ff(t,v,a),r.memoizedState=hf,dl(t.child,l)):(Di(r),a=t.child,t=a.sibling,a=Wr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function pf(t,r){return r=vc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function vc(t,r){return t=bn(22,t,null,r),t.lanes=0,t}function mf(t,r,a){return $s(r,t.child,null,a),t=pf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function By(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Id(t.return,r,a)}function gf(t,r,a,l,h,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=f)}function $y(t,r,a){var l=r.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var v=yt.current,x=(v&2)!==0;if(x?(v=v&1|2,r.flags|=128):v&=1,oe(yt,v),Ht(t,r,l,a),l=je?Zo:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&By(t,a,r);else if(t.tag===19)By(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&ac(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),gf(r,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&ac(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}gf(r,!0,a,null,f,l);break;case"together":gf(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function Yr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),ji|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Da(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Wr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Wr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function yf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Yu(t)))}function c2(t,r,a){switch(r.tag){case 3:Pt(r,r.stateNode.containerInfo),Ii(r,St,t.memoizedState.cache),js();break;case 27:case 5:ys(r);break;case 4:Pt(r,r.stateNode.containerInfo);break;case 10:Ii(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Fd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Di(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Fy(t,r,a):(Di(r),t=Yr(t,r,a),t!==null?t.sibling:null);Di(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Da(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return $y(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(yt,yt.current),l)break;return null;case 22:return r.lanes=0,My(t,r,a,r.pendingProps);case 24:Ii(r,St,t.memoizedState.cache)}return Yr(t,r,a)}function qy(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Ct=!0;else{if(!yf(t,a)&&(r.flags&128)===0)return Ct=!1,c2(t,r,a);Ct=(t.flags&131072)!==0}else Ct=!1,je&&(r.flags&1048576)!==0&&Eg(r,Zo,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=Fs(r.elementType),r.type=t,typeof t=="function")kd(t)?(l=Hs(t,l),r.tag=1,r=Vy(null,r,t,l,a)):(r.tag=0,r=cf(null,r,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===le){r.tag=11,r=Py(null,r,t,l,a);break e}else if(h===_){r.tag=14,r=Dy(null,r,t,l,a);break e}}throw r=st(t)||t,Error(s(306,r,""))}}return r;case 0:return cf(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Hs(l,r.pendingProps),Vy(t,r,l,h,a);case 3:e:{if(Pt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var f=r.memoizedState;h=f.element,Ld(t,r),ol(r,l,null,a);var v=r.memoizedState;if(l=v.cache,Ii(r,St,l),l!==f.cache&&Ad(r,[St],a,!0),al(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=zy(t,r,l,a);break e}else if(l!==h){h=Pn(Error(s(424)),r),el(h),r=zy(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(tt=Ln(t.firstChild),$t=r,je=!0,Ci=null,Mn=!0,a=Mg(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(js(),l===h){r=Yr(t,r,a);break e}Ht(t,r,l,a)}r=r.child}return r;case 26:return yc(t,r),t===null?(a=tb(r.type,null,r.pendingProps,null))?r.memoizedState=a:je||(a=r.type,t=r.pendingProps,l=Oc(_e.current).createElement(a),l[Et]=r,l[jt]=t,Wt(l,a,t),xt(l),r.stateNode=l):r.memoizedState=tb(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return ys(r),t===null&&je&&(l=r.stateNode=Yv(r.type,r.pendingProps,_e.current),$t=r,Mn=!0,h=tt,Bi(r.type)?(Jf=h,tt=Ln(l.firstChild)):tt=h),Ht(t,r,r.pendingProps.children,a),yc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&je&&((h=l=tt)&&(l=z2(l,r.type,r.pendingProps,Mn),l!==null?(r.stateNode=l,$t=r,tt=Ln(l.firstChild),Mn=!1,h=!0):h=!1),h||Ni(r)),ys(r),h=r.type,f=r.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,Hf(h,f)?l=null:v!==null&&Hf(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=$d(t,r,t2,null,null,a),Cl._currentValue=h),yc(t,r),Ht(t,r,l,a),r.child;case 6:return t===null&&je&&((t=a=tt)&&(a=F2(a,r.pendingProps,Mn),a!==null?(r.stateNode=a,$t=r,tt=null,t=!0):t=!1),t||Ni(r)),null;case 13:return Fy(t,r,a);case 4:return Pt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=$s(r,null,l,a):Ht(t,r,l,a),r.child;case 11:return Py(t,r,r.type,r.pendingProps,a);case 7:return Ht(t,r,r.pendingProps,a),r.child;case 8:return Ht(t,r,r.pendingProps.children,a),r.child;case 12:return Ht(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Ii(r,r.type,l.value),Ht(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Vs(r),h=qt(h),l=l(h),r.flags|=1,Ht(t,r,l,a),r.child;case 14:return Dy(t,r,r.type,r.pendingProps,a);case 15:return Oy(t,r,r.type,r.pendingProps,a);case 19:return $y(t,r,a);case 31:return u2(t,r,a);case 22:return My(t,r,a,r.pendingProps);case 24:return Vs(r),l=qt(St),t===null?(h=Dd(),h===null&&(h=et,f=Rd(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),r.memoizedState={parent:l,cache:h},Md(r),Ii(r,St,h)):((t.lanes&a)!==0&&(Ld(t,r),ol(r,null,null,a),al()),h=t.memoizedState,f=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Ii(r,St,l)):(l=f.cache,Ii(r,St,l),l!==h.cache&&Ad(r,[St],a,!0))),Ht(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Zr(t){t.flags|=4}function vf(t,r,a,l,h){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(yv())t.flags|=8192;else throw Bs=nc,Od}else t.flags&=-16777217}function Hy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ab(r))if(yv())t.flags|=8192;else throw Bs=nc,Od}function bc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Su():536870912,t.lanes|=r,Ha|=r)}function fl(t,r){if(!je)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function h2(t,r,a){var l=r.pendingProps;switch(Sd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(r),null;case 1:return nt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Qr(St),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Pa(r)?Zr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Cd())),nt(r),null;case 26:var h=r.type,f=r.memoizedState;return t===null?(Zr(r),f!==null?(nt(r),Hy(r,f)):(nt(r),vf(r,h,null,l,a))):f?f!==t.memoizedState?(Zr(r),nt(r),Hy(r,f)):(nt(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&Zr(r),nt(r),vf(r,h,t,l,a)),null;case 27:if(ca(r),a=_e.current,h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Zr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return nt(r),null}t=ce.current,Pa(r)?Tg(r):(t=Yv(h,l,a),r.stateNode=t,Zr(r))}return nt(r),null;case 5:if(ca(r),h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Zr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return nt(r),null}if(f=ce.current,Pa(r))Tg(r);else{var v=Oc(_e.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}f[Et]=r,f[jt]=l;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=f;e:switch(Wt(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Zr(r)}}return nt(r),vf(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Zr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=_e.current,Pa(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=$t,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Et]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Fv(t.nodeValue,a)),t||Ni(r,!0)}else t=Oc(t).createTextNode(l),t[Et]=r,r.stateNode=t}return nt(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Pa(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Et]=r}else js(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;nt(r),t=!1}else a=Cd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(kn(r),r):(kn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return nt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Pa(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Et]=r}else js(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;nt(r),h=!1}else h=Cd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(kn(r),r):(kn(r),null)}return kn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),bc(r,r.updateQueue),nt(r),null);case 4:return at(),t===null&&zf(r.stateNode.containerInfo),nt(r),null;case 10:return Qr(r.type),nt(r),null;case 19:if(Y(yt),l=r.memoizedState,l===null)return nt(r),null;if(h=(r.flags&128)!==0,f=l.rendering,f===null)if(h)fl(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(f=ac(t),f!==null){for(r.flags|=128,fl(l,!1),t=f.updateQueue,r.updateQueue=t,bc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)bg(a,t),a=a.sibling;return oe(yt,yt.current&1|2),je&&Kr(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&rn()>Tc&&(r.flags|=128,h=!0,fl(l,!1),r.lanes=4194304)}else{if(!h)if(t=ac(f),t!==null){if(r.flags|=128,h=!0,t=t.updateQueue,r.updateQueue=t,bc(r,t),fl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!je)return nt(r),null}else 2*rn()-l.renderingStartTime>Tc&&a!==536870912&&(r.flags|=128,h=!0,fl(l,!1),r.lanes=4194304);l.isBackwards?(f.sibling=r.child,r.child=f):(t=l.last,t!==null?t.sibling=f:r.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=rn(),t.sibling=null,a=yt.current,oe(yt,h?a&1|2:a&1),je&&Kr(r,l.treeForkCount),t):(nt(r),null);case 22:case 23:return kn(r),zd(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(nt(r),r.subtreeFlags&6&&(r.flags|=8192)):nt(r),a=r.updateQueue,a!==null&&bc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&Y(zs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Qr(St),nt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function d2(t,r){switch(Sd(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Qr(St),at(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return ca(r),null;case 31:if(r.memoizedState!==null){if(kn(r),r.alternate===null)throw Error(s(340));js()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(kn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));js()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Y(yt),null;case 4:return at(),null;case 10:return Qr(r.type),null;case 22:case 23:return kn(r),zd(),t!==null&&Y(zs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Qr(St),null;case 25:return null;default:return null}}function Wy(t,r){switch(Sd(r),r.tag){case 3:Qr(St),at();break;case 26:case 27:case 5:ca(r);break;case 4:at();break;case 31:r.memoizedState!==null&&kn(r);break;case 13:kn(r);break;case 19:Y(yt);break;case 10:Qr(r.type);break;case 22:case 23:kn(r),zd(),t!==null&&Y(zs);break;case 24:Qr(St)}}function pl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==h)}}catch(x){Qe(r,r.return,x)}}function Mi(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var v=l.inst,x=v.destroy;if(x!==void 0){v.destroy=void 0,h=r;var I=a,V=x;try{V()}catch(Q){Qe(h,I,Q)}}}l=l.next}while(l!==f)}}catch(Q){Qe(r,r.return,Q)}}function Ky(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{jg(r,a)}catch(l){Qe(t,t.return,l)}}}function Gy(t,r,a){a.props=Hs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Qe(t,r,l)}}function ml(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Qe(t,r,h)}}function _r(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Qe(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Qe(t,r,h)}else a.current=null}function Qy(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Qe(t,t.return,h)}}function bf(t,r,a){try{var l=t.stateNode;O2(l,t.type,a,r),l[jt]=r}catch(h){Qe(t,t.return,h)}}function Jy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Bi(t.type)||t.tag===4}function wf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Bi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kf(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Wn));else if(l!==4&&(l===27&&Bi(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(kf(t,r,a),t=t.sibling;t!==null;)kf(t,r,a),t=t.sibling}function wc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Bi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(wc(t,r,a),t=t.sibling;t!==null;)wc(t,r,a),t=t.sibling}function Xy(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Wt(r,l,a),r[Et]=t,r[jt]=a}catch(f){Qe(t,t.return,f)}}var ei=!1,Nt=!1,Ef=!1,Yy=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function f2(t,r){if(t=t.containerInfo,$f=Fc,t=cg(t),pd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var v=0,x=-1,I=-1,V=0,Q=0,Z=t,B=null;t:for(;;){for(var H;Z!==a||h!==0&&Z.nodeType!==3||(x=v+h),Z!==f||l!==0&&Z.nodeType!==3||(I=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(H=Z.firstChild)!==null;)B=Z,Z=H;for(;;){if(Z===t)break t;if(B===a&&++V===h&&(x=v),B===f&&++Q===l&&(I=v),(H=Z.nextSibling)!==null)break;Z=B,B=Z.parentNode}Z=H}a=x===-1||I===-1?null:{start:x,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(qf={focusedElem:t,selectionRange:a},Fc=!1,Vt=r;Vt!==null;)if(r=Vt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Vt=t;else for(;Vt!==null;){switch(r=Vt,f=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=r,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var he=Hs(a.type,h);t=l.getSnapshotBeforeUpdate(he,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Qe(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Kf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Vt=t;break}Vt=r.return}}function Zy(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ni(t,a),l&4&&pl(5,a);break;case 1:if(ni(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){Qe(a,a.return,v)}else{var h=Hs(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Qe(a,a.return,v)}}l&64&&Ky(a),l&512&&ml(a,a.return);break;case 3:if(ni(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{jg(t,r)}catch(v){Qe(a,a.return,v)}}break;case 27:r===null&&l&4&&Xy(a);case 26:case 5:ni(t,a),r===null&&l&4&&Qy(a),l&512&&ml(a,a.return);break;case 12:ni(t,a);break;case 31:ni(t,a),l&4&&nv(t,a);break;case 13:ni(t,a),l&4&&rv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=E2.bind(null,a),B2(t,a))));break;case 22:if(l=a.memoizedState!==null||ei,!l){r=r!==null&&r.memoizedState!==null||Nt,h=ei;var f=Nt;ei=l,(Nt=r)&&!f?ri(t,a,(a.subtreeFlags&8772)!==0):ni(t,a),ei=h,Nt=f}break;case 30:break;default:ni(t,a)}}function ev(t){var r=t.alternate;r!==null&&(t.alternate=null,ev(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&ma(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,un=!1;function ti(t,r,a){for(a=a.child;a!==null;)tv(t,r,a),a=a.sibling}function tv(t,r,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Bn,a)}catch{}switch(a.tag){case 26:Nt||_r(a,r),ti(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||_r(a,r);var l=lt,h=un;Bi(a.type)&&(lt=a.stateNode,un=!1),ti(t,r,a),Tl(a.stateNode),lt=l,un=h;break;case 5:Nt||_r(a,r);case 6:if(l=lt,h=un,lt=null,ti(t,r,a),lt=l,un=h,lt!==null)if(un)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(f){Qe(a,r,f)}else try{lt.removeChild(a.stateNode)}catch(f){Qe(a,r,f)}break;case 18:lt!==null&&(un?(t=lt,Kv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Za(t)):Kv(lt,a.stateNode));break;case 4:l=lt,h=un,lt=a.stateNode.containerInfo,un=!0,ti(t,r,a),lt=l,un=h;break;case 0:case 11:case 14:case 15:Mi(2,a,r),Nt||Mi(4,a,r),ti(t,r,a);break;case 1:Nt||(_r(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Gy(a,r,l)),ti(t,r,a);break;case 21:ti(t,r,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,ti(t,r,a),Nt=l;break;default:ti(t,r,a)}}function nv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Za(t)}catch(a){Qe(r,r.return,a)}}}function rv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Za(t)}catch(a){Qe(r,r.return,a)}}function p2(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Yy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Yy),r;default:throw Error(s(435,t.tag))}}function kc(t,r){var a=p2(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var h=x2.bind(null,t,l);l.then(h,h)}})}function cn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,v=r,x=v;e:for(;x!==null;){switch(x.tag){case 27:if(Bi(x.type)){lt=x.stateNode,un=!1;break e}break;case 5:lt=x.stateNode,un=!1;break e;case 3:case 4:lt=x.stateNode.containerInfo,un=!0;break e}x=x.return}if(lt===null)throw Error(s(160));tv(f,v,h),lt=null,un=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)iv(r,t),r=r.sibling}var Zn=null;function iv(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(r,t),hn(t),l&4&&(Mi(3,t,t.return),pl(3,t),Mi(5,t,t.return));break;case 1:cn(r,t),hn(t),l&512&&(Nt||a===null||_r(a,a.return)),l&64&&ei&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Zn;if(cn(r,t),hn(t),l&512&&(Nt||a===null||_r(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[fr]||f[Et]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Wt(f,l,a),f[Et]=t,xt(f),l=f;break e;case"link":var v=ib("link","href",h).get(l+(a.href||""));if(v){for(var x=0;x<v.length;x++)if(f=v[x],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(x,1);break t}}f=h.createElement(l),Wt(f,l,a),h.head.appendChild(f);break;case"meta":if(v=ib("meta","content",h).get(l+(a.content||""))){for(x=0;x<v.length;x++)if(f=v[x],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(x,1);break t}}f=h.createElement(l),Wt(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[Et]=t,xt(f),l=f}t.stateNode=l}else sb(h,t.type,t.stateNode);else t.stateNode=rb(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?sb(h,t.type,t.stateNode):rb(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&bf(t,t.memoizedProps,a.memoizedProps)}break;case 27:cn(r,t),hn(t),l&512&&(Nt||a===null||_r(a,a.return)),a!==null&&l&4&&bf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(cn(r,t),hn(t),l&512&&(Nt||a===null||_r(a,a.return)),t.flags&32){h=t.stateNode;try{ln(h,"")}catch(he){Qe(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,bf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Ef=!0);break;case 6:if(cn(r,t),hn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){Qe(t,t.return,he)}}break;case 3:if(jc=null,h=Zn,Zn=Mc(r.containerInfo),cn(r,t),Zn=h,hn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Za(r.containerInfo)}catch(he){Qe(t,t.return,he)}Ef&&(Ef=!1,sv(t));break;case 4:l=Zn,Zn=Mc(t.stateNode.containerInfo),cn(r,t),hn(t),Zn=l;break;case 12:cn(r,t),hn(t);break;case 31:cn(r,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,kc(t,l)));break;case 13:cn(r,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(xc=rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,kc(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,V=ei,Q=Nt;if(ei=V||h,Nt=Q||I,cn(r,t),Nt=Q,ei=V,hn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||I||ei||Nt||Ws(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(f=I.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{x=I.stateNode;var Z=I.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;x.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(he){Qe(I,I.return,he)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(he){Qe(I,I.return,he)}}}else if(r.tag===18){if(a===null){I=r;try{var H=I.stateNode;h?Gv(H,!0):Gv(I.stateNode,!1)}catch(he){Qe(I,I.return,he)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,kc(t,a))));break;case 19:cn(r,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,kc(t,l)));break;case 30:break;case 21:break;default:cn(r,t),hn(t)}}function hn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(Jy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=wf(t);wc(t,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(ln(v,""),a.flags&=-33);var x=wf(t);wc(t,x,v);break;case 3:case 4:var I=a.stateNode.containerInfo,V=wf(t);kf(t,V,I);break;default:throw Error(s(161))}}catch(Q){Qe(t,t.return,Q)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function sv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;sv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function ni(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Zy(t,r.alternate,r),r=r.sibling}function Ws(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Mi(4,r,r.return),Ws(r);break;case 1:_r(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Gy(r,r.return,a),Ws(r);break;case 27:Tl(r.stateNode);case 26:case 5:_r(r,r.return),Ws(r);break;case 22:r.memoizedState===null&&Ws(r);break;case 30:Ws(r);break;default:Ws(r)}t=t.sibling}}function ri(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,f=r,v=f.flags;switch(f.tag){case 0:case 11:case 15:ri(h,f,a),pl(4,f);break;case 1:if(ri(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(V){Qe(l,l.return,V)}if(l=f,h=l.updateQueue,h!==null){var x=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Lg(I[h],x)}catch(V){Qe(l,l.return,V)}}a&&v&64&&Ky(f),ml(f,f.return);break;case 27:Xy(f);case 26:case 5:ri(h,f,a),a&&l===null&&v&4&&Qy(f),ml(f,f.return);break;case 12:ri(h,f,a);break;case 31:ri(h,f,a),a&&v&4&&nv(h,f);break;case 13:ri(h,f,a),a&&v&4&&rv(h,f);break;case 22:f.memoizedState===null&&ri(h,f,a),ml(f,f.return);break;case 30:break;default:ri(h,f,a)}r=r.sibling}}function xf(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&tl(a))}function Tf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&tl(t))}function er(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)av(t,r,a,l),r=r.sibling}function av(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:er(t,r,a,l),h&2048&&pl(9,r);break;case 1:er(t,r,a,l);break;case 3:er(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&tl(t)));break;case 12:if(h&2048){er(t,r,a,l),t=r.stateNode;try{var f=r.memoizedProps,v=f.id,x=f.onPostCommit;typeof x=="function"&&x(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Qe(r,r.return,I)}}else er(t,r,a,l);break;case 31:er(t,r,a,l);break;case 13:er(t,r,a,l);break;case 23:break;case 22:f=r.stateNode,v=r.alternate,r.memoizedState!==null?f._visibility&2?er(t,r,a,l):gl(t,r):f._visibility&2?er(t,r,a,l):(f._visibility|=2,Ba(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),h&2048&&xf(v,r);break;case 24:er(t,r,a,l),h&2048&&Tf(r.alternate,r);break;default:er(t,r,a,l)}}function Ba(t,r,a,l,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var f=t,v=r,x=a,I=l,V=v.flags;switch(v.tag){case 0:case 11:case 15:Ba(f,v,x,I,h),pl(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?Ba(f,v,x,I,h):gl(f,v):(Q._visibility|=2,Ba(f,v,x,I,h)),h&&V&2048&&xf(v.alternate,v);break;case 24:Ba(f,v,x,I,h),h&&V&2048&&Tf(v.alternate,v);break;default:Ba(f,v,x,I,h)}r=r.sibling}}function gl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:gl(a,l),h&2048&&xf(l.alternate,l);break;case 24:gl(a,l),h&2048&&Tf(l.alternate,l);break;default:gl(a,l)}r=r.sibling}}var yl=8192;function $a(t,r,a){if(t.subtreeFlags&yl)for(t=t.child;t!==null;)ov(t,r,a),t=t.sibling}function ov(t,r,a){switch(t.tag){case 26:$a(t,r,a),t.flags&yl&&t.memoizedState!==null&&ex(a,Zn,t.memoizedState,t.memoizedProps);break;case 5:$a(t,r,a);break;case 3:case 4:var l=Zn;Zn=Mc(t.stateNode.containerInfo),$a(t,r,a),Zn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=yl,yl=16777216,$a(t,r,a),yl=l):$a(t,r,a));break;default:$a(t,r,a)}}function lv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function vl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Vt=l,cv(l,t)}lv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)uv(t),t=t.sibling}function uv(t){switch(t.tag){case 0:case 11:case 15:vl(t),t.flags&2048&&Mi(9,t,t.return);break;case 3:vl(t);break;case 12:vl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Ec(t)):vl(t);break;default:vl(t)}}function Ec(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Vt=l,cv(l,t)}lv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Mi(8,r,r.return),Ec(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Ec(r));break;default:Ec(r)}t=t.sibling}}function cv(t,r){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:Mi(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:tl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Vt=l;else e:for(a=t;Vt!==null;){l=Vt;var h=l.sibling,f=l.return;if(ev(l),l===a){Vt=null;break e}if(h!==null){h.return=f,Vt=h;break e}Vt=f}}}var m2={getCacheForType:function(t){var r=qt(St),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return qt(St).controller.signal}},g2=typeof WeakMap=="function"?WeakMap:Map,$e=0,et=null,Ae=null,Pe=0,Ge=0,En=null,Li=!1,qa=!1,Sf=!1,ii=0,dt=0,ji=0,Ks=0,_f=0,xn=0,Ha=0,bl=null,dn=null,Cf=!1,xc=0,hv=0,Tc=1/0,Sc=null,Ui=null,Ot=0,Vi=null,Wa=null,si=0,Nf=0,If=null,dv=null,wl=0,Af=null;function Tn(){return($e&2)!==0&&Pe!==0?Pe&-Pe:J.T!==null?Lf():_u()}function fv(){if(xn===0)if((Pe&536870912)===0||je){var t=ws;ws<<=1,(ws&3932160)===0&&(ws=262144),xn=t}else xn=536870912;return t=wn.current,t!==null&&(t.flags|=32),xn}function fn(t,r,a){(t===et&&(Ge===2||Ge===9)||t.cancelPendingCommit!==null)&&(Ka(t,0),zi(t,Pe,xn,!1)),ks(t,a),(($e&2)===0||t!==et)&&(t===et&&(($e&2)===0&&(Ks|=a),dt===4&&zi(t,Pe,xn,!1)),Cr(t))}function pv(t,r,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||$n(t,r),h=l?b2(t,r):Pf(t,r,!0),f=l;do{if(h===0){qa&&!l&&zi(t,r,0,!1);break}else{if(a=t.current.alternate,f&&!y2(a)){h=Pf(t,r,!1),f=!1;continue}if(h===2){if(f=r,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var x=t;h=bl;var I=x.current.memoizedState.isDehydrated;if(I&&(Ka(x,v).flags|=256),v=Pf(x,v,!1),v!==2){if(Sf&&!I){x.errorRecoveryDisabledLanes|=f,Ks|=f,h=4;break e}f=dn,dn=h,f!==null&&(dn===null?dn=f:dn.push.apply(dn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){Ka(t,0),zi(t,r,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:zi(l,r,xn,!Li);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=xc+300-rn(),10<h)){if(zi(l,r,xn,!Li),cr(l,0,!0)!==0)break e;si=r,l.timeoutHandle=Hv(mv.bind(null,l,a,dn,Sc,Cf,r,xn,Ks,Ha,Li,f,"Throttled",-0,0),h);break e}mv(l,a,dn,Sc,Cf,r,xn,Ks,Ha,Li,f,null,-0,0)}}break}while(!0);Cr(t)}function mv(t,r,a,l,h,f,v,x,I,V,Q,Z,B,H){if(t.timeoutHandle=-1,Z=r.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},ov(r,f,Z);var he=(f&62914560)===f?xc-rn():(f&4194048)===f?hv-rn():0;if(he=tx(Z,he),he!==null){si=f,t.cancelPendingCommit=he(xv.bind(null,t,r,f,a,l,h,v,x,I,Q,Z,null,B,H)),zi(t,f,v,!V);return}}xv(t,r,f,a,l,h,v,x,I)}function y2(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!vn(f(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function zi(t,r,a,l){r&=~_f,r&=~Ks,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var f=31-mt(h),v=1<<f;l[f]=-1,h&=~v}a!==0&&Es(t,a,r)}function _c(){return($e&6)===0?(kl(0),!1):!0}function Rf(){if(Ae!==null){if(Ge===0)var t=Ae.return;else t=Ae,Gr=Us=null,Wd(t),ja=null,rl=0,t=Ae;for(;t!==null;)Wy(t.alternate,t),t=t.return;Ae=null}}function Ka(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,j2(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),si=0,Rf(),et=t,Ae=a=Wr(t.current,null),Pe=r,Ge=0,En=null,Li=!1,qa=$n(t,r),Sf=!1,Ha=xn=_f=Ks=ji=dt=0,dn=bl=null,Cf=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-mt(l),f=1<<h;r|=t[h],l&=~f}return ii=r,Ku(),a}function gv(t,r){Se=null,J.H=hl,r===La||r===tc?(r=Pg(),Ge=3):r===Od?(r=Pg(),Ge=4):Ge=r===uf?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,En=r,Ae===null&&(dt=1,mc(t,Pn(r,t.current)))}function yv(){var t=wn.current;return t===null?!0:(Pe&4194048)===Pe?Yn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===Yn:!1}function vv(){var t=J.H;return J.H=hl,t===null?hl:t}function bv(){var t=J.A;return J.A=m2,t}function Cc(){dt=4,Li||(Pe&4194048)!==Pe&&wn.current!==null||(qa=!0),(ji&134217727)===0&&(Ks&134217727)===0||et===null||zi(et,Pe,xn,!1)}function Pf(t,r,a){var l=$e;$e|=2;var h=vv(),f=bv();(et!==t||Pe!==r)&&(Sc=null,Ka(t,r)),r=!1;var v=dt;e:do try{if(Ge!==0&&Ae!==null){var x=Ae,I=En;switch(Ge){case 8:Rf(),v=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(r=!0);var V=Ge;if(Ge=0,En=null,Ga(t,x,I,V),a&&qa){v=0;break e}break;default:V=Ge,Ge=0,En=null,Ga(t,x,I,V)}}v2(),v=dt;break}catch(Q){gv(t,Q)}while(!0);return r&&t.shellSuspendCounter++,Gr=Us=null,$e=l,J.H=h,J.A=f,Ae===null&&(et=null,Pe=0,Ku()),v}function v2(){for(;Ae!==null;)wv(Ae)}function b2(t,r){var a=$e;$e|=2;var l=vv(),h=bv();et!==t||Pe!==r?(Sc=null,Tc=rn()+500,Ka(t,r)):qa=$n(t,r);e:do try{if(Ge!==0&&Ae!==null){r=Ae;var f=En;t:switch(Ge){case 1:Ge=0,En=null,Ga(t,r,f,1);break;case 2:case 9:if(Ag(f)){Ge=0,En=null,kv(r);break}r=function(){Ge!==2&&Ge!==9||et!==t||(Ge=7),Cr(t)},f.then(r,r);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:Ag(f)?(Ge=0,En=null,kv(r)):(Ge=0,En=null,Ga(t,r,f,7));break;case 5:var v=null;switch(Ae.tag){case 26:v=Ae.memoizedState;case 5:case 27:var x=Ae;if(v?ab(v):x.stateNode.complete){Ge=0,En=null;var I=x.sibling;if(I!==null)Ae=I;else{var V=x.return;V!==null?(Ae=V,Nc(V)):Ae=null}break t}}Ge=0,En=null,Ga(t,r,f,5);break;case 6:Ge=0,En=null,Ga(t,r,f,6);break;case 8:Rf(),dt=6;break e;default:throw Error(s(462))}}w2();break}catch(Q){gv(t,Q)}while(!0);return Gr=Us=null,J.H=l,J.A=h,$e=a,Ae!==null?0:(et=null,Pe=0,Ku(),dt)}function w2(){for(;Ae!==null&&!od();)wv(Ae)}function wv(t){var r=qy(t.alternate,t,ii);t.memoizedProps=t.pendingProps,r===null?Nc(t):Ae=r}function kv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Uy(a,r,r.pendingProps,r.type,void 0,Pe);break;case 11:r=Uy(a,r,r.pendingProps,r.type.render,r.ref,Pe);break;case 5:Wd(r);default:Wy(a,r),r=Ae=bg(r,ii),r=qy(a,r,ii)}t.memoizedProps=t.pendingProps,r===null?Nc(t):Ae=r}function Ga(t,r,a,l){Gr=Us=null,Wd(r),ja=null,rl=0;var h=r.return;try{if(l2(t,h,r,a,Pe)){dt=1,mc(t,Pn(a,t.current)),Ae=null;return}}catch(f){if(h!==null)throw Ae=h,f;dt=1,mc(t,Pn(a,t.current)),Ae=null;return}r.flags&32768?(je||l===1?t=!0:qa||(Pe&536870912)!==0?t=!1:(Li=t=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ev(r,t)):Nc(r)}function Nc(t){var r=t;do{if((r.flags&32768)!==0){Ev(r,Li);return}t=r.return;var a=h2(r.alternate,r,ii);if(a!==null){Ae=a;return}if(r=r.sibling,r!==null){Ae=r;return}Ae=r=t}while(r!==null);dt===0&&(dt=5)}function Ev(t,r){do{var a=d2(t.alternate,t);if(a!==null){a.flags&=32767,Ae=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ae=t;return}Ae=t=a}while(t!==null);dt=6,Ae=null}function xv(t,r,a,l,h,f,v,x,I){t.cancelPendingCommit=null;do Ic();while(Ot!==0);if(($e&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(f=r.lanes|r.childLanes,f|=bd,cd(t,a,f,v,x,I),t===et&&(Ae=et=null,Pe=0),Wa=r,Vi=t,si=a,Nf=f,If=h,dv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,T2(gi,function(){return Nv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=J.T,J.T=null,h=ae.p,ae.p=2,v=$e,$e|=4;try{f2(t,r,a)}finally{$e=v,ae.p=h,J.T=l}}Ot=1,Tv(),Sv(),_v()}}function Tv(){if(Ot===1){Ot=0;var t=Vi,r=Wa,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=J.T,J.T=null;var l=ae.p;ae.p=2;var h=$e;$e|=4;try{iv(r,t);var f=qf,v=cg(t.containerInfo),x=f.focusedElem,I=f.selectionRange;if(v!==x&&x&&x.ownerDocument&&ug(x.ownerDocument.documentElement,x)){if(I!==null&&pd(x)){var V=I.start,Q=I.end;if(Q===void 0&&(Q=V),"selectionStart"in x)x.selectionStart=V,x.selectionEnd=Math.min(Q,x.value.length);else{var Z=x.ownerDocument||document,B=Z&&Z.defaultView||window;if(B.getSelection){var H=B.getSelection(),he=x.textContent.length,ye=Math.min(I.start,he),Ze=I.end===void 0?ye:Math.min(I.end,he);!H.extend&&ye>Ze&&(v=Ze,Ze=ye,ye=v);var M=lg(x,ye),P=lg(x,Ze);if(M&&P&&(H.rangeCount!==1||H.anchorNode!==M.node||H.anchorOffset!==M.offset||H.focusNode!==P.node||H.focusOffset!==P.offset)){var U=Z.createRange();U.setStart(M.node,M.offset),H.removeAllRanges(),ye>Ze?(H.addRange(U),H.extend(P.node,P.offset)):(U.setEnd(P.node,P.offset),H.addRange(U))}}}}for(Z=[],H=x;H=H.parentNode;)H.nodeType===1&&Z.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<Z.length;x++){var X=Z[x];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Fc=!!$f,qf=$f=null}finally{$e=h,ae.p=l,J.T=a}}t.current=r,Ot=2}}function Sv(){if(Ot===2){Ot=0;var t=Vi,r=Wa,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=J.T,J.T=null;var l=ae.p;ae.p=2;var h=$e;$e|=4;try{Zy(t,r.alternate,r)}finally{$e=h,ae.p=l,J.T=a}}Ot=3}}function _v(){if(Ot===4||Ot===3){Ot=0,bu();var t=Vi,r=Wa,a=si,l=dv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ot=5:(Ot=0,Wa=Vi=null,Cv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ui=null),Fr(a),r=r.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Bn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=J.T,h=ae.p,ae.p=2,J.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var x=l[v];f(x.value,{componentStack:x.stack})}}finally{J.T=r,ae.p=h}}(si&3)!==0&&Ic(),Cr(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Af?wl++:(wl=0,Af=t):wl=0,kl(0)}}function Cv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,tl(r)))}function Ic(){return Tv(),Sv(),_v(),Nv()}function Nv(){if(Ot!==5)return!1;var t=Vi,r=Nf;Nf=0;var a=Fr(si),l=J.T,h=ae.p;try{ae.p=32>a?32:a,J.T=null,a=If,If=null;var f=Vi,v=si;if(Ot=0,Wa=Vi=null,si=0,($e&6)!==0)throw Error(s(331));var x=$e;if($e|=4,uv(f.current),av(f,f.current,v,a),$e=x,kl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Bn,f)}catch{}return!0}finally{ae.p=h,J.T=l,Cv(t,r)}}function Iv(t,r,a){r=Pn(a,r),r=lf(t.stateNode,r,2),t=Pi(t,r,2),t!==null&&(ks(t,2),Cr(t))}function Qe(t,r,a){if(t.tag===3)Iv(t,t,a);else for(;r!==null;){if(r.tag===3){Iv(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ui===null||!Ui.has(l))){t=Pn(a,t),a=Ay(2),l=Pi(r,a,2),l!==null&&(Ry(a,l,r,t),ks(l,2),Cr(l));break}}r=r.return}}function Df(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new g2;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Sf=!0,h.add(a),t=k2.bind(null,t,r,a),r.then(t,t))}function k2(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Pe&a)===a&&(dt===4||dt===3&&(Pe&62914560)===Pe&&300>rn()-xc?($e&2)===0&&Ka(t,0):_f|=a,Ha===Pe&&(Ha=0)),Cr(t)}function Av(t,r){r===0&&(r=Su()),t=Ms(t,r),t!==null&&(ks(t,r),Cr(t))}function E2(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Av(t,a)}function x2(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Av(t,a)}function T2(t,r){return Dt(t,r)}var Ac=null,Qa=null,Of=!1,Rc=!1,Mf=!1,Fi=0;function Cr(t){t!==Qa&&t.next===null&&(Qa===null?Ac=Qa=t:Qa=Qa.next=t),Rc=!0,Of||(Of=!0,_2())}function kl(t,r){if(!Mf&&Rc){Mf=!0;do for(var a=!1,l=Ac;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,x=l.pingedLanes;f=(1<<31-mt(42|t)+1)-1,f&=h&~(v&~x),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Ov(l,f))}else f=Pe,f=cr(l,l===et?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||$n(l,f)||(a=!0,Ov(l,f));l=l.next}while(a);Mf=!1}}function S2(){Rv()}function Rv(){Rc=Of=!1;var t=0;Fi!==0&&L2()&&(t=Fi);for(var r=rn(),a=null,l=Ac;l!==null;){var h=l.next,f=Pv(l,r);f===0?(l.next=null,a===null?Ac=h:a.next=h,h===null&&(Qa=a)):(a=l,(t!==0||(f&3)!==0)&&(Rc=!0)),l=h}Ot!==0&&Ot!==5||kl(t),Fi!==0&&(Fi=0)}function Pv(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-mt(f),x=1<<v,I=h[v];I===-1?((x&a)===0||(x&l)!==0)&&(h[v]=ud(x,r)):I<=r&&(t.expiredLanes|=x),f&=~x}if(r=et,a=Pe,a=cr(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ge===2||Ge===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&mi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||$n(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&mi(l),Fr(a)){case 2:case 8:a=Ro;break;case 32:a=gi;break;case 268435456:a=wu;break;default:a=gi}return l=Dv.bind(null,t),a=Dt(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&mi(l),t.callbackPriority=2,t.callbackNode=null,2}function Dv(t,r){if(Ot!==0&&Ot!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ic()&&t.callbackNode!==a)return null;var l=Pe;return l=cr(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(pv(t,l,r),Pv(t,rn()),t.callbackNode!=null&&t.callbackNode===a?Dv.bind(null,t):null)}function Ov(t,r){if(Ic())return null;pv(t,r,!0)}function _2(){U2(function(){($e&6)!==0?Dt(Ao,S2):Rv()})}function Lf(){if(Fi===0){var t=Oa;t===0&&(t=lr,lr<<=1,(lr&261888)===0&&(lr=256)),Fi=t}return Fi}function Mv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ba(""+t)}function Lv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function C2(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var f=Mv((h[jt]||null).action),v=l.submitter;v&&(r=(r=v[jt]||null)?Mv(r.formAction):v.getAttribute("formAction"),r!==null&&(f=r,v=null));var x=new kr("action","action",null,l,h);t.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fi!==0){var I=v?Lv(h,v):new FormData(h);tf(a,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(x.preventDefault(),I=v?Lv(h,v):new FormData(h),tf(a,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var jf=0;jf<vd.length;jf++){var Uf=vd[jf],N2=Uf.toLowerCase(),I2=Uf[0].toUpperCase()+Uf.slice(1);Xn(N2,"on"+I2)}Xn(fg,"onAnimationEnd"),Xn(pg,"onAnimationIteration"),Xn(mg,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(HE,"onTransitionRun"),Xn(WE,"onTransitionStart"),Xn(KE,"onTransitionCancel"),Xn(gg,"onTransitionEnd"),yr("onMouseEnter",["mouseout","mouseover"]),yr("onMouseLeave",["mouseout","mouseover"]),yr("onPointerEnter",["pointerout","pointerover"]),yr("onPointerLeave",["pointerout","pointerover"]),gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gr("onBeforeInput",["compositionend","keypress","textInput","paste"]),gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function jv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(r)for(var v=l.length-1;0<=v;v--){var x=l[v],I=x.instance,V=x.currentTarget;if(x=x.listener,I!==f&&h.isPropagationStopped())break e;f=x,h.currentTarget=V;try{f(h)}catch(Q){Wu(Q)}h.currentTarget=null,f=I}else for(v=0;v<l.length;v++){if(x=l[v],I=x.instance,V=x.currentTarget,x=x.listener,I!==f&&h.isPropagationStopped())break e;f=x,h.currentTarget=V;try{f(h)}catch(Q){Wu(Q)}h.currentTarget=null,f=I}}}}function Re(t,r){var a=r[pa];a===void 0&&(a=r[pa]=new Set);var l=t+"__bubble";a.has(l)||(Uv(r,t,2,!1),a.add(l))}function Vf(t,r,a){var l=0;r&&(l|=4),Uv(a,t,l,r)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function zf(t){if(!t[Pc]){t[Pc]=!0,Oo.forEach(function(a){a!=="selectionchange"&&(A2.has(a)||Vf(a,!1,t),Vf(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Pc]||(r[Pc]=!0,Vf("selectionchange",!1,r))}}function Uv(t,r,a,l){switch(fb(r)){case 2:var h=ix;break;case 8:h=sx;break;default:h=tp}a=h.bind(null,r,a,t),h=void 0,!Cs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Ff(t,r,a,l,h){var f=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var x=l.stateNode.containerInfo;if(x===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;x!==null;){if(v=pr(x),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=f=v;continue e}x=x.parentNode}}l=l.return}Ei(function(){var V=f,Q=Nn(a),Z=[];e:{var B=yg.get(t);if(B!==void 0){var H=kr,he=t;switch(t){case"keypress":if(Is(a)===0)break e;case"keydown":case"keyup":H=$u;break;case"focusin":he="focus",H=Rs;break;case"focusout":he="blur",H=Rs;break;case"beforeblur":case"afterblur":H=Rs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Ou;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=g;break;case fg:case pg:case mg:H=Lu;break;case gg:H=T;break;case"scroll":case"scrollend":H=Wo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=ju;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=qr;break;case"toggle":case"beforetoggle":H=Ce}var ye=(r&4)!==0,Ze=!ye&&(t==="scroll"||t==="scrollend"),M=ye?B!==null?B+"Capture":null:B;ye=[];for(var P=V,U;P!==null;){var X=P;if(U=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||U===null||M===null||(X=Kn(P,M),X!=null&&ye.push(xl(P,X,U))),Ze)break;P=P.return}0<ye.length&&(B=new H(B,he,null,a,Q),Z.push({event:B,listeners:ye}))}}if((r&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==$o&&(he=a.relatedTarget||a.fromElement)&&(pr(he)||he[dr]))break e;if((H||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,H?(he=a.relatedTarget||a.toElement,H=V,he=he?pr(he):null,he!==null&&(Ze=u(he),ye=he.tag,he!==Ze||ye!==5&&ye!==27&&ye!==6)&&(he=null)):(H=null,he=V),H!==he)){if(ye=Ko,X="onMouseLeave",M="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(ye=qr,X="onPointerLeave",M="onPointerEnter",P="pointer"),Ze=H==null?B:mn(H),U=he==null?B:mn(he),B=new ye(X,P+"leave",H,a,Q),B.target=Ze,B.relatedTarget=U,X=null,pr(Q)===V&&(ye=new ye(M,P+"enter",he,a,Q),ye.target=U,ye.relatedTarget=Ze,X=ye),Ze=X,H&&he)t:{for(ye=R2,M=H,P=he,U=0,X=M;X;X=ye(X))U++;X=0;for(var pe=P;pe;pe=ye(pe))X++;for(;0<U-X;)M=ye(M),U--;for(;0<X-U;)P=ye(P),X--;for(;U--;){if(M===P||P!==null&&M===P.alternate){ye=M;break t}M=ye(M),P=ye(P)}ye=null}else ye=null;H!==null&&Vv(Z,B,H,ye,!1),he!==null&&Ze!==null&&Vv(Z,Ze,he,ye,!0)}}e:{if(B=V?mn(V):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Fe=ng;else if(eg(B))if(rg)Fe=BE;else{Fe=zE;var de=VE}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?V&&va(V.elementType)&&(Fe=ng):Fe=FE;if(Fe&&(Fe=Fe(t,V))){tg(Z,Fe,a,Q);break e}de&&de(t,B,V),t==="focusout"&&V&&B.type==="number"&&V.memoizedProps.value!=null&&zo(B,"number",B.value)}switch(de=V?mn(V):window,t){case"focusin":(eg(de)||de.contentEditable==="true")&&(_a=de,md=V,Yo=null);break;case"focusout":Yo=md=_a=null;break;case"mousedown":gd=!0;break;case"contextmenu":case"mouseup":case"dragend":gd=!1,hg(Z,a,Q);break;case"selectionchange":if(qE)break;case"keydown":case"keyup":hg(Z,a,Q)}var Ne;if(Ke)e:{switch(t){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Sa?Ps(t,a)&&(De="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(De="onCompositionStart");De&&(Hr&&a.locale!=="ko"&&(Sa||De!=="onCompositionStart"?De==="onCompositionEnd"&&Sa&&(Ne=Ho()):(wr=Q,qo="value"in wr?wr.value:wr.textContent,Sa=!0)),de=Dc(V,De),0<de.length&&(De=new xr(De,t,null,a,Q),Z.push({event:De,listeners:de}),Ne?De.data=Ne:(Ne=Ta(a),Ne!==null&&(De.data=Ne)))),(Ne=An?ME(t,a):LE(t,a))&&(De=Dc(V,"onBeforeInput"),0<De.length&&(de=new xr("onBeforeInput","beforeinput",null,a,Q),Z.push({event:de,listeners:De}),de.data=Ne)),C2(Z,t,V,a,Q)}jv(Z,r)})}function xl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Dc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Kn(t,a),h!=null&&l.unshift(xl(t,h,f)),h=Kn(t,r),h!=null&&l.push(xl(t,h,f))),t.tag===3)return l;t=t.return}return[]}function R2(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Vv(t,r,a,l,h){for(var f=r._reactName,v=[];a!==null&&a!==l;){var x=a,I=x.alternate,V=x.stateNode;if(x=x.tag,I!==null&&I===l)break;x!==5&&x!==26&&x!==27||V===null||(I=V,h?(V=Kn(a,f),V!=null&&v.unshift(xl(a,V,I))):h||(V=Kn(a,f),V!=null&&v.push(xl(a,V,I)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var P2=/\r\n?/g,D2=/\u0000|\uFFFD/g;function zv(t){return(typeof t=="string"?t:""+t).replace(P2,`
`).replace(D2,"")}function Fv(t,r){return r=zv(r),zv(t)===r}function Ye(t,r,a,l,h,f){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||ln(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&ln(t,""+l);break;case"className":gn(t,"class",l);break;case"tabIndex":gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,a,l);break;case"style":Bo(t,l,f);break;case"data":if(r!=="object"){gn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&Ye(t,r,"name",h.name,h,null),Ye(t,r,"formEncType",h.formEncType,h,null),Ye(t,r,"formMethod",h.formMethod,h,null),Ye(t,r,"formTarget",h.formTarget,h,null)):(Ye(t,r,"encType",h.encType,h,null),Ye(t,r,"method",h.method,h,null),Ye(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Wn);break;case"onScroll":l!=null&&Re("scroll",t);break;case"onScrollEnd":l!=null&&Re("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ba(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Re("beforetoggle",t),Re("toggle",t),ga(t,"popover",l);break;case"xlinkActuate":Tt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Tt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Tt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Tt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Tt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Tt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ga(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Du.get(a)||a,ga(t,a,l))}}function Bf(t,r,a,l,h,f){switch(a){case"style":Bo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?ln(t,l):(typeof l=="number"||typeof l=="bigint")&&ln(t,""+l);break;case"onScroll":l!=null&&Re("scroll",t);break;case"onScrollEnd":l!=null&&Re("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),f=t[jt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(r,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ga(t,a,l)}}}function Wt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",t),Re("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ye(t,r,f,v,a,null)}}h&&Ye(t,r,"srcSet",a.srcSet,a,null),l&&Ye(t,r,"src",a.src,a,null);return;case"input":Re("invalid",t);var x=f=v=h=null,I=null,V=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":v=Q;break;case"checked":I=Q;break;case"defaultChecked":V=Q;break;case"value":f=Q;break;case"defaultValue":x=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Ye(t,r,l,Q,a,null)}}Au(t,f,x,I,V,v,h,!1);return;case"select":Re("invalid",t),l=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(x=a[h],x!=null))switch(h){case"value":f=x;break;case"defaultValue":v=x;break;case"multiple":l=x;default:Ye(t,r,h,x,a,null)}r=f,a=v,t.multiple=!!l,r!=null?vi(t,!!l,r,!1):a!=null&&vi(t,!!l,a,!0);return;case"textarea":Re("invalid",t),f=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(x=a[v],x!=null))switch(v){case"value":l=x;break;case"defaultValue":h=x;break;case"children":f=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:Ye(t,r,v,x,a,null)}bi(t,l,h,f);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ye(t,r,I,l,a,null)}return;case"dialog":Re("beforetoggle",t),Re("toggle",t),Re("cancel",t),Re("close",t);break;case"iframe":case"object":Re("load",t);break;case"video":case"audio":for(l=0;l<El.length;l++)Re(El[l],t);break;case"image":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"embed":case"source":case"link":Re("error",t),Re("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in a)if(a.hasOwnProperty(V)&&(l=a[V],l!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ye(t,r,V,l,a,null)}return;default:if(va(r)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&Bf(t,r,Q,l,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null&&Ye(t,r,x,l,a,null))}function O2(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,x=null,I=null,V=null,Q=null;for(H in a){var Z=a[H];if(a.hasOwnProperty(H)&&Z!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=Z;default:l.hasOwnProperty(H)||Ye(t,r,H,null,l,Z)}}for(var B in l){var H=l[B];if(Z=a[B],l.hasOwnProperty(B)&&(H!=null||Z!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":V=H;break;case"defaultChecked":Q=H;break;case"value":v=H;break;case"defaultValue":x=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:H!==Z&&Ye(t,r,B,H,l,Z)}}ya(t,v,x,I,V,Q,f,h);return;case"select":H=v=x=B=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(f)||Ye(t,r,f,null,l,I)}for(h in l)if(f=l[h],I=a[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":B=f;break;case"defaultValue":x=f;break;case"multiple":v=f;default:f!==I&&Ye(t,r,h,f,l,I)}r=x,a=v,l=H,B!=null?vi(t,!!a,B,!1):!!l!=!!a&&(r!=null?vi(t,!!a,r,!0):vi(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(x in a)if(h=a[x],a.hasOwnProperty(x)&&h!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Ye(t,r,x,null,l,h)}for(v in l)if(h=l[v],f=a[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Ye(t,r,v,h,l,f)}Ru(t,B,H);return;case"option":for(var he in a)if(B=a[he],a.hasOwnProperty(he)&&B!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:Ye(t,r,he,null,l,B)}for(I in l)if(B=l[I],H=a[I],l.hasOwnProperty(I)&&B!==H&&(B!=null||H!=null))switch(I){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Ye(t,r,I,B,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)B=a[ye],a.hasOwnProperty(ye)&&B!=null&&!l.hasOwnProperty(ye)&&Ye(t,r,ye,null,l,B);for(V in l)if(B=l[V],H=a[V],l.hasOwnProperty(V)&&B!==H&&(B!=null||H!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,r));break;default:Ye(t,r,V,B,l,H)}return;default:if(va(r)){for(var Ze in a)B=a[Ze],a.hasOwnProperty(Ze)&&B!==void 0&&!l.hasOwnProperty(Ze)&&Bf(t,r,Ze,void 0,l,B);for(Q in l)B=l[Q],H=a[Q],!l.hasOwnProperty(Q)||B===H||B===void 0&&H===void 0||Bf(t,r,Q,B,l,H);return}}for(var M in a)B=a[M],a.hasOwnProperty(M)&&B!=null&&!l.hasOwnProperty(M)&&Ye(t,r,M,null,l,B);for(Z in l)B=l[Z],H=a[Z],!l.hasOwnProperty(Z)||B===H||B==null&&H==null||Ye(t,r,Z,B,l,H)}function Bv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function M2(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,v=h.initiatorType,x=h.duration;if(f&&x&&Bv(v)){for(v=0,x=h.responseEnd,l+=1;l<a.length;l++){var I=a[l],V=I.startTime;if(V>x)break;var Q=I.transferSize,Z=I.initiatorType;Q&&Bv(Z)&&(I=I.responseEnd,v+=Q*(I<x?1:(x-V)/(I-V)))}if(--l,r+=8*(f+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var $f=null,qf=null;function Oc(t){return t.nodeType===9?t:t.ownerDocument}function $v(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Hf(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Wf=null;function L2(){var t=window.event;return t&&t.type==="popstate"?t===Wf?!1:(Wf=t,!0):(Wf=null,!1)}var Hv=typeof setTimeout=="function"?setTimeout:void 0,j2=typeof clearTimeout=="function"?clearTimeout:void 0,Wv=typeof Promise=="function"?Promise:void 0,U2=typeof queueMicrotask=="function"?queueMicrotask:typeof Wv<"u"?function(t){return Wv.resolve(null).then(t).catch(V2)}:Hv;function V2(t){setTimeout(function(){throw t})}function Bi(t){return t==="head"}function Kv(t,r){var a=r,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Za(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Tl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Tl(a);for(var f=a.firstChild;f;){var v=f.nextSibling,x=f.nodeName;f[fr]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=v}}else a==="body"&&Tl(t.ownerDocument.body);a=h}while(a);Za(r)}function Gv(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Kf(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Kf(a),ma(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function z2(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[fr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence")||f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function F2(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ln(t.nextSibling),t===null))return null;return t}function Qv(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Ln(t.nextSibling),t===null))return null;return t}function Gf(t){return t.data==="$?"||t.data==="$~"}function Qf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function B2(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ln(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Jf=null;function Jv(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return Ln(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function Xv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function Yv(t,r,a){switch(r=Oc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Tl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ma(t)}var jn=new Map,Zv=new Set;function Mc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ai=ae.d;ae.d={f:$2,r:q2,D:H2,C:W2,L:K2,m:G2,X:J2,S:Q2,M:X2};function $2(){var t=ai.f(),r=_c();return t||r}function q2(t){var r=Cn(t);r!==null&&r.tag===5&&r.type==="form"?gy(r):ai.r(t)}var Ja=typeof document>"u"?null:document;function eb(t,r,a){var l=Ja;if(l&&typeof r=="string"&&r){var h=yn(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Zv.has(h)||(Zv.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Wt(r,"link",t),xt(r),l.head.appendChild(r)))}}function H2(t){ai.D(t),eb("dns-prefetch",t,null)}function W2(t,r){ai.C(t,r),eb("preconnect",t,r)}function K2(t,r,a){ai.L(t,r,a);var l=Ja;if(l&&t&&r){var h='link[rel="preload"][as="'+yn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+yn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+yn(a.imageSizes)+'"]')):h+='[href="'+yn(t)+'"]';var f=h;switch(r){case"style":f=Xa(t);break;case"script":f=Ya(t)}jn.has(f)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),jn.set(f,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Sl(f))||r==="script"&&l.querySelector(_l(f))||(r=l.createElement("link"),Wt(r,"link",t),xt(r),l.head.appendChild(r)))}}function G2(t,r){ai.m(t,r);var a=Ja;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+yn(l)+'"][href="'+yn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ya(t)}if(!jn.has(f)&&(t=E({rel:"modulepreload",href:t},r),jn.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(_l(f)))return}l=a.createElement("link"),Wt(l,"link",t),xt(l),a.head.appendChild(l)}}}function Q2(t,r,a){ai.S(t,r,a);var l=Ja;if(l&&t){var h=mr(l).hoistableStyles,f=Xa(t);r=r||"default";var v=h.get(f);if(!v){var x={loading:0,preload:null};if(v=l.querySelector(Sl(f)))x.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=jn.get(f))&&Xf(t,a);var I=v=l.createElement("link");xt(I),Wt(I,"link",t),I._p=new Promise(function(V,Q){I.onload=V,I.onerror=Q}),I.addEventListener("load",function(){x.loading|=1}),I.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Lc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:x},h.set(f,v)}}}function J2(t,r){ai.X(t,r);var a=Ja;if(a&&t){var l=mr(a).hoistableScripts,h=Ya(t),f=l.get(h);f||(f=a.querySelector(_l(h)),f||(t=E({src:t,async:!0},r),(r=jn.get(h))&&Yf(t,r),f=a.createElement("script"),xt(f),Wt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function X2(t,r){ai.M(t,r);var a=Ja;if(a&&t){var l=mr(a).hoistableScripts,h=Ya(t),f=l.get(h);f||(f=a.querySelector(_l(h)),f||(t=E({src:t,async:!0,type:"module"},r),(r=jn.get(h))&&Yf(t,r),f=a.createElement("script"),xt(f),Wt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function tb(t,r,a,l){var h=(h=_e.current)?Mc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Xa(a.href),a=mr(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Xa(a.href);var f=mr(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(Sl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(t,a),f||Y2(h,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ya(a),a=mr(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Xa(t){return'href="'+yn(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function nb(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function Y2(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Wt(r,"link",a),xt(r),t.head.appendChild(r))}function Ya(t){return'[src="'+yn(t)+'"]'}function _l(t){return"script[async]"+t}function rb(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+yn(a.href)+'"]');if(l)return r.instance=l,xt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),xt(l),Wt(l,"style",h),Lc(l,a.precedence,t),r.instance=l;case"stylesheet":h=Xa(a.href);var f=t.querySelector(Sl(h));if(f)return r.state.loading|=4,r.instance=f,xt(f),f;l=nb(a),(h=jn.get(h))&&Xf(l,h),f=(t.ownerDocument||t).createElement("link"),xt(f);var v=f;return v._p=new Promise(function(x,I){v.onload=x,v.onerror=I}),Wt(f,"link",l),r.state.loading|=4,Lc(f,a.precedence,t),r.instance=f;case"script":return f=Ya(a.src),(h=t.querySelector(_l(f)))?(r.instance=h,xt(h),h):(l=a,(h=jn.get(f))&&(l=E({},a),Yf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),xt(h),Wt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Lc(l,a.precedence,t));return r.instance}function Lc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var x=l[v];if(x.dataset.precedence===r)f=x;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Xf(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Yf(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var jc=null;function ib(t,r,a){if(jc===null){var l=new Map,h=jc=new Map;h.set(a,l)}else h=jc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[fr]||f[Et]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(r)||"";v=t+v;var x=l.get(v);x?x.push(f):l.set(v,[f])}}return l}function sb(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function Z2(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function ab(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function ex(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Xa(l.href),f=r.querySelector(Sl(h));if(f){r=f._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Uc.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=f,xt(f);return}f=r.ownerDocument||r,l=nb(l),(h=jn.get(h))&&Xf(l,h),f=f.createElement("link"),xt(f);var v=f;v._p=new Promise(function(x,I){v.onload=x,v.onerror=I}),Wt(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Uc.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var Zf=0;function tx(t,r){return t.stylesheets&&t.count===0&&zc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&zc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+r);0<t.imgBytes&&Zf===0&&(Zf=62500*M2());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&zc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Zf?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Uc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vc=null;function zc(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vc=new Map,r.forEach(nx,t),Vc=null,Uc.call(t))}function nx(t,r){if(!(r.state.loading&4)){var a=Vc.get(t);if(a)var l=a.get(null);else{a=new Map,Vc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,h),a.set(v,h),this.count++,l=Uc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Cl={$$typeof:W,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function rx(t,r,a,l,h,f,v,x,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hr(0),this.hiddenUpdates=hr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function ob(t,r,a,l,h,f,v,x,I,V,Q,Z){return t=new rx(t,r,a,v,I,V,Q,Z,x),r=1,f===!0&&(r|=24),f=bn(3,null,null,r),t.current=f,f.stateNode=t,r=Rd(),r.refCount++,t.pooledCache=r,r.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:r},Md(f),t}function lb(t){return t?(t=Ia,t):Ia}function ub(t,r,a,l,h,f){h=lb(h),l.context===null?l.context=h:l.pendingContext=h,l=Ri(r),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Pi(t,l,r),a!==null&&(fn(a,t,r),sl(a,t,r))}function cb(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function ep(t,r){cb(t,r),(t=t.alternate)&&cb(t,r)}function hb(t){if(t.tag===13||t.tag===31){var r=Ms(t,67108864);r!==null&&fn(r,t,67108864),ep(t,67108864)}}function db(t){if(t.tag===13||t.tag===31){var r=Tn();r=xs(r);var a=Ms(t,r);a!==null&&fn(a,t,r),ep(t,r)}}var Fc=!0;function ix(t,r,a,l){var h=J.T;J.T=null;var f=ae.p;try{ae.p=2,tp(t,r,a,l)}finally{ae.p=f,J.T=h}}function sx(t,r,a,l){var h=J.T;J.T=null;var f=ae.p;try{ae.p=8,tp(t,r,a,l)}finally{ae.p=f,J.T=h}}function tp(t,r,a,l){if(Fc){var h=np(l);if(h===null)Ff(t,r,l,Bc,a),pb(t,l);else if(ox(h,t,r,a,l))l.stopPropagation();else if(pb(t,l),r&4&&-1<ax.indexOf(t)){for(;h!==null;){var f=Cn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=ur(f.pendingLanes);if(v!==0){var x=f;for(x.pendingLanes|=2,x.entangledLanes|=2;v;){var I=1<<31-mt(v);x.entanglements[1]|=I,v&=~I}Cr(f),($e&6)===0&&(Tc=rn()+500,kl(0))}}break;case 31:case 13:x=Ms(f,2),x!==null&&fn(x,f,2),_c(),ep(f,2)}if(f=np(l),f===null&&Ff(t,r,l,Bc,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Ff(t,r,l,null,a)}}function np(t){return t=Nn(t),rp(t)}var Bc=null;function rp(t){if(Bc=null,t=pr(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=d(r),t!==null)return t;t=null}else if(a===31){if(t=p(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Bc=t,null}function fb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bs()){case Ao:return 2;case Ro:return 8;case gi:case ld:return 32;case wu:return 268435456;default:return 32}default:return 32}}var ip=!1,$i=null,qi=null,Hi=null,Nl=new Map,Il=new Map,Wi=[],ax="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pb(t,r){switch(t){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":Nl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(r.pointerId)}}function Al(t,r,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},r!==null&&(r=Cn(r),r!==null&&hb(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function ox(t,r,a,l,h){switch(r){case"focusin":return $i=Al($i,t,r,a,l,h),!0;case"dragenter":return qi=Al(qi,t,r,a,l,h),!0;case"mouseover":return Hi=Al(Hi,t,r,a,l,h),!0;case"pointerover":var f=h.pointerId;return Nl.set(f,Al(Nl.get(f)||null,t,r,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Il.set(f,Al(Il.get(f)||null,t,r,a,l,h)),!0}return!1}function mb(t){var r=pr(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=d(a),r!==null){t.blockedOn=r,qn(t.priority,function(){db(a)});return}}else if(r===31){if(r=p(a),r!==null){t.blockedOn=r,qn(t.priority,function(){db(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $c(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=np(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);$o=l,a.target.dispatchEvent(l),$o=null}else return r=Cn(a),r!==null&&hb(r),t.blockedOn=a,!1;r.shift()}return!0}function gb(t,r,a){$c(t)&&a.delete(r)}function lx(){ip=!1,$i!==null&&$c($i)&&($i=null),qi!==null&&$c(qi)&&(qi=null),Hi!==null&&$c(Hi)&&(Hi=null),Nl.forEach(gb),Il.forEach(gb)}function qc(t,r){t.blockedOn===r&&(t.blockedOn=null,ip||(ip=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,lx)))}var Hc=null;function yb(t){Hc!==t&&(Hc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Hc===t&&(Hc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(rp(l||a)===null)continue;break}var f=Cn(a);f!==null&&(t.splice(r,3),r-=3,tf(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Za(t){function r(I){return qc(I,t)}$i!==null&&qc($i,t),qi!==null&&qc(qi,t),Hi!==null&&qc(Hi,t),Nl.forEach(r),Il.forEach(r);for(var a=0;a<Wi.length;a++){var l=Wi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Wi.length&&(a=Wi[0],a.blockedOn===null);)mb(a),a.blockedOn===null&&Wi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],v=h[jt]||null;if(typeof f=="function")v||yb(a);else if(v){var x=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[jt]||null)x=v.formAction;else if(rp(h)!==null)continue}else x=v.action;typeof x=="function"?a[l+1]=x:(a.splice(l,3),l-=3),yb(a)}}}function vb(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function sp(t){this._internalRoot=t}Wc.prototype.render=sp.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Tn();ub(a,l,t,r,null,null)},Wc.prototype.unmount=sp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;ub(t.current,2,null,t,null,null),_c(),r[dr]=null}};function Wc(t){this._internalRoot=t}Wc.prototype.unstable_scheduleHydration=function(t){if(t){var r=_u();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Wi.length&&r!==0&&r<Wi[a].priority;a++);Wi.splice(a,0,t),a===0&&mb(t)}};var bb=e.version;if(bb!=="19.2.4")throw Error(s(527,bb,"19.2.4"));ae.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(r),t=t!==null?k(t):null,t=t===null?null:t.stateNode,t};var ux={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{Bn=Kc.inject(ux),Ft=Kc}catch{}}return Pl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=_y,f=Cy,v=Ny;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=ob(t,1,!1,null,null,a,l,null,h,f,v,vb),t[dr]=r.current,zf(t),new sp(r)},Pl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",f=_y,v=Cy,x=Ny,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),r=ob(t,1,!0,r,a??null,l,h,I,f,v,x,vb),r.context=lb(null),a=r.current,l=Tn(),l=xs(l),h=Ri(l),h.callback=null,Pi(a,h,l),a=l,r.current.lanes=a,ks(r,a),Cr(r),t[dr]=r.current,zf(t),new Wc(r)},Pl.version="19.2.4",Pl}var Db;function kx(){if(Db)return ap.exports;Db=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ap.exports=wx(),ap.exports}var Ex=kx();/**
* react-router v7.13.0
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/var Ob="popstate";function xx(i={}){function e(o,u){let{pathname:d="/",search:p="",hash:m=""}=ra(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Cp("",{pathname:d,search:p,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let d=o.document.querySelector("base"),p="";if(d&&d.getAttribute("href")){let m=o.location.href,y=m.indexOf("#");p=y===-1?m:m.slice(0,y)}return p+"#"+(typeof u=="string"?u:Gl(u))}function s(o,u){ir(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Sx(e,n,s,i)}function ut(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function ir(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Tx(){return Math.random().toString(36).substring(2,10)}function Mb(i,e){return{usr:i.state,key:i.key,idx:e}}function Cp(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ra(e):e,state:n,key:e&&e.key||s||Tx()}}function Gl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function ra(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function Sx(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,d=o.history,p="POP",m=null,y=k();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function k(){return(d.state||{idx:null}).idx}function E(){p="POP";let G=k(),ne=G==null?null:G-y;y=G,m&&m({action:p,location:K.location,delta:ne})}function A(G,ne){p="PUSH";let re=Cp(K.location,G,ne);n&&n(re,G),y=k()+1;let W=Mb(re,y),le=K.createHref(re);try{d.pushState(W,"",le)}catch(we){if(we instanceof DOMException&&we.name==="DataCloneError")throw we;o.location.assign(le)}u&&m&&m({action:p,location:K.location,delta:1})}function $(G,ne){p="REPLACE";let re=Cp(K.location,G,ne);n&&n(re,G),y=k();let W=Mb(re,y),le=K.createHref(re);d.replaceState(W,"",le),u&&m&&m({action:p,location:K.location,delta:0})}function F(G){return _x(G)}let K={get action(){return p},get location(){return i(o,d)},listen(G){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Ob,E),m=G,()=>{o.removeEventListener(Ob,E),m=null}},createHref(G){return e(o,G)},createURL:F,encodeLocation(G){let ne=F(G);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:A,replace:$,go(G){return d.go(G)}};return K}function _x(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Gl(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function ww(i,e,n="/"){return Cx(i,e,n,!1)}function Cx(i,e,n,s){let o=typeof e=="string"?ra(e):e,u=ci(o.pathname||"/",n);if(u==null)return null;let d=kw(i);Nx(d);let p=null;for(let m=0;p==null&&m<d.length;++m){let y=Vx(u);p=jx(d[m],y,s)}return p}function kw(i,e=[],n=[],s="",o=!1){let u=(d,p,m=o,y)=>{let k={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(k.relativePath.startsWith("/")){if(!k.relativePath.startsWith(s)&&m)return;ut(k.relativePath.startsWith(s),`Absolute route path "${k.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),k.relativePath=k.relativePath.slice(s.length)}let E=ui([s,k.relativePath]),A=n.concat(k);d.children&&d.children.length>0&&(ut(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),kw(d.children,e,A,E,m)),!(d.path==null&&!d.index)&&e.push({path:E,score:Mx(E,d.index),routesMeta:A})};return i.forEach((d,p)=>{var m;if(d.path===""||!((m=d.path)!=null&&m.includes("?")))u(d,p);else for(let y of Ew(d.path))u(d,p,!0,y)}),e}function Ew(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let d=Ew(s.join("/")),p=[];return p.push(...d.map(m=>m===""?u:[u,m].join("/"))),o&&p.push(...d),p.map(m=>i.startsWith("/")&&m===""?"/":m)}function Nx(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Lx(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Ix=/^:[\w-]+$/,Ax=3,Rx=2,Px=1,Dx=10,Ox=-2,Lb=i=>i==="*";function Mx(i,e){let n=i.split("/"),s=n.length;return n.some(Lb)&&(s+=Ox),e&&(s+=Rx),n.filter(o=>!Lb(o)).reduce((o,u)=>o+(Ix.test(u)?Ax:u===""?Px:Dx),s)}function Lx(i,e){return i.length===e.length&&i.slice(0,-1).every((n,s)=>n===e[s])?i[i.length-1]-e[e.length-1]:0}function jx(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",d=[];for(let p=0;p<s.length;++p){let m=s[p],y=p===s.length-1,k=u==="/"?e:e.slice(u.length)||"/",E=yh({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},k),A=m.route;if(!E&&y&&n&&!s[s.length-1].route.index&&(E=yh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},k)),!E)return null;Object.assign(o,E.params),d.push({params:o,pathname:ui([u,E.pathname]),pathnameBase:$x(ui([u,E.pathnameBase])),route:A}),E.pathnameBase!=="/"&&(u=ui([u,E.pathnameBase]))}return d}function yh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=Ux(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((m,{paramName:y,isOptional:k},E)=>{if(y==="*"){let $=p[E]||"";d=u.slice(0,u.length-$.length).replace(/(.)\/+$/,"$1")}const A=p[E];return k&&!A?m[y]=void 0:m[y]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:d,pattern:i}}function Ux(i,e=!1,n=!0){ir(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Vx(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ir(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ci(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var zx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Fx(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?ra(i):i,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=jb(n.substring(1),"/"):u=jb(n,e)):u=e,{pathname:u,search:qx(s),hash:Hx(o)}}function jb(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function lp(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Bx(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xw(i){let e=Bx(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Tw(i,e,n,s=!1){let o;typeof i=="string"?o=ra(i):(o={...i},ut(!o.pathname||!o.pathname.includes("?"),lp("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),lp("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),lp("#","search","hash",o)));let u=i===""||o.pathname==="",d=u?"/":o.pathname,p;if(d==null)p=n;else{let E=e.length-1;if(!s&&d.startsWith("..")){let A=d.split("/");for(;A[0]==="..";)A.shift(),E-=1;o.pathname=A.join("/")}p=E>=0?e[E]:"/"}let m=Fx(o,p),y=d&&d!=="/"&&d.endsWith("/"),k=(u||d===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(y||k)&&(m.pathname+="/"),m}var ui=i=>i.join("/").replace(/\/\/+/g,"/"),$x=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),qx=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Hx=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,Wx=class{constructor(i,e,n,s=!1){this.status=i,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Kx(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function Gx(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Sw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function _w(i,e){let n=i;if(typeof n!="string"||!zx.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(Sw)try{let u=new URL(window.location.href),d=n.startsWith("//")?new URL(u.protocol+n):new URL(n),p=ci(d.pathname,e);d.origin===u.origin&&p!=null?n=p+d.search+d.hash:o=!0}catch{ir(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Cw=["POST","PUT","PATCH","DELETE"];new Set(Cw);var Qx=["GET",...Cw];new Set(Qx);var wo=z.createContext(null);wo.displayName="DataRouter";var Uh=z.createContext(null);Uh.displayName="DataRouterState";var Jx=z.createContext(!1),Nw=z.createContext({isTransitioning:!1});Nw.displayName="ViewTransition";var Xx=z.createContext(new Map);Xx.displayName="Fetchers";var Yx=z.createContext(null);Yx.displayName="Await";var Fn=z.createContext(null);Fn.displayName="Navigation";var su=z.createContext(null);su.displayName="Location";var Vr=z.createContext({outlet:null,matches:[],isDataRoute:!1});Vr.displayName="Route";var nm=z.createContext(null);nm.displayName="RouteError";var Iw="REACT_ROUTER_ERROR",Zx="REDIRECT",eT="ROUTE_ERROR_RESPONSE";function tT(i){if(i.startsWith(`${Iw}:${Zx}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function nT(i){if(i.startsWith(`${Iw}:${eT}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Wx(e.status,e.statusText,e.data)}catch{}}function rT(i,{relative:e}={}){ut(au(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=z.useContext(Fn),{hash:o,pathname:u,search:d}=lu(i,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:ui([n,u])),s.createHref({pathname:p,search:d,hash:o})}function au(){return z.useContext(su)!=null}function ar(){return ut(au(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(su).location}var Aw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Rw(i){z.useContext(Fn).static||z.useLayoutEffect(i)}function ou(){let{isDataRoute:i}=z.useContext(Vr);return i?yT():iT()}function iT(){ut(au(),"useNavigate() may be used only in the context of a <Router> component.");let i=z.useContext(wo),{basename:e,navigator:n}=z.useContext(Fn),{matches:s}=z.useContext(Vr),{pathname:o}=ar(),u=JSON.stringify(xw(s)),d=z.useRef(!1);return Rw(()=>{d.current=!0}),z.useCallback((p,m={})=>{if(ir(d.current,Aw),!d.current)return;if(typeof p=="number"){n.go(p);return}let y=Tw(p,JSON.parse(u),o,m.relative==="path");i==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:ui([e,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[e,n,u,o,i])}z.createContext(null);function sT(){let{matches:i}=z.useContext(Vr),e=i[i.length-1];return e?e.params:{}}function lu(i,{relative:e}={}){let{matches:n}=z.useContext(Vr),{pathname:s}=ar(),o=JSON.stringify(xw(n));return z.useMemo(()=>Tw(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function aT(i,e){return Pw(i,e)}function Pw(i,e,n,s,o){var u;ut(au(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=z.useContext(Fn),{matches:p}=z.useContext(Vr),m=p[p.length-1],y=m?m.params:{},k=m?m.pathname:"/",E=m?m.pathnameBase:"/",A=m&&m.route;{let W=A&&A.path||"";Ow(k,!A||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${k}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let $=ar(),F;if(e){let W=typeof e=="string"?ra(e):e;ut(E==="/"||((u=W.pathname)==null?void 0:u.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${W.pathname}" was given in the \`location\` prop.`),F=W}else F=$;let K=F.pathname||"/",G=K;if(E!=="/"){let W=E.replace(/^\//,"").split("/");G="/"+K.replace(/^\//,"").split("/").slice(W.length).join("/")}let ne=ww(i,{pathname:G});ir(A||ne!=null,`No routes matched location "${F.pathname}${F.search}${F.hash}" `),ir(ne==null||ne[ne.length-1].route.element!==void 0||ne[ne.length-1].route.Component!==void 0||ne[ne.length-1].route.lazy!==void 0,`Matched leaf route at location "${F.pathname}${F.search}${F.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let re=hT(ne&&ne.map(W=>Object.assign({},W,{params:Object.assign({},y,W.params),pathname:ui([E,d.encodeLocation?d.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?E:ui([E,d.encodeLocation?d.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),p,n,s,o);return e&&re?z.createElement(su.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...F},navigationType:"POP"}},re):re}function oT(){let i=gT(),e=Kx(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,d)}var lT=z.createElement(oT,null),Dw=class extends z.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=nT(i.digest);n&&(i=n)}let e=i!==void 0?z.createElement(Vr.Provider,{value:this.props.routeContext},z.createElement(nm.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?z.createElement(uT,{error:i},e):e}};Dw.contextType=Jx;var up=new WeakMap;function uT({children:i,error:e}){let{basename:n}=z.useContext(Fn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=tT(e.digest);if(s){let o=up.get(e);if(o)throw o;let u=_w(s.location,n);if(Sw&&!up.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw up.set(e,d),d}return z.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function cT({routeContext:i,match:e,children:n}){let s=z.useContext(wo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Vr.Provider,{value:i},n)}function hT(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,d=n==null?void 0:n.errors;if(d!=null){let k=u.findIndex(E=>E.route.id&&(d==null?void 0:d[E.route.id])!==void 0);ut(k>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,k+1))}let p=!1,m=-1;if(n)for(let k=0;k<u.length;k++){let E=u[k];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(m=k),E.route.id){let{loaderData:A,errors:$}=n,F=E.route.loader&&!A.hasOwnProperty(E.route.id)&&(!$||$[E.route.id]===void 0);if(E.route.lazy||F){p=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}let y=n&&s?(k,E)=>{var A,$;s(k,{location:n.location,params:(($=(A=n.matches)==null?void 0:A[0])==null?void 0:$.params)??{},unstable_pattern:Gx(n.matches),errorInfo:E})}:void 0;return u.reduceRight((k,E,A)=>{let $,F=!1,K=null,G=null;n&&($=d&&E.route.id?d[E.route.id]:void 0,K=E.route.errorElement||lT,p&&(m<0&&A===0?(Ow("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),F=!0,G=null):m===A&&(F=!0,G=E.route.hydrateFallbackElement||null)));let ne=e.concat(u.slice(0,A+1)),re=()=>{let W;return $?W=K:F?W=G:E.route.Component?W=z.createElement(E.route.Component,null):E.route.element?W=E.route.element:W=k,z.createElement(cT,{match:E,routeContext:{outlet:k,matches:ne,isDataRoute:n!=null},children:W})};return n&&(E.route.ErrorBoundary||E.route.errorElement||A===0)?z.createElement(Dw,{location:n.location,revalidation:n.revalidation,component:K,error:$,children:re(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:y}):re()},null)}function rm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dT(i){let e=z.useContext(wo);return ut(e,rm(i)),e}function fT(i){let e=z.useContext(Uh);return ut(e,rm(i)),e}function pT(i){let e=z.useContext(Vr);return ut(e,rm(i)),e}function im(i){let e=pT(i),n=e.matches[e.matches.length-1];return ut(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function mT(){return im("useRouteId")}function gT(){var i;let e=z.useContext(nm),n=fT("useRouteError"),s=im("useRouteError");return e!==void 0?e:(i=n.errors)==null?void 0:i[s]}function yT(){let{router:i}=dT("useNavigate"),e=im("useNavigate"),n=z.useRef(!1);return Rw(()=>{n.current=!0}),z.useCallback(async(s,o={})=>{ir(n.current,Aw),n.current&&(typeof s=="number"?await i.navigate(s):await i.navigate(s,{fromRouteId:e,...o}))},[i,e])}var Ub={};function Ow(i,e,n){!e&&!Ub[i]&&(Ub[i]=!0,ir(!1,n))}z.memo(vT);function vT({routes:i,future:e,state:n,onError:s}){return Pw(i,void 0,n,s,e)}function Qi(i){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bT({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:d}){ut(!au(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=i.replace(/^\/*/,"/"),m=z.useMemo(()=>({basename:p,navigator:o,static:u,unstable_useTransitions:d,future:{}}),[p,o,u,d]);typeof n=="string"&&(n=ra(n));let{pathname:y="/",search:k="",hash:E="",state:A=null,key:$="default"}=n,F=z.useMemo(()=>{let K=ci(y,p);return K==null?null:{location:{pathname:K,search:k,hash:E,state:A,key:$},navigationType:s}},[p,y,k,E,A,$,s]);return ir(F!=null,`<Router basename="${p}"> is not able to match the URL "${y}${k}${E}" because it does not start with the basename, so the <Router> won't render anything.`),F==null?null:z.createElement(Fn.Provider,{value:m},z.createElement(su.Provider,{children:e,value:F}))}function wT({children:i,location:e}){return aT(Np(i),e)}function Np(i,e=[]){let n=[];return z.Children.forEach(i,(s,o)=>{if(!z.isValidElement(s))return;let u=[...e,o];if(s.type===z.Fragment){n.push.apply(n,Np(s.props.children,u));return}ut(s.type===Qi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Np(s.props.children,u)),n.push(d)}),n}var ih="get",sh="application/x-www-form-urlencoded";function Vh(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function kT(i){return Vh(i)&&i.tagName.toLowerCase()==="button"}function ET(i){return Vh(i)&&i.tagName.toLowerCase()==="form"}function xT(i){return Vh(i)&&i.tagName.toLowerCase()==="input"}function TT(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function ST(i,e){return i.button===0&&(!e||e==="_self")&&!TT(i)}var Gc=null;function _T(){if(Gc===null)try{new FormData(document.createElement("form"),0),Gc=!1}catch{Gc=!0}return Gc}var CT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cp(i){return i!=null&&!CT.has(i)?(ir(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sh}"`),null):i}function NT(i,e){let n,s,o,u,d;if(ET(i)){let p=i.getAttribute("action");s=p?ci(p,e):null,n=i.getAttribute("method")||ih,o=cp(i.getAttribute("enctype"))||sh,u=new FormData(i)}else if(kT(i)||xT(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||p.getAttribute("action");if(s=m?ci(m,e):null,n=i.getAttribute("formmethod")||p.getAttribute("method")||ih,o=cp(i.getAttribute("formenctype"))||cp(p.getAttribute("enctype"))||sh,u=new FormData(p,i),!_T()){let{name:y,type:k,value:E}=i;if(k==="image"){let A=y?`${y}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else y&&u.append(y,E)}}else{if(Vh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ih,s=null,o=sh,d=i}return u&&o==="text/plain"&&(d=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function sm(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function IT(i,e,n,s){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&ci(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function AT(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RT(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function PT(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let d=await AT(u,n);return d.links?d.links():[]}return[]}));return LT(s.flat(1).filter(RT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Vb(i,e,n,s,o,u){let d=(m,y)=>n[y]?m.route.id!==n[y].route.id:!0,p=(m,y)=>{var k;return n[y].pathname!==m.pathname||((k=n[y].route.path)==null?void 0:k.endsWith("*"))&&n[y].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,y)=>d(m,y)||p(m,y)):u==="data"?e.filter((m,y)=>{var k;let E=s.routes[m.route.id];if(!E||!E.hasLoader)return!1;if(d(m,y)||p(m,y))return!0;if(m.route.shouldRevalidate){let A=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((k=n[0])==null?void 0:k.params)||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function DT(i,e,{includeHydrateFallback:n}={}){return OT(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function OT(i){return[...new Set(i)]}function MT(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function LT(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(MT(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function Mw(){let i=z.useContext(wo);return sm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function jT(){let i=z.useContext(Uh);return sm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var am=z.createContext(void 0);am.displayName="FrameworkContext";function Lw(){let i=z.useContext(am);return sm(i,"You must render this element inside a <HydratedRouter> element"),i}function UT(i,e){let n=z.useContext(am),[s,o]=z.useState(!1),[u,d]=z.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:y,onMouseLeave:k,onTouchStart:E}=e,A=z.useRef(null);z.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let K=ne=>{ne.forEach(re=>{d(re.isIntersecting)})},G=new IntersectionObserver(K,{threshold:.5});return A.current&&G.observe(A.current),()=>{G.disconnect()}}},[i]),z.useEffect(()=>{if(s){let K=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(K)}}},[s]);let $=()=>{o(!0)},F=()=>{o(!1),d(!1)};return n?i!=="intent"?[u,A,{}]:[u,A,{onFocus:Dl(p,$),onBlur:Dl(m,F),onMouseEnter:Dl(y,$),onMouseLeave:Dl(k,F),onTouchStart:Dl(E,$)}]:[!1,A,{}]}function Dl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function VT({page:i,...e}){let{router:n}=Mw(),s=z.useMemo(()=>ww(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?z.createElement(FT,{page:i,matches:s,...e}):null}function zT(i){let{manifest:e,routeModules:n}=Lw(),[s,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return PT(i,e,n).then(d=>{u||o(d)}),()=>{u=!0}},[i,e,n]),s}function FT({page:i,matches:e,...n}){let s=ar(),{future:o,manifest:u,routeModules:d}=Lw(),{basename:p}=Mw(),{loaderData:m,matches:y}=jT(),k=z.useMemo(()=>Vb(i,e,y,u,s,"data"),[i,e,y,u,s]),E=z.useMemo(()=>Vb(i,e,y,u,s,"assets"),[i,e,y,u,s]),A=z.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let K=new Set,G=!1;if(e.forEach(re=>{var W;let le=u.routes[re.route.id];!le||!le.hasLoader||(!k.some(we=>we.route.id===re.route.id)&&re.route.id in m&&(W=d[re.route.id])!=null&&W.shouldRevalidate||le.hasClientLoader?G=!0:K.add(re.route.id))}),K.size===0)return[];let ne=IT(i,p,o.unstable_trailingSlashAwareDataRequests,"data");return G&&K.size>0&&ne.searchParams.set("_routes",e.filter(re=>K.has(re.route.id)).map(re=>re.route.id).join(",")),[ne.pathname+ne.search]},[p,o.unstable_trailingSlashAwareDataRequests,m,s,u,k,e,i,d]),$=z.useMemo(()=>DT(E,u),[E,u]),F=zT(E);return z.createElement(z.Fragment,null,A.map(K=>z.createElement("link",{key:K,rel:"prefetch",as:"fetch",href:K,...n})),$.map(K=>z.createElement("link",{key:K,rel:"modulepreload",href:K,...n})),F.map(({key:K,link:G})=>z.createElement("link",{key:K,nonce:n.nonce,...G,crossOrigin:G.crossOrigin??n.crossOrigin})))}function BT(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var $T=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$T&&(window.__reactRouterVersion="7.13.0")}catch{}function qT({basename:i,children:e,unstable_useTransitions:n,window:s}){let o=z.useRef();o.current==null&&(o.current=xx({window:s,v5Compat:!0}));let u=o.current,[d,p]=z.useState({action:u.action,location:u.location}),m=z.useCallback(y=>{n===!1?p(y):z.startTransition(()=>p(y))},[n]);return z.useLayoutEffect(()=>u.listen(m),[u,m]),z.createElement(bT,{basename:i,children:e,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:n})}var jw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Uw=z.forwardRef(function({onClick:i,discover:e="render",prefetch:n="none",relative:s,reloadDocument:o,replace:u,state:d,target:p,to:m,preventScrollReset:y,viewTransition:k,unstable_defaultShouldRevalidate:E,...A},$){let{basename:F,unstable_useTransitions:K}=z.useContext(Fn),G=typeof m=="string"&&jw.test(m),ne=_w(m,F);m=ne.to;let re=rT(m,{relative:s}),[W,le,we]=UT(n,A),ie=GT(m,{replace:u,state:d,target:p,preventScrollReset:y,relative:s,viewTransition:k,unstable_defaultShouldRevalidate:E,unstable_useTransitions:K});function _(C){i&&i(C),C.defaultPrevented||ie(C)}let S=z.createElement("a",{...A,...we,href:ne.absoluteURL||re,onClick:ne.isExternal||o?i:_,ref:BT($,le),target:p,"data-discover":!G&&e==="render"?"true":void 0});return W&&!G?z.createElement(z.Fragment,null,S,z.createElement(VT,{page:re})):S});Uw.displayName="Link";var HT=z.forwardRef(function({"aria-current":i="page",caseSensitive:e=!1,className:n="",end:s=!1,style:o,to:u,viewTransition:d,children:p,...m},y){let k=lu(u,{relative:m.relative}),E=ar(),A=z.useContext(Uh),{navigator:$,basename:F}=z.useContext(Fn),K=A!=null&&ZT(k)&&d===!0,G=$.encodeLocation?$.encodeLocation(k).pathname:k.pathname,ne=E.pathname,re=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;e||(ne=ne.toLowerCase(),re=re?re.toLowerCase():null,G=G.toLowerCase()),re&&F&&(re=ci(re,F)||re);const W=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let le=ne===G||!s&&ne.startsWith(G)&&ne.charAt(W)==="/",we=re!=null&&(re===G||!s&&re.startsWith(G)&&re.charAt(G.length)==="/"),ie={isActive:le,isPending:we,isTransitioning:K},_=le?i:void 0,S;typeof n=="function"?S=n(ie):S=[n,le?"active":null,we?"pending":null,K?"transitioning":null].filter(Boolean).join(" ");let C=typeof o=="function"?o(ie):o;return z.createElement(Uw,{...m,"aria-current":_,className:S,ref:y,style:C,to:u,viewTransition:d},typeof p=="function"?p(ie):p)});HT.displayName="NavLink";var WT=z.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:d=ih,action:p,onSubmit:m,relative:y,preventScrollReset:k,viewTransition:E,unstable_defaultShouldRevalidate:A,...$},F)=>{let{unstable_useTransitions:K}=z.useContext(Fn),G=XT(),ne=YT(p,{relative:y}),re=d.toLowerCase()==="get"?"get":"post",W=typeof p=="string"&&jw.test(p),le=we=>{if(m&&m(we),we.defaultPrevented)return;we.preventDefault();let ie=we.nativeEvent.submitter,_=(ie==null?void 0:ie.getAttribute("formmethod"))||d,S=()=>G(ie||we.currentTarget,{fetcherKey:e,method:_,navigate:n,replace:o,state:u,relative:y,preventScrollReset:k,viewTransition:E,unstable_defaultShouldRevalidate:A});K&&n!==!1?z.startTransition(()=>S()):S()};return z.createElement("form",{ref:F,method:re,action:ne,onSubmit:s?m:le,...$,"data-discover":!W&&i==="render"?"true":void 0})});WT.displayName="Form";function KT(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vw(i){let e=z.useContext(wo);return ut(e,KT(i)),e}function GT(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:p,unstable_useTransitions:m}={}){let y=ou(),k=ar(),E=lu(i,{relative:u});return z.useCallback(A=>{if(ST(A,e)){A.preventDefault();let $=n!==void 0?n:Gl(k)===Gl(E),F=()=>y(i,{replace:$,state:s,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:p});m?z.startTransition(()=>F()):F()}},[k,y,E,n,s,e,i,o,u,d,p,m])}var QT=0,JT=()=>`__${String(++QT)}__`;function XT(){let{router:i}=Vw("useSubmit"),{basename:e}=z.useContext(Fn),n=mT(),s=i.fetch,o=i.navigate;return z.useCallback(async(u,d={})=>{let{action:p,method:m,encType:y,formData:k,body:E}=NT(u,e);if(d.navigate===!1){let A=d.fetcherKey||JT();await s(A,n,d.action||p,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:k,body:E,formMethod:d.method||m,formEncType:d.encType||y,flushSync:d.flushSync})}else await o(d.action||p,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:k,body:E,formMethod:d.method||m,formEncType:d.encType||y,replace:d.replace,state:d.state,fromRouteId:n,flushSync:d.flushSync,viewTransition:d.viewTransition})},[s,o,e,n])}function YT(i,{relative:e}={}){let{basename:n}=z.useContext(Fn),s=z.useContext(Vr);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...lu(i||".",{relative:e})},d=ar();if(i==null){u.search=d.search;let p=new URLSearchParams(u.search),m=p.getAll("index");if(m.some(y=>y==="")){p.delete("index"),m.filter(k=>k).forEach(k=>p.append("index",k));let y=p.toString();u.search=y?`?${y}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ui([n,u.pathname])),Gl(u)}function ZT(i,{relative:e}={}){let n=z.useContext(Nw);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Vw("useViewTransitionState"),o=lu(i,{relative:e});if(!n.isTransitioning)return!1;let u=ci(n.currentLocation.pathname,s)||n.currentLocation.pathname,d=ci(n.nextLocation.pathname,s)||n.nextLocation.pathname;return yh(o.pathname,d)!=null||yh(o.pathname,u)!=null}/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const eS=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tS=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),zb=i=>{const e=tS(i);return e.charAt(0).toUpperCase()+e.slice(1)},zw=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),nS=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/var rS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const iS=z.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:d,...p},m)=>z.createElement("svg",{ref:m,...rS,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:zw("lucide",o),...!u&&!nS(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,k])=>z.createElement(y,k)),...Array.isArray(u)?u:[u]]));/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Ie=(i,e)=>{const n=z.forwardRef(({className:s,...o},u)=>z.createElement(iS,{ref:u,iconNode:e,className:zw(`lucide-${eS(zb(i))}`,`lucide-${i}`,s),...o}));return n.displayName=zb(i),n};/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const sS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],aS=Ie("arrow-left",sS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const oS=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],lS=Ie("brain-circuit",oS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const uS=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],cS=Ie("building-2",uS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const hS=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],dS=Ie("calculator",hS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const fS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],pS=Ie("calendar",fS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const mS=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Fw=Ie("camera",mS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const gS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],yS=Ie("chevron-left",gS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const vS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],bS=Ie("chevron-right",vS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const wS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],kS=Ie("circle-check",wS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ES=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],xS=Ie("clipboard-list",ES);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const TS=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],SS=Ie("coins",TS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const _S=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],CS=Ie("facebook",_S);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const NS=[["path",{d:"m18.226 5.226-2.52-2.52A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-.351",key:"1k2beg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]],IS=Ie("file-pen-line",NS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const AS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],RS=Ie("file-text",AS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const PS=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],Bw=Ie("hammer",PS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const DS=[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]],$w=Ie("hard-hat",DS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const OS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],MS=Ie("image",OS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const LS=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],jS=Ie("instagram",LS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const US=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],VS=Ie("layers",US);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const zS=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],FS=Ie("linkedin",zS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const BS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],$S=Ie("mail",BS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const qS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],HS=Ie("map-pin",qS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const WS=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],KS=Ie("menu",WS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const GS=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],QS=Ie("monitor",GS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const JS=[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]],Fb=Ie("notebook-pen",JS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const XS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],qw=Ie("panels-top-left",XS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const YS=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Hw=Ie("pen-tool",YS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ZS=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],e_=Ie("phone",ZS);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const t_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ww=Ie("plus",t_);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const n_=[["path",{d:"m13 13.5 2-2.5-2-2.5",key:"1rvxrh"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}],["path",{d:"M9 8.5 7 11l2 2.5",key:"6ffwbx"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],r_=Ie("search-code",n_);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const i_=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],s_=Ie("search",i_);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const a_=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],o_=Ie("send",a_);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const l_=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],u_=Ie("settings",l_);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const c_=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],h_=Ie("share-2",c_);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const d_=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],f_=Ie("trash-2",d_);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const p_=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],m_=Ie("upload",p_);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const g_=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],y_=Ie("x",g_);/**
* @license lucide-react v0.562.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const v_=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Kw=Ie("zap",v_),b_=({navItems:i})=>{const[e,n]=z.useState(!1),s=ar(),o=ou();z.useEffect(()=>{const k=()=>n(window.scrollY>50);return window.addEventListener("scroll",k),()=>window.removeEventListener("scroll",k)},[]);const u=["/","/handbook","/contact"].includes(s.pathname)||s.pathname.startsWith("/project/"),d=u?e?"bg-white shadow-sm py-3":"bg-transparent py-6":"bg-white shadow-sm py-3",p=!u||e?"text-gray-800":"text-white",m=!u||e?"":"brightness-0 invert",y=(k,E)=>{var A;k.preventDefault(),E.label==="D N"?s.pathname!=="/"?o("/",{state:{scrollTo:"projects"}}):(A=document.getElementById("projects"))==null||A.scrollIntoView({behavior:"smooth"}):E.view&&E.view!=="home"?o(`/${E.view}`):E.view==="home"&&s.pathname!=="/"&&o("/")};return w.jsx("header",{className:`fixed w-full z-40 transition-all duration-300 ${d}`,children:w.jsxs("div",{className:"container mx-auto px-6 flex justify-between items-center",children:[w.jsx("div",{className:"flex items-center cursor-pointer",onClick:()=>o("/"),children:w.jsx("img",{src:"https://lh3.googleusercontent.com/d/18wUo0JZ3MWDLKqjRqFsS6PB5jDbZYNsA",className:`h-12 ${m}`,alt:"N&M Studio Logo"})}),w.jsxs("nav",{className:"hidden lg:flex gap-8 items-center",children:[(i||[]).map((k,E)=>w.jsx("a",{href:k.href,onClick:A=>y(A,k),className:`text-[11px] font-bold uppercase tracking-widest hover:text-brand-primary transition-colors ${p}`,children:k.label},E)),w.jsx("a",{href:"yeu-cau-thiet-ke.html",target:"_blank",className:`text-[10px] font-bold uppercase tracking-widest px-5 py-2.5 border-2 border-brand-primary hover:bg-brand-primary hover:text-white transition-all ${p}`,children:"Gi yu cu TK n N&M"})]}),w.jsx("button",{className:`lg:hidden ${p}`,children:w.jsx(KS,{})})]})})},w_=()=>{const i=ou(),e=ar(),n=o=>{var u;o.preventDefault(),e.pathname!=="/"?i("/",{state:{scrollTo:"projects"}}):(u=document.getElementById("projects"))==null||u.scrollIntoView({behavior:"smooth"})},s=(o,u)=>{o.preventDefault(),i(u),window.scrollTo(0,0)};return w.jsxs("footer",{className:"bg-[#705d3f] text-white pt-24 pb-12",children:[w.jsxs("div",{className:"container mx-auto px-6 grid lg:grid-cols-3 gap-16 md:gap-24",children:[w.jsxs("div",{className:"space-y-10",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("img",{src:"https://lh3.googleusercontent.com/d/18wUo0JZ3MWDLKqjRqFsS6PB5jDbZYNsA",className:"h-10 brightness-0 invert",alt:"Logo"}),w.jsx("div",{className:"text-sm font-heading font-bold tracking-[0.2em] uppercase",children:"N&M Studio"})]}),w.jsx("p",{className:"text-xs text-white/80 leading-relaxed font-light uppercase tracking-widest max-w-sm",children:"NM Studio cung cp gii php khng gian ton din, t thit k, din ho n thi cng v ng dng AI, c trin khai ng b v ph hp vi nhu cu thc t."}),w.jsxs("div",{className:"flex gap-4",children:[w.jsx("a",{href:"#",className:"w-10 h-10 rounded-full border border-white/20 flex items-center justify-center hover:bg-white hover:text-[#705d3f] transition-all",children:w.jsx(CS,{className:"w-4 h-4"})}),w.jsx("a",{href:"#",className:"w-10 h-10 rounded-full border border-white/20 flex items-center justify-center hover:bg-white hover:text-[#705d3f] transition-all",children:w.jsx(jS,{className:"w-4 h-4"})}),w.jsx("a",{href:"#",className:"w-10 h-10 rounded-full border border-white/20 flex items-center justify-center hover:bg-white hover:text-[#705d3f] transition-all",children:w.jsx(FS,{className:"w-4 h-4"})})]})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"text-xs font-bold uppercase tracking-[0.3em] mb-12 w-fit pb-3",children:"LIN KT NHANH"}),w.jsxs("ul",{className:"grid grid-cols-1 gap-6 text-[11px] text-white/80 font-bold tracking-[0.2em] uppercase",children:[w.jsx("li",{children:w.jsx("a",{href:"#",onClick:o=>s(o,"/about"),className:"hover:text-white transition-colors",children:"V CHNG TI"})}),w.jsx("li",{children:w.jsx("a",{href:"#",onClick:o=>s(o,"/services"),className:"hover:text-white transition-colors",children:"DCH V"})}),w.jsx("li",{children:w.jsx("a",{href:"#projects",onClick:n,className:"hover:text-white transition-colors",children:"D N"})}),w.jsx("li",{children:w.jsx("a",{href:"#",onClick:o=>s(o,"/handbook"),className:"hover:text-white transition-colors",children:"CM NANG"})}),w.jsx("li",{children:w.jsx("a",{href:"#",onClick:o=>s(o,"/contact"),className:"hover:text-white transition-colors",children:"LIN H"})}),w.jsx("li",{children:w.jsx("a",{href:"yeu-cau-thiet-ke.html",target:"_blank",className:"text-brand-primary hover:text-white transition-colors",children:"GI YU CU THIT K"})})]})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"text-xs font-bold uppercase tracking-[0.3em] mb-12 w-fit pb-3",children:"THNG TIN LIN H"}),w.jsxs("div",{className:"space-y-8 text-[11px] text-white/80 font-medium tracking-widest leading-loose",children:[w.jsxs("a",{href:"#",className:"flex gap-5 hover:text-white transition-colors group uppercase",children:[w.jsx(HS,{className:"w-5 h-5 shrink-0 transition-transform group-hover:scale-110"}),w.jsx("span",{children:"s 10 ng 142 Ho Nam, ng a, H Ni"})]}),w.jsxs("a",{href:"#",className:"flex gap-5 hover:text-white transition-colors group uppercase",children:[w.jsx(e_,{className:"w-5 h-5 shrink-0 transition-transform group-hover:scale-110"}),w.jsx("span",{children:"hot line: 0985578385"})]}),w.jsxs("a",{href:"mailto:nghiavu2011@gmail.com",className:"flex gap-5 hover:text-white transition-colors group",children:[w.jsx($S,{className:"w-5 h-5 shrink-0 transition-transform group-hover:scale-110"}),w.jsx("span",{className:"uppercase",children:"nghiavu2011@gmail.com"})]})]})]})]}),w.jsx("div",{className:"container mx-auto px-6 mt-20 pt-8 text-center text-[10px] text-white/50 uppercase tracking-[0.4em]",children:" 2024 N&M Studio. All rights reserved. Excellence in Every Design."})]})},k_=()=>{};var Bb={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Gw=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},E_=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],d=i[n++],p=i[n++],m=((o&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=i[n++],d=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},Qw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],d=o+1<i.length,p=d?i[o+1]:0,m=o+2<i.length,y=m?i[o+2]:0,k=u>>2,E=(u&3)<<4|p>>4;let A=(p&15)<<2|y>>6,$=y&63;m||($=64,d||(A=64)),s.push(n[k],n[E],n[A],n[$])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Gw(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):E_(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],d=o<i.length?n[i.charAt(o)]:0;++o;const p=o<i.length?n[i.charAt(o)]:64;++o;const m=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||d==null||p==null||m==null)throw new x_;const y=u<<2|d>>4;if(s.push(y),p!==64){const k=d<<4&240|p>>2;if(s.push(k),m!==64){const E=p<<6&192|m;s.push(E)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class x_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const T_=function(i){const e=Gw(i);return Qw.encodeByteArray(e,!0)},vh=function(i){return T_(i).replace(/\./g,"")},Jw=function(i){try{return Qw.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function S_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const __=()=>S_().__FIREBASE_DEFAULTS__,C_=()=>{if(typeof process>"u"||typeof Bb>"u")return;const i=Bb.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},N_=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Jw(i[1]);return e&&JSON.parse(e)},zh=()=>{try{return k_()||__()||C_()||N_()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Xw=i=>{var e,n;return(n=(e=zh())==null?void 0:e.emulatorHosts)==null?void 0:n[i]},Yw=i=>{const e=Xw(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Zw=()=>{var i;return(i=zh())==null?void 0:i.config},e1=i=>{var e;return(e=zh())==null?void 0:e[`_${i}`]};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class I_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ms(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function om(i){return(await fetch(i,{credentials:"include"})).ok}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function t1(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[vh(JSON.stringify(n)),vh(JSON.stringify(d)),""].join(".")}const Fl={};function A_(){const i={prod:[],emulator:[]};for(const e of Object.keys(Fl))Fl[e]?i.emulator.push(e):i.prod.push(e);return i}function R_(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let $b=!1;function lm(i,e){if(typeof window>"u"||typeof document>"u"||!ms(window.location.host)||Fl[i]===e||Fl[i]||$b)return;Fl[i]=e;function n(E){return`__firebase__banner__${E}`}const s="__firebase__banner",o=A_().prod.length>0;function u(){const E=document.getElementById(s);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{$b=!0,u()},E}function y(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function k(){const E=R_(s),A=n("text"),$=document.getElementById(A)||document.createElement("span"),F=n("learnmore"),K=document.getElementById(F)||document.createElement("a"),G=n("preprendIcon"),ne=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const re=E.element;d(re),y(K,F);const W=m();p(ne,G),re.append(ne,$,K,W),document.body.appendChild(re)}o?($.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",k):k()}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function P_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function D_(){var i;const e=(i=zh())==null?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function O_(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function M_(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function L_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function j_(){const i=nn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function U_(){return!D_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function V_(){try{return typeof indexedDB=="object"}catch{return!1}}function z_(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const F_="FirebaseError";class zr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=F_,Object.setPrototypeOf(this,zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uu.prototype.create)}}class uu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?B_(u,s):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new zr(o,p,s)}}function B_(i,e){return i.replace($_,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const $_=/\{\$([^}]+)}/g;function q_(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Xs(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],d=e[o];if(qb(u)&&qb(d)){if(!Xs(u,d))return!1}else if(u!==d)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function qb(i){return i!==null&&typeof i=="object"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function cu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ll(i){const e={};return i.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,o]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function jl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function H_(i,e){const n=new W_(i,e);return n.subscribe.bind(n)}class W_{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");K_(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=hp),o.error===void 0&&(o.error=hp),o.complete===void 0&&(o.complete=hp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function K_(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function hp(){}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Jt(i){return i&&i._delegate?i._delegate:i}class ls{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Gs="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class G_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new I_;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(J_(e))try{this.getOrInitializeService({instanceIdentifier:Gs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gs){return this.instances.has(e)}getOptions(e=Gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&d.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Q_(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Gs){return this.component?this.component.multipleInstances?e:Gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Q_(i){return i===Gs?void 0:i}function J_(i){return i.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class X_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new G_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Oe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Oe||(Oe={}));const Y_={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},Z_=Oe.INFO,eC={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},tC=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=eC[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class um{constructor(e){this.name=e,this._logLevel=Z_,this._logHandler=tC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Y_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const nC=(i,e)=>e.some(n=>i instanceof n);let Hb,Wb;function rC(){return Hb||(Hb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iC(){return Wb||(Wb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const n1=new WeakMap,Ip=new WeakMap,r1=new WeakMap,dp=new WeakMap,cm=new WeakMap;function sC(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",d)},u=()=>{n(ns(i.result)),o()},d=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&n1.set(n,i)}).catch(()=>{}),cm.set(e,i),e}function aC(i){if(Ip.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",d),i.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",d),i.addEventListener("abort",d)});Ip.set(i,e)}let Ap={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Ip.get(i);if(e==="objectStoreNames")return i.objectStoreNames||r1.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ns(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function oC(i){Ap=i(Ap)}function lC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(fp(this),e,...n);return r1.set(s,e.sort?e.sort():[e]),ns(s)}:iC().includes(i)?function(...e){return i.apply(fp(this),e),ns(n1.get(this))}:function(...e){return ns(i.apply(fp(this),e))}}function uC(i){return typeof i=="function"?lC(i):(i instanceof IDBTransaction&&aC(i),nC(i,rC())?new Proxy(i,Ap):i)}function ns(i){if(i instanceof IDBRequest)return sC(i);if(dp.has(i))return dp.get(i);const e=uC(i);return e!==i&&(dp.set(i,e),cm.set(e,i)),e}const fp=i=>cm.get(i);function cC(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const d=indexedDB.open(i,e),p=ns(d);return s&&d.addEventListener("upgradeneeded",m=>{s(ns(d.result),m.oldVersion,m.newVersion,ns(d.transaction),m)}),n&&d.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),p.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const hC=["get","getKey","getAll","getAllKeys","count"],dC=["put","add","delete","clear"],pp=new Map;function Kb(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(pp.get(e))return pp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=dC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||hC.includes(n)))return;const u=async function(d,...p){const m=this.transaction(d,o?"readwrite":"readonly");let y=m.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&m.done]))[0]};return pp.set(e,u),u}oC(i=>({...i,get:(e,n,s)=>Kb(e,n)||i.get(e,n,s),has:(e,n)=>!!Kb(e,n)||i.has(e,n)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(pC(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function pC(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rp="@firebase/app",Gb="0.14.7";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const hi=new um("@firebase/app"),mC="@firebase/app-compat",gC="@firebase/analytics-compat",yC="@firebase/analytics",vC="@firebase/app-check-compat",bC="@firebase/app-check",wC="@firebase/auth",kC="@firebase/auth-compat",EC="@firebase/database",xC="@firebase/data-connect",TC="@firebase/database-compat",SC="@firebase/functions",_C="@firebase/functions-compat",CC="@firebase/installations",NC="@firebase/installations-compat",IC="@firebase/messaging",AC="@firebase/messaging-compat",RC="@firebase/performance",PC="@firebase/performance-compat",DC="@firebase/remote-config",OC="@firebase/remote-config-compat",MC="@firebase/storage",LC="@firebase/storage-compat",jC="@firebase/firestore",UC="@firebase/ai",VC="@firebase/firestore-compat",zC="firebase",FC="12.8.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Pp="[DEFAULT]",BC={[Rp]:"fire-core",[mC]:"fire-core-compat",[yC]:"fire-analytics",[gC]:"fire-analytics-compat",[bC]:"fire-app-check",[vC]:"fire-app-check-compat",[wC]:"fire-auth",[kC]:"fire-auth-compat",[EC]:"fire-rtdb",[xC]:"fire-data-connect",[TC]:"fire-rtdb-compat",[SC]:"fire-fn",[_C]:"fire-fn-compat",[CC]:"fire-iid",[NC]:"fire-iid-compat",[IC]:"fire-fcm",[AC]:"fire-fcm-compat",[RC]:"fire-perf",[PC]:"fire-perf-compat",[DC]:"fire-rc",[OC]:"fire-rc-compat",[MC]:"fire-gcs",[LC]:"fire-gcs-compat",[jC]:"fire-fst",[VC]:"fire-fst-compat",[UC]:"fire-vertex","fire-js":"fire-js",[zC]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const bh=new Map,$C=new Map,Dp=new Map;function Qb(i,e){try{i.container.addComponent(e)}catch(n){hi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Ys(i){const e=i.name;if(Dp.has(e))return hi.debug(`There were multiple attempts to register component ${e}.`),!1;Dp.set(e,i);for(const n of bh.values())Qb(n,i);for(const n of $C.values())Qb(n,i);return!0}function Fh(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Un(i){return i==null?!1:i.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const qC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new uu("app","Firebase",qC);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class HC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ia=FC;function i1(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Pp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw rs.create("bad-app-name",{appName:String(o)});if(n||(n=Zw()),!n)throw rs.create("no-options");const u=bh.get(o);if(u){if(Xs(n,u.options)&&Xs(s,u.config))return u;throw rs.create("duplicate-app",{appName:o})}const d=new X_(o);for(const m of Dp.values())d.addComponent(m);const p=new HC(n,s,d);return bh.set(o,p),p}function hm(i=Pp){const e=bh.get(i);if(!e&&i===Pp&&Zw())return i1();if(!e)throw rs.create("no-app",{appName:i});return e}function Ar(i,e,n){let s=BC[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hi.warn(d.join(" "));return}Ys(new ls(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const WC="firebase-heartbeat-database",KC=1,Ql="firebase-heartbeat-store";let mp=null;function s1(){return mp||(mp=cC(WC,KC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Ql)}catch(n){console.warn(n)}}}}).catch(i=>{throw rs.create("idb-open",{originalErrorMessage:i.message})})),mp}async function GC(i){try{const e=(await s1()).transaction(Ql),n=await e.objectStore(Ql).get(a1(i));return await e.done,n}catch(e){if(e instanceof zr)hi.warn(e.message);else{const n=rs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hi.warn(n.message)}}}async function Jb(i,e){try{const n=(await s1()).transaction(Ql,"readwrite");await n.objectStore(Ql).put(e,a1(i)),await n.done}catch(n){if(n instanceof zr)hi.warn(n.message);else{const s=rs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hi.warn(s.message)}}}function a1(i){return`${i.name}!${i.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const QC=1024,JC=30;class XC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ZC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Xb();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>JC){const u=eN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){hi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Xb(),{heartbeatsToSend:s,unsentEntries:o}=YC(this._heartbeatsCache.heartbeats),u=vh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return hi.warn(n),""}}}function Xb(){return new Date().toISOString().substring(0,10)}function YC(i,e=QC){const n=[];let s=i.slice();for(const o of i){const u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),Yb(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Yb(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class ZC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return V_()?z_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await GC(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return Jb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return Jb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function Yb(i){return vh(JSON.stringify({version:2,heartbeats:i})).length}function eN(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function tN(i){Ys(new ls("platform-logger",e=>new fC(e),"PRIVATE")),Ys(new ls("heartbeat",e=>new XC(e),"PRIVATE")),Ar(Rp,Gb,i),Ar(Rp,Gb,"esm2020"),Ar("fire-js","")}tN("");var Zb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var is,o1;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,S){function C(){}C.prototype=S.prototype,_.F=S.prototype,_.prototype=new C,_.prototype.constructor=_,_.D=function(O,R,L){for(var N=Array(arguments.length-2),st=2;st<arguments.length;st++)N[st-2]=arguments[st];return S.prototype[R].apply(O,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(_,S,C){C||(C=0);const O=Array(16);if(typeof S=="string")for(var R=0;R<16;++R)O[R]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(R=0;R<16;++R)O[R]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=_.g[0],C=_.g[1],R=_.g[2];let L=_.g[3],N;N=S+(L^C&(R^L))+O[0]+3614090360&4294967295,S=C+(N<<7&4294967295|N>>>25),N=L+(R^S&(C^R))+O[1]+3905402710&4294967295,L=S+(N<<12&4294967295|N>>>20),N=R+(C^L&(S^C))+O[2]+606105819&4294967295,R=L+(N<<17&4294967295|N>>>15),N=C+(S^R&(L^S))+O[3]+3250441966&4294967295,C=R+(N<<22&4294967295|N>>>10),N=S+(L^C&(R^L))+O[4]+4118548399&4294967295,S=C+(N<<7&4294967295|N>>>25),N=L+(R^S&(C^R))+O[5]+1200080426&4294967295,L=S+(N<<12&4294967295|N>>>20),N=R+(C^L&(S^C))+O[6]+2821735955&4294967295,R=L+(N<<17&4294967295|N>>>15),N=C+(S^R&(L^S))+O[7]+4249261313&4294967295,C=R+(N<<22&4294967295|N>>>10),N=S+(L^C&(R^L))+O[8]+1770035416&4294967295,S=C+(N<<7&4294967295|N>>>25),N=L+(R^S&(C^R))+O[9]+2336552879&4294967295,L=S+(N<<12&4294967295|N>>>20),N=R+(C^L&(S^C))+O[10]+4294925233&4294967295,R=L+(N<<17&4294967295|N>>>15),N=C+(S^R&(L^S))+O[11]+2304563134&4294967295,C=R+(N<<22&4294967295|N>>>10),N=S+(L^C&(R^L))+O[12]+1804603682&4294967295,S=C+(N<<7&4294967295|N>>>25),N=L+(R^S&(C^R))+O[13]+4254626195&4294967295,L=S+(N<<12&4294967295|N>>>20),N=R+(C^L&(S^C))+O[14]+2792965006&4294967295,R=L+(N<<17&4294967295|N>>>15),N=C+(S^R&(L^S))+O[15]+1236535329&4294967295,C=R+(N<<22&4294967295|N>>>10),N=S+(R^L&(C^R))+O[1]+4129170786&4294967295,S=C+(N<<5&4294967295|N>>>27),N=L+(C^R&(S^C))+O[6]+3225465664&4294967295,L=S+(N<<9&4294967295|N>>>23),N=R+(S^C&(L^S))+O[11]+643717713&4294967295,R=L+(N<<14&4294967295|N>>>18),N=C+(L^S&(R^L))+O[0]+3921069994&4294967295,C=R+(N<<20&4294967295|N>>>12),N=S+(R^L&(C^R))+O[5]+3593408605&4294967295,S=C+(N<<5&4294967295|N>>>27),N=L+(C^R&(S^C))+O[10]+38016083&4294967295,L=S+(N<<9&4294967295|N>>>23),N=R+(S^C&(L^S))+O[15]+3634488961&4294967295,R=L+(N<<14&4294967295|N>>>18),N=C+(L^S&(R^L))+O[4]+3889429448&4294967295,C=R+(N<<20&4294967295|N>>>12),N=S+(R^L&(C^R))+O[9]+568446438&4294967295,S=C+(N<<5&4294967295|N>>>27),N=L+(C^R&(S^C))+O[14]+3275163606&4294967295,L=S+(N<<9&4294967295|N>>>23),N=R+(S^C&(L^S))+O[3]+4107603335&4294967295,R=L+(N<<14&4294967295|N>>>18),N=C+(L^S&(R^L))+O[8]+1163531501&4294967295,C=R+(N<<20&4294967295|N>>>12),N=S+(R^L&(C^R))+O[13]+2850285829&4294967295,S=C+(N<<5&4294967295|N>>>27),N=L+(C^R&(S^C))+O[2]+4243563512&4294967295,L=S+(N<<9&4294967295|N>>>23),N=R+(S^C&(L^S))+O[7]+1735328473&4294967295,R=L+(N<<14&4294967295|N>>>18),N=C+(L^S&(R^L))+O[12]+2368359562&4294967295,C=R+(N<<20&4294967295|N>>>12),N=S+(C^R^L)+O[5]+4294588738&4294967295,S=C+(N<<4&4294967295|N>>>28),N=L+(S^C^R)+O[8]+2272392833&4294967295,L=S+(N<<11&4294967295|N>>>21),N=R+(L^S^C)+O[11]+1839030562&4294967295,R=L+(N<<16&4294967295|N>>>16),N=C+(R^L^S)+O[14]+4259657740&4294967295,C=R+(N<<23&4294967295|N>>>9),N=S+(C^R^L)+O[1]+2763975236&4294967295,S=C+(N<<4&4294967295|N>>>28),N=L+(S^C^R)+O[4]+1272893353&4294967295,L=S+(N<<11&4294967295|N>>>21),N=R+(L^S^C)+O[7]+4139469664&4294967295,R=L+(N<<16&4294967295|N>>>16),N=C+(R^L^S)+O[10]+3200236656&4294967295,C=R+(N<<23&4294967295|N>>>9),N=S+(C^R^L)+O[13]+681279174&4294967295,S=C+(N<<4&4294967295|N>>>28),N=L+(S^C^R)+O[0]+3936430074&4294967295,L=S+(N<<11&4294967295|N>>>21),N=R+(L^S^C)+O[3]+3572445317&4294967295,R=L+(N<<16&4294967295|N>>>16),N=C+(R^L^S)+O[6]+76029189&4294967295,C=R+(N<<23&4294967295|N>>>9),N=S+(C^R^L)+O[9]+3654602809&4294967295,S=C+(N<<4&4294967295|N>>>28),N=L+(S^C^R)+O[12]+3873151461&4294967295,L=S+(N<<11&4294967295|N>>>21),N=R+(L^S^C)+O[15]+530742520&4294967295,R=L+(N<<16&4294967295|N>>>16),N=C+(R^L^S)+O[2]+3299628645&4294967295,C=R+(N<<23&4294967295|N>>>9),N=S+(R^(C|~L))+O[0]+4096336452&4294967295,S=C+(N<<6&4294967295|N>>>26),N=L+(C^(S|~R))+O[7]+1126891415&4294967295,L=S+(N<<10&4294967295|N>>>22),N=R+(S^(L|~C))+O[14]+2878612391&4294967295,R=L+(N<<15&4294967295|N>>>17),N=C+(L^(R|~S))+O[5]+4237533241&4294967295,C=R+(N<<21&4294967295|N>>>11),N=S+(R^(C|~L))+O[12]+1700485571&4294967295,S=C+(N<<6&4294967295|N>>>26),N=L+(C^(S|~R))+O[3]+2399980690&4294967295,L=S+(N<<10&4294967295|N>>>22),N=R+(S^(L|~C))+O[10]+4293915773&4294967295,R=L+(N<<15&4294967295|N>>>17),N=C+(L^(R|~S))+O[1]+2240044497&4294967295,C=R+(N<<21&4294967295|N>>>11),N=S+(R^(C|~L))+O[8]+1873313359&4294967295,S=C+(N<<6&4294967295|N>>>26),N=L+(C^(S|~R))+O[15]+4264355552&4294967295,L=S+(N<<10&4294967295|N>>>22),N=R+(S^(L|~C))+O[6]+2734768916&4294967295,R=L+(N<<15&4294967295|N>>>17),N=C+(L^(R|~S))+O[13]+1309151649&4294967295,C=R+(N<<21&4294967295|N>>>11),N=S+(R^(C|~L))+O[4]+4149444226&4294967295,S=C+(N<<6&4294967295|N>>>26),N=L+(C^(S|~R))+O[11]+3174756917&4294967295,L=S+(N<<10&4294967295|N>>>22),N=R+(S^(L|~C))+O[2]+718787259&4294967295,R=L+(N<<15&4294967295|N>>>17),N=C+(L^(R|~S))+O[9]+3951481745&4294967295,_.g[0]=_.g[0]+S&4294967295,_.g[1]=_.g[1]+(R+(N<<21&4294967295|N>>>11))&4294967295,_.g[2]=_.g[2]+R&4294967295,_.g[3]=_.g[3]+L&4294967295}s.prototype.v=function(_,S){S===void 0&&(S=_.length);const C=S-this.blockSize,O=this.C;let R=this.h,L=0;for(;L<S;){if(R==0)for(;L<=C;)o(this,_,L),L+=this.blockSize;if(typeof _=="string"){for(;L<S;)if(O[R++]=_.charCodeAt(L++),R==this.blockSize){o(this,O),R=0;break}}else for(;L<S;)if(O[R++]=_[L++],R==this.blockSize){o(this,O),R=0;break}}this.h=R,this.o+=S},s.prototype.A=function(){var _=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);_[0]=128;for(var S=1;S<_.length-8;++S)_[S]=0;S=this.o*8;for(var C=_.length-8;C<_.length;++C)_[C]=S&255,S/=256;for(this.v(_),_=Array(16),S=0,C=0;C<4;++C)for(let O=0;O<32;O+=8)_[S++]=this.g[C]>>>O&255;return _};function u(_,S){var C=p;return Object.prototype.hasOwnProperty.call(C,_)?C[_]:C[_]=S(_)}function d(_,S){this.h=S;const C=[];let O=!0;for(let R=_.length-1;R>=0;R--){const L=_[R]|0;O&&L==S||(C[R]=L,O=!1)}this.g=C}var p={};function m(_){return-128<=_&&_<128?u(_,function(S){return new d([S|0],S<0?-1:0)}):new d([_|0],_<0?-1:0)}function y(_){if(isNaN(_)||!isFinite(_))return E;if(_<0)return G(y(-_));const S=[];let C=1;for(let O=0;_>=C;O++)S[O]=_/C|0,C*=4294967296;return new d(S,0)}function k(_,S){if(_.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(_.charAt(0)=="-")return G(k(_.substring(1),S));if(_.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(S,8));let O=E;for(let L=0;L<_.length;L+=8){var R=Math.min(8,_.length-L);const N=parseInt(_.substring(L,L+R),S);R<8?(R=y(Math.pow(S,R)),O=O.j(R).add(y(N))):(O=O.j(C),O=O.add(y(N)))}return O}var E=m(0),A=m(1),$=m(16777216);i=d.prototype,i.m=function(){if(K(this))return-G(this).m();let _=0,S=1;for(let C=0;C<this.g.length;C++){const O=this.i(C);_+=(O>=0?O:4294967296+O)*S,S*=4294967296}return _},i.toString=function(_){if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(F(this))return"0";if(K(this))return"-"+G(this).toString(_);const S=y(Math.pow(_,6));var C=this;let O="";for(;;){const R=le(C,S).g;C=ne(C,R.j(S));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(_);if(C=R,F(C))return L+O;for(;L.length<6;)L="0"+L;O=L+O}},i.i=function(_){return _<0?0:_<this.g.length?this.g[_]:this.h};function F(_){if(_.h!=0)return!1;for(let S=0;S<_.g.length;S++)if(_.g[S]!=0)return!1;return!0}function K(_){return _.h==-1}i.l=function(_){return _=ne(this,_),K(_)?-1:F(_)?0:1};function G(_){const S=_.g.length,C=[];for(let O=0;O<S;O++)C[O]=~_.g[O];return new d(C,~_.h).add(A)}i.abs=function(){return K(this)?G(this):this},i.add=function(_){const S=Math.max(this.g.length,_.g.length),C=[];let O=0;for(let R=0;R<=S;R++){let L=O+(this.i(R)&65535)+(_.i(R)&65535),N=(L>>>16)+(this.i(R)>>>16)+(_.i(R)>>>16);O=N>>>16,L&=65535,N&=65535,C[R]=N<<16|L}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ne(_,S){return _.add(G(S))}i.j=function(_){if(F(this)||F(_))return E;if(K(this))return K(_)?G(this).j(G(_)):G(G(this).j(_));if(K(_))return G(this.j(G(_)));if(this.l($)<0&&_.l($)<0)return y(this.m()*_.m());const S=this.g.length+_.g.length,C=[];for(var O=0;O<2*S;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(let R=0;R<_.g.length;R++){const L=this.i(O)>>>16,N=this.i(O)&65535,st=_.i(R)>>>16,Rt=_.i(R)&65535;C[2*O+2*R]+=N*Rt,re(C,2*O+2*R),C[2*O+2*R+1]+=L*Rt,re(C,2*O+2*R+1),C[2*O+2*R+1]+=N*st,re(C,2*O+2*R+1),C[2*O+2*R+2]+=L*st,re(C,2*O+2*R+2)}for(_=0;_<S;_++)C[_]=C[2*_+1]<<16|C[2*_];for(_=S;_<2*S;_++)C[_]=0;return new d(C,0)};function re(_,S){for(;(_[S]&65535)!=_[S];)_[S+1]+=_[S]>>>16,_[S]&=65535,S++}function W(_,S){this.g=_,this.h=S}function le(_,S){if(F(S))throw Error("division by zero");if(F(_))return new W(E,E);if(K(_))return S=le(G(_),S),new W(G(S.g),G(S.h));if(K(S))return S=le(_,G(S)),new W(G(S.g),S.h);if(_.g.length>30){if(K(_)||K(S))throw Error("slowDivide_ only works with positive integers.");for(var C=A,O=S;O.l(_)<=0;)C=we(C),O=we(O);var R=ie(C,1),L=ie(O,1);for(O=ie(O,2),C=ie(C,2);!F(O);){var N=L.add(O);N.l(_)<=0&&(R=R.add(C),L=N),O=ie(O,1),C=ie(C,1)}return S=ne(_,R.j(S)),new W(R,S)}for(R=E;_.l(S)>=0;){for(C=Math.max(1,Math.floor(_.m()/S.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),L=y(C),N=L.j(S);K(N)||N.l(_)>0;)C-=O,L=y(C),N=L.j(S);F(L)&&(L=A),R=R.add(L),_=ne(_,N)}return new W(R,_)}i.B=function(_){return le(this,_).h},i.and=function(_){const S=Math.max(this.g.length,_.g.length),C=[];for(let O=0;O<S;O++)C[O]=this.i(O)&_.i(O);return new d(C,this.h&_.h)},i.or=function(_){const S=Math.max(this.g.length,_.g.length),C=[];for(let O=0;O<S;O++)C[O]=this.i(O)|_.i(O);return new d(C,this.h|_.h)},i.xor=function(_){const S=Math.max(this.g.length,_.g.length),C=[];for(let O=0;O<S;O++)C[O]=this.i(O)^_.i(O);return new d(C,this.h^_.h)};function we(_){const S=_.g.length+1,C=[];for(let O=0;O<S;O++)C[O]=_.i(O)<<1|_.i(O-1)>>>31;return new d(C,_.h)}function ie(_,S){const C=S>>5;S%=32;const O=_.g.length-C,R=[];for(let L=0;L<O;L++)R[L]=S>0?_.i(L+C)>>>S|_.i(L+C+1)<<32-S:_.i(L+C);return new d(R,_.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,o1=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=k,is=d}).apply(typeof Zb<"u"?Zb:typeof self<"u"?self:typeof window<"u"?window:{});var Qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var l1,Ul,u1,ah,Op,c1,h1,d1;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qc=="object"&&Qc];for(var g=0;g<c.length;++g){var b=c[g];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var b=s;c=c.split(".");for(var T=0;T<c.length-1;T++){var j=c[T];if(!(j in b))break e;b=b[j]}c=c[c.length-1],T=b[c],g=g(T),g!=T&&g!=null&&e(b,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var b=[],T;for(T in g)Object.prototype.hasOwnProperty.call(g,T)&&b.push([T,g[T]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function m(c,g,b){return c.call.apply(c.bind,arguments)}function y(c,g,b){return y=m,y.apply(null,arguments)}function k(c,g){var b=Array.prototype.slice.call(arguments,1);return function(){var T=b.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function E(c,g){function b(){}b.prototype=g.prototype,c.Z=g.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(T,j,q){for(var se=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)se[Ce-2]=arguments[Ce];return g.prototype[j].apply(T,se)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function $(c){const g=c.length;if(g>0){const b=Array(g);for(let T=0;T<g;T++)b[T]=c[T];return b}return[]}function F(c,g){for(let T=1;T<arguments.length;T++){const j=arguments[T];var b=typeof j;if(b=b!="object"?b:j?Array.isArray(j)?"array":b:"null",b=="array"||b=="object"&&typeof j.length=="number"){b=c.length||0;const q=j.length||0;c.length=b+q;for(let se=0;se<q;se++)c[b+se]=j[se]}else c.push(j)}}class K{constructor(g,b){this.i=g,this.j=b,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function G(c){d.setTimeout(()=>{throw c},0)}function ne(){var c=_;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class re{constructor(){this.h=this.g=null}add(g,b){const T=W.get();T.set(g,b),this.h?this.h.next=T:this.g=T,this.h=T}}var W=new K(()=>new le,c=>c.reset());class le{constructor(){this.next=this.g=this.h=null}set(g,b){this.h=g,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let we,ie=!1,_=new re,S=()=>{const c=Promise.resolve(void 0);we=()=>{c.then(C)}};function C(){for(var c;c=ne();){try{c.h.call(c.g)}catch(b){G(b)}var g=W;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}ie=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};d.addEventListener("test",b,g),d.removeEventListener("test",b,g)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function st(c,g){R.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}E(st,R),st.prototype.init=function(c,g){const b=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(b=="mouseover"?g=c.fromElement:b=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Rt="closure_listenable_"+(Math.random()*1e6|0),J=0;function ae(c,g,b,T,j){this.listener=c,this.proxy=null,this.src=g,this.type=b,this.capture=!!T,this.ha=j,this.key=++J,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ze(c,g,b){for(const T in c)g.call(b,c[T],T,c)}function He(c,g){for(const b in c)g.call(void 0,c[b],b,c)}function D(c){const g={};for(const b in c)g[b]=c[b];return g}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,g){let b,T;for(let j=1;j<arguments.length;j++){T=arguments[j];for(b in T)c[b]=T[b];for(let q=0;q<Y.length;q++)b=Y[q],Object.prototype.hasOwnProperty.call(T,b)&&(c[b]=T[b])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,g,b,T,j){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const se=_e(c,g,T,j);return se>-1?(g=c[se],b||(g.fa=!1)):(g=new ae(g,this.src,q,!!T,j),g.fa=b,c.push(g)),g};function ke(c,g){const b=g.type;if(b in c.g){var T=c.g[b],j=Array.prototype.indexOf.call(T,g,void 0),q;(q=j>=0)&&Array.prototype.splice.call(T,j,1),q&&(me(g),c.g[b].length==0&&(delete c.g[b],c.h--))}}function _e(c,g,b,T){for(let j=0;j<c.length;++j){const q=c[j];if(!q.da&&q.listener==g&&q.capture==!!b&&q.ha==T)return j}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Pt={};function at(c,g,b,T,j){if(Array.isArray(g)){for(let q=0;q<g.length;q++)at(c,g[q],b,T,j);return null}return b=Io(b),c&&c[Rt]?c.J(g,b,p(T)?!!T.capture:!1,j):ys(c,g,b,!1,T,j)}function ys(c,g,b,T,j,q){if(!g)throw Error("Invalid event type");const se=p(j)?!!j.capture:!!j;let Ce=vs(c);if(Ce||(c[Ue]=Ce=new ce(c)),b=Ce.add(g,b,T,se,q),b.proxy)return b;if(T=ca(),b.proxy=T,T.src=c,T.listener=b,c.addEventListener)L||(j=se),j===void 0&&(j=!1),c.addEventListener(g.toString(),T,j);else if(c.attachEvent)c.attachEvent(or(g.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return b}function ca(){function c(b){return g.call(c.src,c.listener,b)}const g=Co;return c}function ha(c,g,b,T,j){if(Array.isArray(g))for(var q=0;q<g.length;q++)ha(c,g[q],b,T,j);else T=p(T)?!!T.capture:!!T,b=Io(b),c&&c[Rt]?(c=c.i,q=String(g).toString(),q in c.g&&(g=c.g[q],b=_e(g,b,T,j),b>-1&&(me(g[b]),Array.prototype.splice.call(g,b,1),g.length==0&&(delete c.g[q],c.h--)))):c&&(c=vs(c))&&(g=c.g[g.toString()],c=-1,g&&(c=_e(g,b,T,j)),(b=c>-1?g[c]:null)&&da(b))}function da(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Rt])ke(g.i,c);else{var b=c.type,T=c.proxy;g.removeEventListener?g.removeEventListener(b,T,c.capture):g.detachEvent?g.detachEvent(or(b),T):g.addListener&&g.removeListener&&g.removeListener(T),(b=vs(g))?(ke(b,c),b.h==0&&(b.src=null,g[Ue]=null)):me(c)}}}function or(c){return c in Pt?Pt[c]:Pt[c]="on"+c}function Co(c,g){if(c.da)c=!0;else{g=new st(g,this);const b=c.listener,T=c.ha||c.src;c.fa&&da(c),c=b.call(T,g)}return c}function vs(c){return c=c[Ue],c instanceof ce?c:null}var No="__closure_events_fn_"+(Math.random()*1e9>>>0);function Io(c){return typeof c=="function"?c:(c[No]||(c[No]=function(g){return c.handleEvent(g)}),c[No])}function wt(){O.call(this),this.i=new ce(this),this.M=this,this.G=null}E(wt,O),wt.prototype[Rt]=!0,wt.prototype.removeEventListener=function(c,g,b,T){ha(this,c,g,b,T)};function Dt(c,g){var b,T=c.G;if(T)for(b=[];T;T=T.G)b.push(T);if(c=c.M,T=g.type||g,typeof g=="string")g=new R(g,c);else if(g instanceof R)g.target=g.target||c;else{var j=g;g=new R(T,c),oe(g,j)}j=!0;let q,se;if(b)for(se=b.length-1;se>=0;se--)q=g.g=b[se],j=mi(q,T,!0,g)&&j;if(q=g.g=c,j=mi(q,T,!0,g)&&j,j=mi(q,T,!1,g)&&j,b)for(se=0;se<b.length;se++)q=g.g=b[se],j=mi(q,T,!1,g)&&j}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const b=c.g[g];for(let T=0;T<b.length;T++)me(b[T]);delete c.g[g],c.h--}}this.G=null},wt.prototype.J=function(c,g,b,T){return this.i.add(String(c),g,!1,b,T)},wt.prototype.K=function(c,g,b,T){return this.i.add(String(c),g,!0,b,T)};function mi(c,g,b,T){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let j=!0;for(let q=0;q<g.length;++q){const se=g[q];if(se&&!se.da&&se.capture==b){const Ce=se.listener,gt=se.ha||se.src;se.fa&&ke(c.i,se),j=Ce.call(gt,T)!==!1&&j}}return j&&!T.defaultPrevented}function od(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:d.setTimeout(c,g||0)}function bu(c){c.g=od(()=>{c.g=null,c.i&&(c.i=!1,bu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class rn extends O{constructor(g,b){super(),this.m=g,this.l=b,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:bu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bs(c){O.call(this),this.h=c,this.g={}}E(bs,O);var Ao=[];function Ro(c){ze(c.g,function(g,b){this.g.hasOwnProperty(b)&&da(g)},c),c.g={}}bs.prototype.N=function(){bs.Z.N.call(this),Ro(this)},bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gi=d.JSON.stringify,ld=d.JSON.parse,wu=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function ku(){}function Eu(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ft(){R.call(this,"d")}E(Ft,R);function _n(){R.call(this,"c")}E(_n,R);var mt={},xu=null;function fa(){return xu=xu||new wt}mt.Ia="serverreachability";function Tu(c){R.call(this,mt.Ia,c)}E(Tu,R);function lr(c){const g=fa();Dt(g,new Tu(g))}mt.STAT_EVENT="statevent";function ws(c,g){R.call(this,mt.STAT_EVENT,c),this.stat=g}E(ws,R);function kt(c){const g=fa();Dt(g,new ws(g,c))}mt.Ja="timingevent";function ur(c,g){R.call(this,mt.Ja,c),this.size=g}E(ur,R);function cr(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},g)}function $n(){this.g=!0}$n.prototype.ua=function(){this.g=!1};function ud(c,g,b,T,j,q){c.info(function(){if(c.g)if(q){var se="",Ce=q.split("&");for(let Ke=0;Ke<Ce.length;Ke++){var gt=Ce[Ke].split("=");if(gt.length>1){const ot=gt[0];gt=gt[1];const An=ot.split("_");se=An.length>=2&&An[1]=="type"?se+(ot+"="+gt+"&"):se+(ot+"=redacted&")}}}else se=null;else se=q;return"XMLHTTP REQ ("+T+") [attempt "+j+"]: "+g+`
`+b+`
`+se})}function Su(c,g,b,T,j,q,se){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+j+"]: "+g+`
`+b+`
`+q+" "+se})}function hr(c,g,b,T){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+cd(c,b)+(T?" "+T:"")})}function ks(c,g){c.info(function(){return"TIMEOUT: "+g})}$n.prototype.info=function(){};function cd(c,g){if(!c.g)return g;if(!g)return null;try{const q=JSON.parse(g);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var b=q[c];if(!(b.length<2)){var T=b[1];if(Array.isArray(T)&&!(T.length<1)){var j=T[0];if(j!="noop"&&j!="stop"&&j!="close")for(let se=1;se<T.length;se++)T[se]=""}}}}return gi(q)}catch{return g}}var Es={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Po={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Do;function xs(){}E(xs,ku),xs.prototype.g=function(){return new XMLHttpRequest},Do=new xs;function Fr(c){return encodeURIComponent(String(c))}function _u(c){var g=1;c=c.split(":");const b=[];for(;g>0&&c.length;)b.push(c.shift()),g--;return c.length&&b.push(c.join(":")),b}function qn(c,g,b,T){this.j=c,this.i=g,this.l=b,this.S=T||1,this.V=new bs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var Et={},jt={};function dr(c,g,b){c.M=1,c.A=Ts(Tt(g)),c.u=b,c.R=!0,pa(c,null)}function pa(c,g){c.F=Date.now(),fr(c),c.B=Tt(c.A);var b=c.B,T=c.S;Array.isArray(T)||(T=[String(T)]),va(b.i,"t",T),c.C=0,b=c.j.L,c.h=new Hn,c.g=Fu(c.j,b?g:null,!c.u),c.P>0&&(c.O=new rn(y(c.Y,c,c.g),c.P)),g=c.V,b=c.g,T=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(Ao[0]=j.toString()),j=Ao);for(let q=0;q<j.length;q++){const se=at(b,j[q],T||g.handleEvent,!1,g.h||g);if(!se)break;g.g[se.key]=se}g=c.J?D(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),lr(),ud(c.i,c.v,c.B,c.l,c.S,c.u)}qn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Gn(c)==3?g.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=Gn(this.g),gt=this.g.ya(),Ke=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||Ce!=4||gt==7||(gt==8||Ke<=0?lr(3):lr(2)),pr(this);var g=this.g.ca();this.X=g;var b=hd(this);if(this.o=g==200,Su(this.i,this.v,this.B,this.l,this.S,Ce,g),this.o){if(this.U&&!this.L){t:{if(this.g){var T,j=this.g;if((T=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(T)){var q=T;break t}}q=null}if(c=q)hr(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mr(this,c);else{this.o=!1,this.m=3,kt(12),mn(this),Cn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<b.length;)if(ot=Nu(this,b),ot==jt){Ce==4&&(this.m=4,kt(14),c=!1),hr(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Et){this.m=4,kt(15),hr(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else hr(this.i,this.l,ot,null),mr(this,ot);if(Cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||b.length!=0||this.h.h||(this.m=1,kt(16),c=!1),this.o=this.o&&c,!c)hr(this.i,this.l,b,"[Invalid Chunked Response]"),mn(this),Cn(this);else if(b.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Go(se),se.P=!0,kt(11))}}else hr(this.i,this.l,b,null),mr(this,b);Ce==4&&mn(this),this.o&&!this.K&&(Ce==4?ju(this.j,this):(this.o=!1,fr(this)))}else $r(this.g),g==400&&b.indexOf("Unknown SID")>0?(this.m=3,kt(12)):(this.m=0,kt(13)),mn(this),Cn(this)}}}catch{}finally{}};function hd(c){if(!Cu(c))return c.g.la();const g=Bt(c.g);if(g==="")return"";let b="";const T=g.length,j=Gn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return mn(c),Cn(c),"";c.h.i=new d.TextDecoder}for(let q=0;q<T;q++)c.h.h=!0,b+=c.h.i.decode(g[q],{stream:!(j&&q==T-1)});return g.length=0,c.h.g+=b,c.C=0,c.h.g}function Cu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Nu(c,g){var b=c.C,T=g.indexOf(`
`,b);return T==-1?jt:(b=Number(g.substring(b,T)),isNaN(b)?Et:(T+=1,T+b>g.length?jt:(g=g.slice(T,T+b),c.C=T+b,g)))}qn.prototype.cancel=function(){this.K=!0,mn(this)};function fr(c){c.T=Date.now()+c.H,ma(c,c.H)}function ma(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=cr(y(c.aa,c),g)}function pr(c){c.D&&(d.clearTimeout(c.D),c.D=null)}qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ks(this.i,this.B),this.M!=2&&(lr(),kt(17)),mn(this),this.m=2,Cn(this)):ma(this,this.T-c)};function Cn(c){c.j.I==0||c.K||ju(c.j,c)}function mn(c){pr(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Ro(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function mr(c,g){try{var b=c.j;if(b.I!=0&&(b.g==c||yr(b.h,c))){if(!c.L&&yr(b.h,c)&&b.I==3){try{var T=b.Ba.g.parse(g)}catch{T=null}if(Array.isArray(T)&&T.length==3){var j=T;if(j[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)xa(b),Ti(b);else break e;Rs(b),kt(18)}}else b.xa=j[1],0<b.xa-b.K&&j[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=cr(y(b.Va,b),6e3));gr(b.h)<=1&&b.ta&&(b.ta=void 0)}else xr(b,11)}else if((c.L||b.g==c)&&xa(b),!N(g))for(j=b.Ba.g.parse(g),g=0;g<j.length;g++){let Ke=j[g];const ot=Ke[0];if(!(ot<=b.K))if(b.K=ot,Ke=Ke[1],b.I==2)if(Ke[0]=="c"){b.M=Ke[1],b.ba=Ke[2];const An=Ke[3];An!=null&&(b.ka=An,b.j.info("VER="+b.ka));const Hr=Ke[4];Hr!=null&&(b.za=Hr,b.j.info("SVER="+b.za));const Qn=Ke[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(T=1.5*Qn,b.O=T,b.j.info("backChannelRequestTimeoutMs_="+T)),T=b;const Jn=c.g;if(Jn){const Ps=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ps){var q=T.h;q.g||Ps.indexOf("spdy")==-1&&Ps.indexOf("quic")==-1&&Ps.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Lo(q,q.h),q.h=null))}if(T.G){const Ta=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ta&&(T.wa=Ta,We(T.J,T.G,Ta))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),T=b;var se=c;if(T.na=zu(T,T.L?T.ba:null,T.W),se.L){jo(T.h,se);var Ce=se,gt=T.O;gt&&(Ce.H=gt),Ce.D&&(pr(Ce),fr(Ce)),T.g=se}else Mu(T);b.i.length>0&&Er(b)}else Ke[0]!="stop"&&Ke[0]!="close"||xr(b,7);else b.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?xr(b,7):Wo(b):Ke[0]!="noop"&&b.l&&b.l.qa(Ke),b.A=0)}}lr(4)}catch{}}var xt=class{constructor(c,g){this.g=c,this.map=g}};function Oo(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Mo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gr(c){return c.h?1:c.g?c.g.size:0}function yr(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Lo(c,g){c.g?c.g.add(g):c.h=g}function jo(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Oo.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Uo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const b of c.g.values())g=g.concat(b.G);return g}return $(c.i)}var Iu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ga(c,g){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const T=c[b].indexOf("=");let j,q=null;T>=0?(j=c[b].substring(0,T),q=c[b].substring(T+1)):j=c[b],g(j,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof gn?(this.l=c.l,Ut(this,c.j),this.o=c.o,this.g=c.g,yi(this,c.u),this.h=c.h,Vo(this,Du(c.i)),this.m=c.m):c&&(g=String(c).match(Iu))?(this.l=!1,Ut(this,g[1]||"",!0),this.o=vr(g[2]||""),this.g=vr(g[3]||"",!0),yi(this,g[4]),this.h=vr(g[5]||"",!0),Vo(this,g[6]||"",!0),this.m=vr(g[7]||"")):(this.l=!1,this.i=new bi(null,this.l))}gn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(Ss(g,ya,!0),":");var b=this.g;return(b||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Ss(g,ya,!0),"@"),c.push(Fr(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(Ss(b,b.charAt(0)=="/"?zo:Au,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",Ss(b,Ru)),c.join("")},gn.prototype.resolve=function(c){const g=Tt(this);let b=!!c.j;b?Ut(g,c.j):b=!!c.o,b?g.o=c.o:b=!!c.g,b?g.g=c.g:b=c.u!=null;var T=c.h;if(b)yi(g,c.u);else if(b=!!c.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var j=g.h.lastIndexOf("/");j!=-1&&(T=g.h.slice(0,j+1)+T)}if(j=T,j==".."||j==".")T="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){T=j.lastIndexOf("/",0)==0,j=j.split("/");const q=[];for(let se=0;se<j.length;){const Ce=j[se++];Ce=="."?T&&se==j.length&&q.push(""):Ce==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&se==j.length&&q.push("")):(q.push(Ce),T=!0)}T=q.join("/")}else T=j}return b?g.h=T:b=c.i.toString()!=="",b?Vo(g,Du(c.i)):b=!!c.m,b&&(g.m=c.m),g};function Tt(c){return new gn(c)}function Ut(c,g,b){c.j=b?vr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function yi(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function Vo(c,g,b){g instanceof bi?(c.i=g,ba(c.i,c.l)):(b||(g=Ss(g,vi)),c.i=new bi(g,c.l))}function We(c,g,b){c.i.set(g,b)}function Ts(c){return We(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function vr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ss(c,g,b){return typeof c=="string"?(c=encodeURI(c).replace(g,yn),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function yn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ya=/[#\/\?@]/g,Au=/[#\?:]/g,zo=/[#\?]/g,vi=/[#\?@]/g,Ru=/#/g;function bi(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&ga(c.i,function(g,b){c.add(decodeURIComponent(g.replace(/\+/g," ")),b)}))}i=bi.prototype,i.add=function(c,g){ln(this),this.i=null,c=wi(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(g),this.h+=1,this};function Pu(c,g){ln(c),g=wi(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Fo(c,g){return ln(c),g=wi(c,g),c.g.has(g)}i.forEach=function(c,g){ln(this),this.g.forEach(function(b,T){b.forEach(function(j){c.call(g,j,T,this)},this)},this)};function Bo(c,g){ln(c);let b=[];if(typeof g=="string")Fo(c,g)&&(b=b.concat(c.g.get(wi(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)b=b.concat(c[g]);return b}i.set=function(c,g){return ln(this),this.i=null,c=wi(this,c),Fo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},i.get=function(c,g){return c?(c=Bo(this,c),c.length>0?String(c[0]):g):g};function va(c,g,b){Pu(c,g),b.length>0&&(c.i=null,c.g.set(wi(c,g),$(b)),c.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let T=0;T<g.length;T++){var b=g[T];const j=Fr(b);b=Bo(this,b);for(let q=0;q<b.length;q++){let se=j;b[q]!==""&&(se+="="+Fr(b[q])),c.push(se)}}return this.i=c.join("&")};function Du(c){const g=new bi;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function wi(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function ba(c,g){g&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(b,T){const j=T.toLowerCase();T!=j&&(Pu(this,T),va(this,j,b))},c)),c.j=g}function Wn(c,g){const b=new $n;if(d.Image){const T=new Image;T.onload=k(Nn,b,"TestLoadImage: loaded",!0,g,T),T.onerror=k(Nn,b,"TestLoadImage: error",!1,g,T),T.onabort=k(Nn,b,"TestLoadImage: abort",!1,g,T),T.ontimeout=k(Nn,b,"TestLoadImage: timeout",!1,g,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else g(!1)}function $o(c,g){const b=new $n,T=new AbortController,j=setTimeout(()=>{T.abort(),Nn(b,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:T.signal}).then(q=>{clearTimeout(j),q.ok?Nn(b,"TestPingServer: ok",!0,g):Nn(b,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),Nn(b,"TestPingServer: error",!1,g)})}function Nn(c,g,b,T,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),T(b)}catch{}}function ki(){this.g=new wu}function br(c){this.i=c.Sb||null,this.h=c.ab||!1}E(br,ku),br.prototype.g=function(){return new _s(this.i,this.h)};function _s(c,g){wt.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(_s,wt),i=_s.prototype,i.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Kn(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||d).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ei(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function wa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Ei(this):Kn(this),this.readyState==3&&wa(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Ei(this))},i.Na=function(c){this.g&&(this.response=c,Ei(this))},i.ga=function(){this.g&&Ei(this)};function Ei(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Kn(c)}i.setRequestHeader=function(c,g){this.A.append(c,g)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var b=g.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=g.next();return c.join(`\r
`)};function Kn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(_s.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function In(c){let g="";return ze(c,function(b,T){g+=T,g+=":",g+=b,g+=`\r
`}),g}function Cs(c,g,b){e:{for(T in b){var T=!1;break e}T=!0}T||(b=In(b),typeof c=="string"?b!=null&&Fr(b):We(c,g,b))}function Je(c){wt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Je,wt);var wr=/^https?$/i,qo=["POST","PUT"];i=Je.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,g,b,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Do.g(),this.g.onreadystatechange=A(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(q){Ns(this,q);return}if(c=b||"",b=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var j in T)b.set(j,T[j]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())b.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(b.keys()).find(q=>q.toLowerCase()=="content-type"),j=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(qo,g,void 0)>=0)||T||j||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,se]of b)this.g.setRequestHeader(q,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Ns(this,q)}};function Ns(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Ho(c),Br(c)}function Ho(c){c.A||(c.A=!0,Dt(c,"complete"),Dt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Dt(this,"complete"),Dt(this,"abort"),Br(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Br(this,!0)),Je.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Is(this):this.Xa())},i.Xa=function(){Is(this)};function Is(c){if(c.h&&typeof u<"u"){if(c.v&&Gn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Dt(c,"readystatechange"),Gn(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var b;if(!(b=g)){var T;if(T=q===0){let se=String(c.D).match(Iu)[1]||null;!se&&d.self&&d.self.location&&(se=d.self.location.protocol.slice(0,-1)),T=!wr.test(se?se.toLowerCase():"")}b=T}if(b)Dt(c,"complete"),Dt(c,"success");else{c.o=6;try{var j=Gn(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",Ho(c)}}finally{Br(c)}}}}function Br(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,g||Dt(c,"ready");try{b.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Gn(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),ld(g)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function $r(c){const g={};c=(c.g&&Gn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(N(c[T]))continue;var b=_u(c[T]);const j=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const q=g[j]||[];g[j]=q,q.push(b)}He(g,function(T){return T.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function kr(c,g,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||g}function xi(c){this.za=0,this.i=[],this.j=new $n,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=kr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=kr("baseRetryDelayMs",5e3,c),this.Za=kr("retryDelaySeedMs",1e4,c),this.Ta=kr("forwardChannelMaxRetries",2,c),this.va=kr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Oo(c&&c.concurrentRequestLimit),this.Ba=new ki,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=xi.prototype,i.ka=8,i.I=1,i.connect=function(c,g,b,T){kt(0),this.W=c,this.H=g||{},b&&T!==void 0&&(this.H.OSID=b,this.H.OAID=T),this.F=this.X,this.J=zu(this,null,this.W),Er(this)};function Wo(c){if(ka(c),c.I==3){var g=c.V++,b=Tt(c.J);if(We(b,"SID",c.M),We(b,"RID",g),We(b,"TYPE","terminate"),As(c,b),g=new qn(c,c.j,g),g.M=2,g.A=Ts(Tt(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(g.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=g.A,b=!0),b||(g.g=Fu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),fr(g)}Vu(c)}function Ti(c){c.g&&(Go(c),c.g.cancel(),c.g=null)}function ka(c){Ti(c),c.v&&(d.clearTimeout(c.v),c.v=null),xa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function Er(c){if(!Mo(c.h)&&!c.m){c.m=!0;var g=c.Ea;we||S(),ie||(we(),ie=!0),_.add(g,c),c.D=0}}function Ea(c,g){return gr(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=cr(y(c.Ea,c,g),Uu(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new qn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=D(q),oe(q,this.U)):q=this.U),this.u!==null||this.R||(j.J=q,q=null),this.S)e:{for(var g=0,b=0;b<this.i.length;b++){t:{var T=this.i[b];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(g+=T,g>4096){g=b;break e}if(g===4096||b===this.i.length-1){g=b+1;break e}}g=1e3}else g=1e3;g=Ou(this,j,g),b=Tt(this.J),We(b,"RID",c),We(b,"CVER",22),this.G&&We(b,"X-HTTP-Session-Id",this.G),As(this,b),q&&(this.R?g="headers="+Fr(In(q))+"&"+g:this.u&&Cs(b,this.u,q)),Lo(this.h,j),this.Ra&&We(b,"TYPE","init"),this.S?(We(b,"$req",g),We(b,"SID","null"),j.U=!0,dr(j,b,null)):dr(j,b,g),this.I=2}}else this.I==3&&(c?Ko(this,c):this.i.length==0||Mo(this.h)||Ko(this))};function Ko(c,g){var b;g?b=g.l:b=c.V++;const T=Tt(c.J);We(T,"SID",c.M),We(T,"RID",b),We(T,"AID",c.K),As(c,T),c.u&&c.o&&Cs(T,c.u,c.o),b=new qn(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Ou(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Lo(c.h,b),dr(b,T,g)}function As(c,g){c.H&&ze(c.H,function(b,T){We(g,T,b)}),c.l&&ze({},function(b,T){We(g,T,b)})}function Ou(c,g,b){b=Math.min(c.i.length,b);const T=c.l?y(c.l.Ka,c.l,c):null;e:{var j=c.i;let Ce=-1;for(;;){const gt=["count="+b];Ce==-1?b>0?(Ce=j[0].g,gt.push("ofs="+Ce)):Ce=0:gt.push("ofs="+Ce);let Ke=!0;for(let ot=0;ot<b;ot++){var q=j[ot].g;const An=j[ot].map;if(q-=Ce,q<0)Ce=Math.max(0,j[ot].g-100),Ke=!1;else try{q="req"+q+"_"||"";try{var se=An instanceof Map?An:Object.entries(An);for(const[Hr,Qn]of se){let Jn=Qn;p(Qn)&&(Jn=gi(Qn)),gt.push(q+Hr+"="+encodeURIComponent(Jn))}}catch(Hr){throw gt.push(q+"type="+encodeURIComponent("_badmap")),Hr}}catch{T&&T(An)}}if(Ke){se=gt.join("&");break e}}se=void 0}return c=c.i.splice(0,b),g.G=c,se}function Mu(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;we||S(),ie||(we(),ie=!0),_.add(g,c),c.A=0}}function Rs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=cr(y(c.Da,c),Uu(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Lu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=cr(y(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,kt(10),Ti(this),Lu(this))};function Go(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Lu(c){c.g=new qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=Tt(c.na);We(g,"RID","rpc"),We(g,"SID",c.M),We(g,"AID",c.K),We(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&We(g,"TO",c.ia),We(g,"TYPE","xmlhttp"),As(c,g),c.u&&c.o&&Cs(g,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=Ts(Tt(g)),b.u=null,b.R=!0,pa(b,c)}i.Va=function(){this.C!=null&&(this.C=null,Ti(this),Rs(this),kt(19))};function xa(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function ju(c,g){var b=null;if(c.g==g){xa(c),Go(c),c.g=null;var T=2}else if(yr(c.h,g))b=g.G,jo(c.h,g),T=1;else return;if(c.I!=0){if(g.o)if(T==1){b=g.u?g.u.length:0,g=Date.now()-g.F;var j=c.D;T=fa(),Dt(T,new ur(T,b)),Er(c)}else Mu(c);else if(j=g.m,j==3||j==0&&g.X>0||!(T==1&&Ea(c,g)||T==2&&Rs(c)))switch(b&&b.length>0&&(g=c.h,g.i=g.i.concat(b)),j){case 1:xr(c,5);break;case 4:xr(c,10);break;case 3:xr(c,6);break;default:xr(c,2)}}}function Uu(c,g){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*g}function xr(c,g){if(c.j.info("Error code "+g),g==2){var b=y(c.bb,c),T=c.Ua;const j=!T;T=new gn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ut(T,"https"),Ts(T),j?Wn(T.toString(),b):$o(T.toString(),b)}else kt(2);c.I=0,c.l&&c.l.pa(g),Vu(c),ka(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Vu(c){if(c.I=0,c.ja=[],c.l){const g=Uo(c.h);(g.length!=0||c.i.length!=0)&&(F(c.ja,g),F(c.ja,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.oa()}}function zu(c,g,b){var T=b instanceof gn?Tt(b):new gn(b);if(T.g!="")g&&(T.g=g+"."+T.g),yi(T,T.u);else{var j=d.location;T=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;const q=new gn(null);T&&Ut(q,T),g&&(q.g=g),j&&yi(q,j),b&&(q.h=b),T=q}return b=c.G,g=c.wa,b&&g&&We(T,b,g),We(T,"VER",c.ka),As(c,T),T}function Fu(c,g,b){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new Je(new br({ab:b})):new Je(c.ma),g.Fa(c.L),g}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}i=Bu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Si(){}Si.prototype.g=function(c,g){return new sn(c,g)};function sn(c,g){wt.call(this),this.g=new xi(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!N(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!N(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new qr(this)}E(sn,wt),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Wo(this.g)},sn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=gi(c),c=b);g.i.push(new xt(g.Ya++,c)),g.I==3&&Er(g)},sn.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,sn.Z.N.call(this)};function $u(c){Ft.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const b in g){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}E($u,Ft);function qu(){_n.call(this),this.status=1}E(qu,_n);function qr(c){this.g=c}E(qr,Bu),qr.prototype.ra=function(){Dt(this.g,"a")},qr.prototype.qa=function(c){Dt(this.g,new $u(c))},qr.prototype.pa=function(c){Dt(this.g,new qu)},qr.prototype.oa=function(){Dt(this.g,"b")},Si.prototype.createWebChannel=Si.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,d1=function(){return new Si},h1=function(){return fa()},c1=mt,Op={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Es.NO_ERROR=0,Es.TIMEOUT=8,Es.HTTP_ERROR=6,ah=Es,Po.COMPLETE="complete",u1=Po,Eu.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",wt.prototype.listen=wt.prototype.J,Ul=Eu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,l1=Je}).apply(typeof Qc<"u"?Qc:typeof self<"u"?self:typeof window<"u"?window:{});/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let ko="12.8.0";function nN(i){ko=i}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Zs=new um("@firebase/firestore");function eo(){return Zs.logLevel}function ue(i,...e){if(Zs.logLevel<=Oe.DEBUG){const n=e.map(dm);Zs.debug(`Firestore (${ko}): ${i}`,...n)}}function di(i,...e){if(Zs.logLevel<=Oe.ERROR){const n=e.map(dm);Zs.error(`Firestore (${ko}): ${i}`,...n)}}function fo(i,...e){if(Zs.logLevel<=Oe.WARN){const n=e.map(dm);Zs.warn(`Firestore (${ko}): ${i}`,...n)}}function dm(i){if(typeof i=="string")return i;try{return(function(e){return JSON.stringify(e)})(i)}catch{return i}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function be(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,f1(i,s,n)}function f1(i,e,n){let s=`FIRESTORE (${ko}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw di(s),new Error(s)}function qe(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||f1(e,o,s)}function Te(i,e){return i}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends zr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ss{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class p1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(en.UNAUTHENTICATED)))}shutdown(){}}class iN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class sN{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let u=new ss;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ss,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const m=u;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},p=m=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((m=>p(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ss)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qe(typeof s.accessToken=="string",31837,{l:s}),new p1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class aN{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class oN{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new aN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class e0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){qe(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new e0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new e0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function uN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=uN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Me(i,e){return i<e?-1:i>e?1:0}function Mp(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return gp(o)===gp(u)?Me(o,u):gp(o)?1:-1}return Me(i.length,e.length)}const cN=55296,hN=57343;function gp(i){const e=i.charCodeAt(0);return e>=cN&&e<=hN}function po(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const t0="__name__";class Nr{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Nr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Nr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Nr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Me(e.length,n.length)}static compareSegments(e,n){const s=Nr.isNumericId(e),o=Nr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Nr.extractNumericId(e).compare(Nr.extractNumericId(n)):Mp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return is.fromString(e.substring(4,e.length-2))}}class rt extends Nr{construct(e,n,s){return new rt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const dN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends Nr{construct(e,n,s){return new Gt(e,n,s)}static isValidIdentifier(e){return dN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===t0}static keyField(){return new Gt([t0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new fe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new fe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(s+=p,o++):(u(),o++)}if(u(),d)throw new fe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ge{constructor(e){this.path=e}static fromPath(e){return new ge(rt.fromString(e))}static fromName(e){return new ge(rt.fromString(e).popFirst(5))}static empty(){return new ge(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new rt(e.slice()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function m1(i,e,n){if(!n)throw new fe(te.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function fN(i,e,n,s){if(e===!0&&s===!0)throw new fe(te.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function n0(i){if(!ge.isDocumentKey(i))throw new fe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function r0(i){if(ge.isDocumentKey(i))throw new fe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function g1(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function pm(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":be(12329,{type:typeof i})}function Jl(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new fe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pm(i);throw new fe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function At(i,e){const n={typeString:i};return e&&(n.value=e),n}function hu(i,e){if(!g1(i))throw new fe(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const d=i[s];if(o&&typeof d!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new fe(te.INVALID_ARGUMENT,n);return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const i0=-62135596800,s0=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*s0);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<i0)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/s0}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-i0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:At("string",it._jsonSchemaVersion),seconds:At("number"),nanoseconds:At("number")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new it(0,0))}static max(){return new Ee(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Xl=-1;function pN(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new us(o,ge.empty(),e)}function mN(i){return new us(i.readTime,i.key,Xl)}class us{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new us(Ee.min(),ge.empty(),Xl)}static max(){return new us(Ee.max(),ge.empty(),Xl)}}function gN(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(i.documentKey,e.documentKey),n!==0?n:Me(i.largestBatchId,e.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Eo(i){if(i.code!==te.FAILED_PRECONDITION||i.message!==yN)throw i;ue("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,s)=>{n(e)}))}static reject(e){return new ee(((n,s)=>{s(e)}))}static waitFor(e){return new ee(((n,s)=>{let o=0,u=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++u,d&&u===o&&n()}),(m=>s(m)))})),d=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next((o=>o?ee.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ee(((s,o)=>{const u=e.length,d=new Array(u);let p=0;for(let m=0;m<u;m++){const y=m;n(e[y]).next((k=>{d[y]=k,++p,p===u&&s(d)}),(k=>o(k)))}}))}static doWhile(e,n){return new ee(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function bN(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xo(i){return i.name==="IndexedDbTransactionError"}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Bh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Bh.ce=-1;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const mm=-1;function $h(i){return i==null}function wh(i){return i===0&&1/i==-1/0}function wN(i){return typeof i=="number"&&Number.isInteger(i)&&!wh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const y1="";function kN(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=a0(e)),e=EN(i.get(n),e);return a0(e)}function EN(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case y1:n+="";break;default:n+=u}}return n}function a0(i){return i+y1+""}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function o0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function sa(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function v1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ct{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jc(this.root,e,this.comparator,!0)}}class Jc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Kt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(i,e,n,s,o){return this}insert(i,e,n){return new Kt(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Lt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new l0(this.data.getIterator())}getIteratorFrom(e){return new l0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class l0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tr{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new tr([])}unionWith(e){let n=new Lt(Gt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new tr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class b1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new b1("Invalid base64 string: "+o):o}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const xN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(i){if(qe(!!i,39018),typeof i=="string"){let e=0;const n=xN.exec(i);if(qe(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:bt(i.seconds),nanos:bt(i.nanos)}}function bt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function hs(i){return typeof i=="string"?Xt.fromBase64String(i):Xt.fromUint8Array(i)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const w1="server_timestamp",k1="__type__",E1="__previous_value__",x1="__local_write_time__";function gm(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)==null?void 0:e.fields)||{})[k1])==null?void 0:n.stringValue)===w1}function qh(i){const e=i.mapValue.fields[E1];return gm(e)?qh(e):e}function Yl(i){const e=cs(i.mapValue.fields[x1].timestampValue);return new it(e.seconds,e.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class TN{constructor(e,n,s,o,u,d,p,m,y,k,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=y,this.isUsingEmulator=k,this.apiKey=E}}const kh="(default)";class Zl{constructor(e,n){this.projectId=e,this.database=n||kh}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===kh}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}function SN(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new fe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(i.options.projectId,e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const T1="__type__",_N="__max__",Xc={mapValue:{}},S1="__vector__",Eh="value";function ds(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?gm(i)?4:NN(i)?9007199254740991:CN(i)?10:11:be(28295,{value:i})}function jr(i,e){if(i===e)return!0;const n=ds(i);if(n!==ds(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Yl(i).isEqual(Yl(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=cs(s.timestampValue),d=cs(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(s,o){return hs(s.bytesValue).isEqual(hs(o.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(s,o){return bt(s.geoPointValue.latitude)===bt(o.geoPointValue.latitude)&&bt(s.geoPointValue.longitude)===bt(o.geoPointValue.longitude)})(i,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return bt(s.integerValue)===bt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=bt(s.doubleValue),d=bt(o.doubleValue);return u===d?wh(u)===wh(d):isNaN(u)&&isNaN(d)}return!1})(i,e);case 9:return po(i.arrayValue.values||[],e.arrayValue.values||[],jr);case 10:case 11:return(function(s,o){const u=s.mapValue.fields||{},d=o.mapValue.fields||{};if(o0(u)!==o0(d))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(d[p]===void 0||!jr(u[p],d[p])))return!1;return!0})(i,e);default:return be(52216,{left:i})}}function eu(i,e){return(i.values||[]).find((n=>jr(n,e)))!==void 0}function mo(i,e){if(i===e)return 0;const n=ds(i),s=ds(e);if(n!==s)return Me(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(i.booleanValue,e.booleanValue);case 2:return(function(o,u){const d=bt(o.integerValue||o.doubleValue),p=bt(u.integerValue||u.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(i,e);case 3:return u0(i.timestampValue,e.timestampValue);case 4:return u0(Yl(i),Yl(e));case 5:return Mp(i.stringValue,e.stringValue);case 6:return(function(o,u){const d=hs(o),p=hs(u);return d.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(o,u){const d=o.split("/"),p=u.split("/");for(let m=0;m<d.length&&m<p.length;m++){const y=Me(d[m],p[m]);if(y!==0)return y}return Me(d.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(o,u){const d=Me(bt(o.latitude),bt(u.latitude));return d!==0?d:Me(bt(o.longitude),bt(u.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return c0(i.arrayValue,e.arrayValue);case 10:return(function(o,u){var d,p,m,y;const k=o.fields||{},E=u.fields||{},A=(d=k[Eh])==null?void 0:d.arrayValue,$=(p=E[Eh])==null?void 0:p.arrayValue,F=Me(((m=A==null?void 0:A.values)==null?void 0:m.length)||0,((y=$==null?void 0:$.values)==null?void 0:y.length)||0);return F!==0?F:c0(A,$)})(i.mapValue,e.mapValue);case 11:return(function(o,u){if(o===Xc.mapValue&&u===Xc.mapValue)return 0;if(o===Xc.mapValue)return 1;if(u===Xc.mapValue)return-1;const d=o.fields||{},p=Object.keys(d),m=u.fields||{},y=Object.keys(m);p.sort(),y.sort();for(let k=0;k<p.length&&k<y.length;++k){const E=Mp(p[k],y[k]);if(E!==0)return E;const A=mo(d[p[k]],m[y[k]]);if(A!==0)return A}return Me(p.length,y.length)})(i.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function u0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Me(i,e);const n=cs(i),s=cs(e),o=Me(n.seconds,s.seconds);return o!==0?o:Me(n.nanos,s.nanos)}function c0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=mo(n[o],s[o]);if(u)return u}return Me(n.length,s.length)}function go(i){return Lp(i)}function Lp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(e){const n=cs(e);return`time(${n.seconds},${n.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(e){return hs(e).toBase64()})(i.bytesValue):"referenceValue"in i?(function(e){return ge.fromName(e).toString()})(i.referenceValue):"geoPointValue"in i?(function(e){return`geo(${e.latitude},${e.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(e){let n="[",s=!0;for(const o of e.values||[])s?s=!1:n+=",",n+=Lp(o);return n+"]"})(i.arrayValue):"mapValue"in i?(function(e){const n=Object.keys(e.fields||{}).sort();let s="{",o=!0;for(const u of n)o?o=!1:s+=",",s+=`${u}:${Lp(e.fields[u])}`;return s+"}"})(i.mapValue):be(61005,{value:i})}function oh(i){switch(ds(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qh(i);return e?16+oh(e):16;case 5:return 2*i.stringValue.length;case 6:return hs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((s,o)=>s+oh(o)),0)})(i.arrayValue);case 10:case 11:return(function(n){let s=0;return sa(n.fields,((o,u)=>{s+=o.length+oh(u)})),s})(i.mapValue);default:throw be(13486,{value:i})}}function jp(i){return!!i&&"integerValue"in i}function ym(i){return!!i&&"arrayValue"in i}function h0(i){return!!i&&"nullValue"in i}function d0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function lh(i){return!!i&&"mapValue"in i}function CN(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)==null?void 0:e.fields)||{})[T1])==null?void 0:n.stringValue)===S1}function Bl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return sa(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Bl(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bl(i.arrayValue.values[n]);return e}return{...i}}function NN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===_N}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!lh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(n)}setAll(e){let n=Gt.emptyPath(),s={},o=[];e.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const m=this.getFieldsMap(n);this.applyChanges(m,s,o),s={},o=[],n=p.popLast()}d?s[p.lastSegment()]=Bl(d):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());lh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];lh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){sa(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Vn(Bl(this.value))}}function _1(i){const e=[];return sa(i.fields,((n,s)=>{const o=new Gt([n]);if(lh(s)){const u=_1(s.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)})),new tr(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tn{constructor(e,n,s,o,u,d,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(e){return new tn(e,0,Ee.min(),Ee.min(),Ee.min(),Vn.empty(),0)}static newFoundDocument(e,n,s,o){return new tn(e,1,n,Ee.min(),s,o,0)}static newNoDocument(e,n){return new tn(e,2,n,Ee.min(),Ee.min(),Vn.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,Ee.min(),Ee.min(),Vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xh{constructor(e,n){this.position=e,this.inclusive=n}}function f0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],d=i.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(d.referenceValue),n.key):s=mo(d,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function p0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!jr(i.position[n],e.position[n]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Th{constructor(e,n="asc"){this.field=e,this.dir=n}}function IN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class C1{}class Mt extends C1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new RN(e,n,s):n==="array-contains"?new ON(e,s):n==="in"?new MN(e,s):n==="not-in"?new LN(e,s):n==="array-contains-any"?new jN(e,s):new Mt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new PN(e,s):new DN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(mo(n,this.value)):n!==null&&ds(this.value)===ds(n)&&this.matchesComparison(mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ur extends C1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ur(e,n)}matches(e){return N1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function N1(i){return i.op==="and"}function I1(i){return AN(i)&&N1(i)}function AN(i){for(const e of i.filters)if(e instanceof Ur)return!1;return!0}function Up(i){if(i instanceof Mt)return i.field.canonicalString()+i.op.toString()+go(i.value);if(I1(i))return i.filters.map((e=>Up(e))).join(",");{const e=i.filters.map((n=>Up(n))).join(",");return`${i.op}(${e})`}}function A1(i,e){return i instanceof Mt?(function(n,s){return s instanceof Mt&&n.op===s.op&&n.field.isEqual(s.field)&&jr(n.value,s.value)})(i,e):i instanceof Ur?(function(n,s){return s instanceof Ur&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce(((o,u,d)=>o&&A1(u,s.filters[d])),!0):!1})(i,e):void be(19439)}function R1(i){return i instanceof Mt?(function(e){return`${e.field.canonicalString()} ${e.op} ${go(e.value)}`})(i):i instanceof Ur?(function(e){return e.op.toString()+" {"+e.getFilters().map(R1).join(" ,")+"}"})(i):"Filter"}class RN extends Mt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class PN extends Mt{constructor(e,n){super(e,"in",n),this.keys=P1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class DN extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=P1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function P1(i,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>ge.fromName(s.referenceValue)))}class ON extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ym(n)&&eu(n.arrayValue,this.value)}}class MN extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&eu(this.value.arrayValue,n)}}class LN extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!eu(this.value.arrayValue,n)}}class jN extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ym(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>eu(this.value.arrayValue,s)))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class UN{constructor(e,n=null,s=[],o=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function m0(i,e=null,n=[],s=[],o=null,u=null,d=null){return new UN(i,e,n,s,o,u,d)}function vm(i){const e=Te(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Up(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(o){return o.field.canonicalString()+o.dir})(s))).join(","),$h(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>go(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>go(s))).join(",")),e.Te=n}return e.Te}function bm(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!IN(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!A1(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!p0(i.startAt,e.startAt)&&p0(i.endAt,e.endAt)}function Vp(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Hh{constructor(e,n=null,s=[],o=[],u=null,d="F",p=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function VN(i,e,n,s,o,u,d,p){return new Hh(i,e,n,s,o,u,d,p)}function D1(i){return new Hh(i)}function g0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function zN(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function FN(i){return i.collectionGroup!==null}function $l(i){const e=Te(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new Lt(Gt.comparator);return o.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(u=u.add(p.field))}))})),u})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Th(o,s))})),n.has(Gt.keyField().canonicalString())||e.Ie.push(new Th(Gt.keyField(),s))}return e.Ie}function Rr(i){const e=Te(i);return e.Ee||(e.Ee=BN(e,$l(i))),e.Ee}function BN(i,e){if(i.limitType==="F")return m0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Th(o.field,u)}));const n=i.endAt?new xh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new xh(i.startAt.position,i.startAt.inclusive):null;return m0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function zp(i,e,n){return new Hh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Wh(i,e){return bm(Rr(i),Rr(e))&&i.limitType===e.limitType}function O1(i){return`${vm(Rr(i))}|lt:${i.limitType}`}function to(i){return`Query(target=${(function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map((s=>R1(s))).join(", ")}]`),$h(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map((s=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(s))).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>go(s))).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>go(s))).join(",")),`Target(${n})`})(Rr(i))}; limitType=${i.limitType})`}function Kh(i,e){return e.isFoundDocument()&&(function(n,s){const o=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):ge.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)})(i,e)&&(function(n,s){for(const o of $l(n))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(i,e)&&(function(n,s){for(const o of n.filters)if(!o.matches(s))return!1;return!0})(i,e)&&(function(n,s){return!(n.startAt&&!(function(o,u,d){const p=f0(o,u,d);return o.inclusive?p<=0:p<0})(n.startAt,$l(n),s)||n.endAt&&!(function(o,u,d){const p=f0(o,u,d);return o.inclusive?p>=0:p>0})(n.endAt,$l(n),s))})(i,e)}function $N(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function M1(i){return(e,n)=>{let s=!1;for(const o of $l(i)){const u=qN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function qN(i,e,n){const s=i.field.isKeyField()?ge.comparator(e.key,n.key):(function(o,u,d){const p=u.data.field(o),m=d.data.field(o);return p!==null&&m!==null?mo(p,m):be(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:i.dir})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class aa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){sa(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return v1(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const HN=new ct(ge.comparator);function fi(){return HN}const L1=new ct(ge.comparator);function Vl(...i){let e=L1;for(const n of i)e=e.insert(n.key,n);return e}function j1(i){let e=L1;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Qs(){return ql()}function U1(){return ql()}function ql(){return new aa((i=>i.toString()),((i,e)=>i.isEqual(e)))}const WN=new ct(ge.comparator),KN=new Lt(ge.comparator);function Le(...i){let e=KN;for(const n of i)e=e.add(n);return e}const GN=new Lt(Me);function QN(){return GN}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function wm(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(e)?"-0":e}}function V1(i){return{integerValue:""+i}}function JN(i,e){return wN(e)?V1(e):wm(i,e)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Gh{constructor(){this._=void 0}}function XN(i,e,n){return i instanceof Sh?(function(s,o){const u={fields:{[k1]:{stringValue:w1},[x1]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&gm(o)&&(o=qh(o)),o&&(u.fields[E1]=o),{mapValue:u}})(n,e):i instanceof tu?F1(i,e):i instanceof nu?B1(i,e):(function(s,o){const u=z1(s,o),d=y0(u)+y0(s.Ae);return jp(u)&&jp(s.Ae)?V1(d):wm(s.serializer,d)})(i,e)}function YN(i,e,n){return i instanceof tu?F1(i,e):i instanceof nu?B1(i,e):n}function z1(i,e){return i instanceof _h?(function(n){return jp(n)||(function(s){return!!s&&"doubleValue"in s})(n)})(e)?e:{integerValue:0}:null}class Sh extends Gh{}class tu extends Gh{constructor(e){super(),this.elements=e}}function F1(i,e){const n=$1(e);for(const s of i.elements)n.some((o=>jr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class nu extends Gh{constructor(e){super(),this.elements=e}}function B1(i,e){let n=$1(e);for(const s of i.elements)n=n.filter((o=>!jr(o,s)));return{arrayValue:{values:n}}}class _h extends Gh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function y0(i){return bt(i.integerValue||i.doubleValue)}function $1(i){return ym(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function ZN(i,e){return i.field.isEqual(e.field)&&(function(n,s){return n instanceof tu&&s instanceof tu||n instanceof nu&&s instanceof nu?po(n.elements,s.elements,jr):n instanceof _h&&s instanceof _h?jr(n.Ae,s.Ae):n instanceof Sh&&s instanceof Sh})(i.transform,e.transform)}class eI{constructor(e,n){this.version=e,this.transformResults=n}}class Pr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pr}static exists(e){return new Pr(void 0,e)}static updateTime(e){return new Pr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Qh{}function q1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new km(i.key,Pr.none()):new du(i.key,i.data,Pr.none());{const n=i.data,s=Vn.empty();let o=new Lt(Gt.comparator);for(let u of e.fields)if(!o.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?s.delete(u):s.set(u,d),o=o.add(u)}return new oa(i.key,s,new tr(o.toArray()),Pr.none())}}function tI(i,e,n){i instanceof du?(function(s,o,u){const d=s.value.clone(),p=b0(s.fieldTransforms,o,u.transformResults);d.setAll(p),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(i,e,n):i instanceof oa?(function(s,o,u){if(!uh(s.precondition,o))return void o.convertToUnknownDocument(u.version);const d=b0(s.fieldTransforms,o,u.transformResults),p=o.data;p.setAll(H1(s)),p.setAll(d),o.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(i,e,n):(function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Hl(i,e,n,s){return i instanceof du?(function(o,u,d,p){if(!uh(o.precondition,u))return d;const m=o.value.clone(),y=w0(o.fieldTransforms,p,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(i,e,n,s):i instanceof oa?(function(o,u,d,p){if(!uh(o.precondition,u))return d;const m=w0(o.fieldTransforms,p,u),y=u.data;return y.setAll(H1(o)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((k=>k.field)))})(i,e,n,s):(function(o,u,d){return uh(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(i,e,n)}function nI(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=z1(s.transform,o||null);u!=null&&(n===null&&(n=Vn.empty()),n.set(s.field,u))}return n||null}function v0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&po(n,s,((o,u)=>ZN(o,u)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class du extends Qh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class oa extends Qh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function H1(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function b0(i,e,n){const s=new Map;qe(i.length===n.length,32656,{Ve:n.length,de:i.length});for(let o=0;o<n.length;o++){const u=i[o],d=u.transform,p=e.data.field(u.field);s.set(u.field,YN(d,p,n[o]))}return s}function w0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,d=n.data.field(o.field);s.set(o.field,XN(u,d,e))}return s}class km extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rI extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class iI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&tI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Hl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Hl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=U1();return this.mutations.forEach((o=>{const u=e.get(o.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=n.has(o.key)?null:p;const m=q1(d,p);m!==null&&s.set(o.key,m),d.isValidDocument()||d.convertToNoDocument(Ee.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,((n,s)=>v0(n,s)))&&po(this.baseMutations,e.baseMutations,((n,s)=>v0(n,s)))}}class Em{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return WN})();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,s[d].version);return new Em(e,n,s,o)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class aI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var It,Ve;function oI(i){switch(i){case te.OK:return be(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return be(15467,{code:i})}}function W1(i){if(i===void 0)return di("GRPC error has no .code"),te.UNKNOWN;switch(i){case It.OK:return te.OK;case It.CANCELLED:return te.CANCELLED;case It.UNKNOWN:return te.UNKNOWN;case It.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case It.INTERNAL:return te.INTERNAL;case It.UNAVAILABLE:return te.UNAVAILABLE;case It.UNAUTHENTICATED:return te.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case It.NOT_FOUND:return te.NOT_FOUND;case It.ALREADY_EXISTS:return te.ALREADY_EXISTS;case It.PERMISSION_DENIED:return te.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case It.ABORTED:return te.ABORTED;case It.OUT_OF_RANGE:return te.OUT_OF_RANGE;case It.UNIMPLEMENTED:return te.UNIMPLEMENTED;case It.DATA_LOSS:return te.DATA_LOSS;default:return be(39323,{code:i})}}(Ve=It||(It={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function lI(){return new TextEncoder}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const uI=new is([4294967295,4294967295],0);function k0(i){const e=lI().encode(i),n=new o1;return n.update(e),new Uint8Array(n.digest())}function E0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new is([n,s],0),new is([o,u],0)]}class xm{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new zl(`Invalid padding: ${n}`);if(s<0)throw new zl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new zl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=is.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(is.fromNumber(s)));return o.compare(uI)===1&&(o=new is([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=k0(e),[s,o]=E0(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,o,u);if(!this.we(d))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new xm(u,o,n);return s.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const n=k0(e),[s,o]=E0(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,o,u);this.be(d)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Jh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Jh(Ee.min(),o,new ct(Me),fi(),Le())}}class fu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new fu(s,n,Le(),Le(),Le())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ch{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class K1{constructor(e,n){this.targetId=e,this.Ce=n}}class G1{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class x0{constructor(){this.ve=0,this.Fe=T0(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),s=Le();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:be(38017,{changeType:u})}})),new fu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=T0()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,qe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class cI{constructor(e){this.Ge=e,this.ze=new Map,this.je=fi(),this.He=Yc(),this.Je=Yc(),this.Ze=new ct(Me)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Vp(u))if(s===0){const d=new ge(u.path);this.et(n,d,tn.newNoDocument(d,Ee.min()))}else qe(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const p=this.ut(e),m=p?this.ct(p,e,d):1;if(m!==0){this.it(n);const y=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let d,p;try{d=hs(s).toUint8Array()}catch(m){if(m instanceof b1)return fo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new xm(d,o,u)}catch(m){return fo(m instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.ge===0?null:p}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&Vp(p.target)){const m=new ge(p.target.path);this.It(m).has(d)||this.Et(d,m)||this.et(d,m,tn.newNoDocument(m,e))}u.Be&&(n.set(d,u.ke()),u.Ke())}}));let s=Le();this.Je.forEach(((u,d)=>{let p=!0;d.forEachWhile((m=>{const y=this.ot(m);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const o=new Jh(e,n,this.Ze,this.je,s);return this.je=fi(),this.He=Yc(),this.Je=Yc(),this.Ze=new ct(Me),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new x0,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Lt(Me),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Lt(Me),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new x0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Yc(){return new ct(ge.comparator)}function T0(){return new ct(ge.comparator)}const hI={asc:"ASCENDING",desc:"DESCENDING"},dI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fI={and:"AND",or:"OR"};class pI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Fp(i,e){return i.useProto3Json||$h(e)?e:{value:e}}function Ch(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Q1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function mI(i,e){return Ch(i,e.toTimestamp())}function Dr(i){return qe(!!i,49232),Ee.fromTimestamp((function(e){const n=cs(e);return new it(n.seconds,n.nanos)})(i))}function Tm(i,e){return Bp(i,e).canonicalString()}function Bp(i,e){const n=(function(s){return new rt(["projects",s.projectId,"databases",s.database])})(i).child("documents");return e===void 0?n:n.child(e)}function J1(i){const e=rt.fromString(i);return qe(tk(e),10190,{key:e.toString()}),e}function $p(i,e){return Tm(i.databaseId,e.path)}function yp(i,e){const n=J1(e);if(n.get(1)!==i.databaseId.projectId)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ge(Y1(n))}function X1(i,e){return Tm(i.databaseId,e)}function gI(i){const e=J1(i);return e.length===4?rt.emptyPath():Y1(e)}function qp(i){return new rt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Y1(i){return qe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function S0(i,e,n){return{name:$p(i,e),fields:n.value.mapValue.fields}}function yI(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:be(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(m,y){return m.useProto3Json?(qe(y===void 0||typeof y=="string",58123),Xt.fromBase64String(y||"")):(qe(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Xt.fromUint8Array(y||new Uint8Array))})(i,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(m){const y=m.code===void 0?te.UNKNOWN:W1(m.code);return new fe(y,m.message||"")})(d);n=new G1(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=yp(i,s.document.name),u=Dr(s.document.updateTime),d=s.document.createTime?Dr(s.document.createTime):Ee.min(),p=new Vn({mapValue:{fields:s.document.fields}}),m=tn.newFoundDocument(o,u,d,p),y=s.targetIds||[],k=s.removedTargetIds||[];n=new ch(y,k,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=yp(i,s.document),u=s.readTime?Dr(s.readTime):Ee.min(),d=tn.newNoDocument(o,u),p=s.removedTargetIds||[];n=new ch([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=yp(i,s.document),u=s.removedTargetIds||[];n=new ch([],u,o,null)}else{if(!("filter"in e))return be(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,d=new aI(o,u),p=s.targetId;n=new K1(p,d)}}return n}function vI(i,e){let n;if(e instanceof du)n={update:S0(i,e.key,e.value)};else if(e instanceof km)n={delete:$p(i,e.key)};else if(e instanceof oa)n={update:S0(i,e.key,e.data),updateMask:CI(e.fieldMask)};else{if(!(e instanceof rI))return be(16599,{dt:e.type});n={verify:$p(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(o,u){const d=u.transform;if(d instanceof Sh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof tu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof nu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof _h)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw be(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:mI(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:be(27497)})(i,e.precondition)),n}function bI(i,e){return i&&i.length>0?(qe(e!==void 0,14353),i.map((n=>(function(s,o){let u=s.updateTime?Dr(s.updateTime):Dr(o);return u.isEqual(Ee.min())&&(u=Dr(o)),new eI(u,s.transformResults||[])})(n,e)))):[]}function wI(i,e){return{documents:[X1(i,e.path)]}}function kI(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=X1(i,o);const u=(function(m){if(m.length!==0)return ek(Ur.create(m,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(m){if(m.length!==0)return m.map((y=>(function(k){return{field:no(k.field),direction:TI(k.dir)}})(y)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=Fp(i,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:o}}function EI(i){let e=gI(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){qe(s===1,65062);const k=n.from[0];k.allDescendants?o=k.collectionId:e=e.child(k.collectionId)}let u=[];n.where&&(u=(function(k){const E=Z1(k);return E instanceof Ur&&I1(E)?E.getFilters():[E]})(n.where));let d=[];n.orderBy&&(d=(function(k){return k.map((E=>(function(A){return new Th(ro(A.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(E)))})(n.orderBy));let p=null;n.limit&&(p=(function(k){let E;return E=typeof k=="object"?k.value:k,$h(E)?null:E})(n.limit));let m=null;n.startAt&&(m=(function(k){const E=!!k.before,A=k.values||[];return new xh(A,E)})(n.startAt));let y=null;return n.endAt&&(y=(function(k){const E=!k.before,A=k.values||[];return new xh(A,E)})(n.endAt)),VN(e,o,d,u,p,"F",m,y)}function xI(i,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Z1(i){return i.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=ro(e.unaryFilter.field);return Mt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=ro(e.unaryFilter.field);return Mt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ro(e.unaryFilter.field);return Mt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ro(e.unaryFilter.field);return Mt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(i):i.fieldFilter!==void 0?(function(e){return Mt.create(ro(e.fieldFilter.field),(function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(e){return Ur.create(e.compositeFilter.filters.map((n=>Z1(n))),(function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(e.compositeFilter.op))})(i):be(30097,{filter:i})}function TI(i){return hI[i]}function SI(i){return dI[i]}function _I(i){return fI[i]}function no(i){return{fieldPath:i.canonicalString()}}function ro(i){return Gt.fromServerFormat(i.fieldPath)}function ek(i){return i instanceof Mt?(function(e){if(e.op==="=="){if(d0(e.value))return{unaryFilter:{field:no(e.field),op:"IS_NAN"}};if(h0(e.value))return{unaryFilter:{field:no(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(d0(e.value))return{unaryFilter:{field:no(e.field),op:"IS_NOT_NAN"}};if(h0(e.value))return{unaryFilter:{field:no(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(e.field),op:SI(e.op),value:e.value}}})(i):i instanceof Ur?(function(e){const n=e.getFilters().map((s=>ek(s)));return n.length===1?n[0]:{compositeFilter:{op:_I(e.op),filters:n}}})(i):be(54877,{filter:i})}function CI(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function tk(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function nk(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ts{constructor(e,n,s,o,u=Ee.min(),d=Ee.min(),p=Xt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class NI{constructor(e){this.yt=e}}function II(i){const e=EI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?zp(e,e.limit,"L"):e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class AI{constructor(){this.Sn=new RI}addToCollectionParentIndex(e,n){return this.Sn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(us.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(us.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class RI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Lt(rt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Lt(rt.comparator)).toArray()}}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rk=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(rk,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class yo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new yo(0)}static ar(){return new yo(-1)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const C0="LruGarbageCollector",PI=1048576;function N0([i,e],[n,s]){const o=Me(i,n);return o===0?Me(e,s):o}class DI{constructor(e){this.Pr=e,this.buffer=new Lt(N0),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();N0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class OI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ue(C0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xo(n)?ue(C0,"Ignoring IndexedDB error during garbage collection: ",n):await Eo(n)}await this.Ar(3e5)}))}}class MI{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Bh.ce);const s=new DI(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(_0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_0):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,d,p,m,y;const k=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,d=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(s=E,p=Date.now(),this.removeTargets(e,s,n)))).next((E=>(u=E,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(y=Date.now(),eo()<=Oe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-k}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${u} targets in `+(m-p)+`ms
	Removed ${E} documents in `+(y-m)+`ms
Total Duration: ${y-k}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E}))))}}function LI(i,e){return new MI(i,e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jI{constructor(){this.changes=new aa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class UI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class VI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Hl(s.mutation,o,tr.empty(),it.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Le()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Le()){const o=Qs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let d=Vl();return u.forEach(((p,m)=>{d=d.insert(p,m.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const s=Qs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Le())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(e,n,s,o){let u=fi();const d=ql(),p=(function(){return ql()})();return n.forEach(((m,y)=>{const k=s.get(y.key);o.has(y.key)&&(k===void 0||k.mutation instanceof oa)?u=u.insert(y.key,y):k!==void 0?(d.set(y.key,k.mutation.getFieldMask()),Hl(k.mutation,y,k.mutation.getFieldMask(),it.now())):d.set(y.key,tr.empty())})),this.recalculateAndSaveOverlays(e,u).next((m=>(m.forEach(((y,k)=>d.set(y,k))),n.forEach(((y,k)=>p.set(y,new UI(k,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const s=ql();let o=new ct(((d,p)=>d-p)),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const p of d)p.keys().forEach((m=>{const y=n.get(m);if(y===null)return;let k=s.get(m)||tr.empty();k=p.applyToLocalView(y,k),s.set(m,k);const E=(o.get(p.batchId)||Le()).add(m);o=o.insert(p.batchId,E)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),y=m.key,k=m.value,E=U1();k.forEach((A=>{if(!u.has(A)){const $=q1(n.get(A),s.get(A));$!==null&&E.set(A,$),u=u.add(A)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,E))}return ee.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return zN(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):FN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(Qs());let p=Xl,m=u;return d.next((y=>ee.forEach(y,((k,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),u.get(k)?ee.resolve():this.remoteDocumentCache.getEntry(e,k).next((A=>{m=m.insert(k,A)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,m,y,Le()))).next((k=>({batchId:p,changes:j1(k)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((s=>{let o=Vl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let d=Vl();return this.indexManager.getCollectionParents(e,u).next((p=>ee.forEach(p,(m=>{const y=(function(k,E){return new Hh(E,null,k.explicitOrderBy.slice(),k.filters.slice(),k.limit,k.limitType,k.startAt,k.endAt)})(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((k=>{k.forEach(((E,A)=>{d=d.insert(E,A)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((d=>{u.forEach(((m,y)=>{const k=y.getKey();d.get(k)===null&&(d=d.insert(k,tn.newInvalidDocument(k)))}));let p=Vl();return d.forEach(((m,y)=>{const k=u.get(m);k!==void 0&&Hl(k.mutation,y,tr.empty(),it.now()),Kh(n,y)&&(p=p.insert(m,y))})),p}))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zI{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ee.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Dr(s.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(s){return{name:s.name,query:II(s.bundledQuery),readTime:Dr(s.readTime)}})(n)),ee.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class FI{constructor(){this.overlays=new ct(ge.comparator),this.Lr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Qs();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=Qs(),u=n.length+1,d=new ge(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const m=p.getNext().value,y=m.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ct(((y,k)=>y-k));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let k=u.get(y.largestBatchId);k===null&&(k=Qs(),u=u.insert(y.largestBatchId,k)),k.set(y.getKey(),y)}}const p=Qs(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((y,k)=>p.set(y,k))),!(p.size()>=o)););return ee.resolve(p)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new sI(n,s));let u=this.Lr.get(n);u===void 0&&(u=Le(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class BI{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Sm{constructor(){this.kr=new Lt(zt.Kr),this.qr=new Lt(zt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new zt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new ge(new rt([])),s=new zt(n,e),o=new zt(n,e+1),u=[];return this.qr.forEachInRange([s,o],(d=>{this.Wr(d),u.push(d.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ge(new rt([])),s=new zt(n,e),o=new zt(n,e+1);let u=Le();return this.qr.forEachInRange([s,o],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new zt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ge.comparator(e.key,n.key)||Me(e.Hr,n.Hr)}static Ur(e,n){return Me(e.Hr,n.Hr)||ge.comparator(e.key,n.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $I{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Lt(zt.Kr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new iI(u,n,s,o);this.mutationQueue.push(d);for(const p of o)this.Jr=this.Jr.add(new zt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ee.resolve(d)}lookupMutationBatch(e,n){return ee.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?mm:this.Yn-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(d=>{const p=this.Zr(d.Hr);u.push(p)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Lt(Me);return n.forEach((o=>{const u=new zt(o,0),d=new zt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,d],(p=>{s=s.add(p.Hr)}))})),ee.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const d=new zt(new ge(u),0);let p=new Lt(Me);return this.Jr.forEachWhile((m=>{const y=m.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(m.Hr)),!0)}),d),ee.resolve(this.Yr(p))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){qe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ee.forEach(n.mutations,(o=>{const u=new zt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new zt(n,0),o=this.Jr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qI{constructor(e){this.ti=e,this.docs=(function(){return new ct(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,d=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let s=fi();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))})),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=fi();const d=n.path,p=new ge(d.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:y,value:{document:k}}=m.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||gN(mN(k),s)<=0||(o.has(k.key)||Kh(n,k))&&(u=u.insert(k.key,k.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){be(9500)}ni(e,n){return ee.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new HI(this)}getSize(e){return ee.resolve(this.size)}}class HI extends jI{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ee.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class WI{constructor(e){this.persistence=e,this.ri=new aa((n=>vm(n)),bm),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.ii=0,this.si=new Sm,this.targetCount=0,this.oi=yo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ee.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new yo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.lr(n),ee.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.ri.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((d=>{u.push(o.markPotentiallyOrphaned(e,d))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this.si.containsKey(n))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ik{constructor(e,n){this._i={},this.overlays={},this.ai=new Bh(0),this.ui=!1,this.ui=!0,this.ci=new BI,this.referenceDelegate=e(this),this.li=new WI(this),this.indexManager=new AI,this.remoteDocumentCache=(function(s){return new qI(s)})((s=>this.referenceDelegate.hi(s))),this.serializer=new NI(n),this.Pi=new zI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new FI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new $I(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new KI(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ee.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class KI extends vN{constructor(e){super(),this.currentSequenceNumber=e}}class _m{constructor(e){this.persistence=e,this.Ri=new Sm,this.Ai=null}static Vi(e){return new _m(e)}get di(){if(this.Ai)return this.Ai;throw be(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.di,(s=>{const o=ge.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Ee.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Nh{constructor(e,n){this.persistence=e,this.fi=new aa((s=>kN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=LI(this,n)}static Vi(e,n){return new Nh(e,n)}Ti(){}Ii(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ee.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,n).next((p=>{p||(s++,u.removeEntry(d,Ee.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=oh(e.data.value)),n}wr(e,n,s){return ee.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Cm{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Cm(e,n.fromCache,s,o)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class GI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class QI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return U_()?8:bN(nn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new GI;return this.ys(e,n,d).next((p=>{if(u.result=p,this.As)return this.ws(e,n,d,p.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(eo()<=Oe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",to(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ee.resolve()):(eo()<=Oe.DEBUG&&ue("QueryEngine","Query:",to(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(eo()<=Oe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",to(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rr(n))):ee.resolve())}gs(e,n){if(g0(n))return ee.resolve(null);let s=Rr(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=zp(n,null,"F"),s=Rr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const d=Le(...u);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,s).next((m=>{const y=this.bs(n,p);return this.Ss(n,y,d,m.readTime)?this.gs(e,zp(n,null,"F")):this.Ds(e,y,n,m)}))))})))))}ps(e,n,s,o){return g0(n)||o.isEqual(Ee.min())?ee.resolve(null):this.fs.getDocuments(e,s).next((u=>{const d=this.bs(n,u);return this.Ss(n,d,s,o)?ee.resolve(null):(eo()<=Oe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),to(n)),this.Ds(e,d,n,pN(o,Xl)).next((p=>p)))}))}bs(e,n){let s=new Lt(M1(e));return n.forEach(((o,u)=>{Kh(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return eo()<=Oe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",to(n)),this.fs.getDocumentsMatchingQuery(e,n,us.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Nm="LocalStore",JI=3e8;class XI{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ct(Me),this.Fs=new aa((u=>vm(u)),bm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function YI(i,e,n,s){return new XI(i,e,n,s)}async function sk(i,e){const n=Te(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const d=[],p=[];let m=Le();for(const y of o){d.push(y.batchId);for(const k of y.mutations)m=m.add(k.key)}for(const y of u){p.push(y.batchId);for(const k of y.mutations)m=m.add(k.key)}return n.localDocuments.getDocuments(s,m).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function ZI(i,e){const n=Te(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,p,m,y){const k=m.batch,E=k.keys();let A=ee.resolve();return E.forEach(($=>{A=A.next((()=>y.getEntry(p,$))).next((F=>{const K=m.docVersions.get($);qe(K!==null,48541),F.version.compareTo(K)<0&&(k.applyToRemoteDocument(F,m),F.isValidDocument()&&(F.setReadTime(m.commitVersion),y.addEntry(F)))}))})),A.next((()=>d.mutationQueue.removeMutationBatch(p,k)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let p=Le();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(p=p.add(d.batch.mutations[m].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function ak(i){const e=Te(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function eA(i,e){const n=Te(i),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const p=[];e.targetChanges.forEach(((k,E)=>{const A=o.get(E);if(!A)return;p.push(n.li.removeMatchingKeys(u,k.removedDocuments,E).next((()=>n.li.addMatchingKeys(u,k.addedDocuments,E))));let $=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?$=$.withResumeToken(Xt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):k.resumeToken.approximateByteSize()>0&&($=$.withResumeToken(k.resumeToken,s)),o=o.insert(E,$),(function(F,K,G){return F.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=JI?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0})(A,$,k)&&p.push(n.li.updateTargetData(u,$))}));let m=fi(),y=Le();if(e.documentUpdates.forEach((k=>{e.resolvedLimboDocuments.has(k)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,k))})),p.push(tA(u,d,e.documentUpdates).next((k=>{m=k.Bs,y=k.Ls}))),!s.isEqual(Ee.min())){const k=n.li.getLastRemoteSnapshotVersion(u).next((E=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(k)}return ee.waitFor(p).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,m,y))).next((()=>m))})).then((u=>(n.vs=o,u)))}function tA(i,e,n){let s=Le(),o=Le();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let d=fi();return n.forEach(((p,m)=>{const y=u.get(p);m.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(Ee.min())?(e.removeEntry(p,m.readTime),d=d.insert(p,m)):!y.isValidDocument()||m.version.compareTo(y.version)>0||m.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(m),d=d.insert(p,m)):ue(Nm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",m.version)})),{Bs:d,Ls:o}}))}function nA(i,e){const n=Te(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=mm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function rA(i,e){const n=Te(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,ee.resolve(o)):n.li.allocateTargetId(s).next((d=>(o=new ts(e,d,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Hp(i,e,n){const s=Te(i),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!xo(d))throw d;ue(Nm,`Failed to update sequence numbers for target ${e}: ${d}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function I0(i,e,n){const s=Te(i);let o=Ee.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,m,y){const k=Te(p),E=k.Fs.get(y);return E!==void 0?ee.resolve(k.vs.get(E)):k.li.getTargetData(m,y)})(s,d,Rr(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,p.targetId).next((m=>{u=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,e,n?o:Ee.min(),n?u:Le()))).next((p=>(iA(s,$N(e),p),{documents:p,ks:u})))))}function iA(i,e,n){let s=i.Ms.get(e)||Ee.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Ms.set(e,s)}class A0{constructor(){this.activeTargetIds=QN()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sA{constructor(){this.vo=new A0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new A0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class aA{Mo(e){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const R0="ConnectivityMonitor";class P0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ue(R0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ue(R0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Zc=null;function Wp(){return Zc===null?Zc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zc++,"0x"+Zc.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const vp="RestConnection",oA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class lA{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===kh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const d=Wp(),p=this.Qo(e,n.toUriEncodedString());ue(vp,`Sending RPC '${e}' ${d}:`,p,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,o,u);const{host:y}=new URL(p),k=ms(y);return this.zo(e,p,m,s,k).then((E=>(ue(vp,`Received RPC '${e}' ${d}: `,E),E)),(E=>{throw fo(vp,`RPC '${e}' ${d} failed with error: `,E,"url: ",p,"request:",s),E}))}jo(e,n,s,o,u,d){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ko})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=oA[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uA{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Zt="WebChannelConnection",Ol=(i,e,n)=>{i.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class so extends lA{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!so.c_){const e=h1();Ol(e,c1.STAT_EVENT,(n=>{n.stat===Op.PROXY?ue(Zt,"STAT_EVENT: detected buffering proxy"):n.stat===Op.NOPROXY&&ue(Zt,"STAT_EVENT: detected no buffering proxy")})),so.c_=!0}}zo(e,n,s,o,u){const d=Wp();return new Promise(((p,m)=>{const y=new l1;y.setWithCredentials(!0),y.listenOnce(u1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case ah.NO_ERROR:const E=y.getResponseJson();ue(Zt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(E)),p(E);break;case ah.TIMEOUT:ue(Zt,`RPC '${e}' ${d} timed out`),m(new fe(te.DEADLINE_EXCEEDED,"Request time out"));break;case ah.HTTP_ERROR:const A=y.getStatus();if(ue(Zt,`RPC '${e}' ${d} failed with status:`,A,"response text:",y.getResponseText()),A>0){let $=y.getResponseJson();Array.isArray($)&&($=$[0]);const F=$==null?void 0:$.error;if(F&&F.status&&F.message){const K=(function(G){const ne=G.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(ne)>=0?ne:te.UNKNOWN})(F.status);m(new fe(K,F.message))}else m(new fe(te.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new fe(te.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ue(Zt,`RPC '${e}' ${d} completed.`)}}));const k=JSON.stringify(o);ue(Zt,`RPC '${e}' ${d} sending request:`,o),y.send(n,"POST",k,s,15)}))}T_(e,n,s){const o=Wp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const y=u.join("");ue(Zt,`Creating RPC '${e}' stream ${o}: ${y}`,p);const k=d.createWebChannel(y,p);this.I_(k);let E=!1,A=!1;const $=new uA({Ho:F=>{A?ue(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(E||(ue(Zt,`Opening RPC '${e}' stream ${o} transport.`),k.open(),E=!0),ue(Zt,`RPC '${e}' stream ${o} sending:`,F),k.send(F))},Jo:()=>k.close()});return Ol(k,Ul.EventType.OPEN,(()=>{A||(ue(Zt,`RPC '${e}' stream ${o} transport opened.`),$.i_())})),Ol(k,Ul.EventType.CLOSE,(()=>{A||(A=!0,ue(Zt,`RPC '${e}' stream ${o} transport closed`),$.o_(),this.E_(k))})),Ol(k,Ul.EventType.ERROR,(F=>{A||(A=!0,fo(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),$.o_(new fe(te.UNAVAILABLE,"The operation could not be completed")))})),Ol(k,Ul.EventType.MESSAGE,(F=>{var K;if(!A){const G=F.data[0];qe(!!G,16349);const ne=G,re=(ne==null?void 0:ne.error)||((K=ne[0])==null?void 0:K.error);if(re){ue(Zt,`RPC '${e}' stream ${o} received error:`,re);const W=re.status;let le=(function(ie){const _=It[ie];if(_!==void 0)return W1(_)})(W),we=re.message;le===void 0&&(le=te.INTERNAL,we="Unknown error status: "+W+" with message "+re.message),A=!0,$.o_(new fe(le,we)),k.close()}else ue(Zt,`RPC '${e}' stream ${o} received:`,G),$.__(G)}})),so.u_(),setTimeout((()=>{$.s_()}),0),$}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return d1()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function cA(i){return new so(i)}function bp(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Xh(i){return new pI(i,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/so.c_=!1;class ok{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const D0="PersistentStream";class lk{constructor(e,n,s,o,u,d,p,m){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ok(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(di(n.toString()),di("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new fe(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(D0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ue(D0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hA extends lk{constructor(e,n,s,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=yI(this.serializer,e),s=(function(o){if(!("targetChange"in o))return Ee.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ee.min():u.readTime?Dr(u.readTime):Ee.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=qp(this.serializer),n.addTarget=(function(o,u){let d;const p=u.target;if(d=Vp(p)?{documents:wI(o,p)}:{query:kI(o,p).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=Q1(o,u.resumeToken);const m=Fp(o,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ee.min())>0){d.readTime=Ch(o,u.snapshotVersion.toTimestamp());const m=Fp(o,u.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const s=xI(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=qp(this.serializer),n.removeTarget=e,this.K_(n)}}class dA extends lk{constructor(e,n,s,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,d),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=bI(e.writeResults,e.commitTime),s=Dr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=qp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>vI(this.serializer,s)))};this.K_(n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fA{}class pA extends fA{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Wo(e,Bp(n,s),o,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(te.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,Bp(n,s),o,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new fe(te.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function mA(i,e,n,s){return new pA(i,e,n,s)}class gA{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(di(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ea="RemoteStore";class yA{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{la(this)&&(ue(ea,"Restarting streams for network reachability change."),await(async function(p){const m=Te(p);m.Ea.add(4),await pu(m),m.Va.set("Unknown"),m.Ea.delete(4),await Yh(m)})(this))}))})),this.Va=new gA(s,o)}}async function Yh(i){if(la(i))for(const e of i.Ra)await e(!0)}async function pu(i){for(const e of i.Ra)await e(!1)}function uk(i,e){const n=Te(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Pm(n)?Rm(n):To(n).O_()&&Am(n,e))}function Im(i,e){const n=Te(i),s=To(n);n.Ia.delete(e),s.O_()&&ck(n,e),n.Ia.size===0&&(s.O_()?s.L_():la(n)&&n.Va.set("Unknown"))}function Am(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}To(i).Z_(e)}function ck(i,e){i.da.$e(e),To(i).X_(e)}function Rm(i){i.da=new cI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),To(i).start(),i.Va.ua()}function Pm(i){return la(i)&&!To(i).x_()&&i.Ia.size>0}function la(i){return Te(i).Ea.size===0}function hk(i){i.da=void 0}async function vA(i){i.Va.set("Online")}async function bA(i){i.Ia.forEach(((e,n)=>{Am(i,e)}))}async function wA(i,e){hk(i),Pm(i)?(i.Va.ha(e),Rm(i)):i.Va.set("Unknown")}async function kA(i,e,n){if(i.Va.set("Online"),e instanceof G1&&e.state===2&&e.cause)try{await(async function(s,o){const u=o.cause;for(const d of o.targetIds)s.Ia.has(d)&&(await s.remoteSyncer.rejectListen(d,u),s.Ia.delete(d),s.da.removeTarget(d))})(i,e)}catch(s){ue(ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ih(i,s)}else if(e instanceof ch?i.da.Xe(e):e instanceof K1?i.da.st(e):i.da.tt(e),!n.isEqual(Ee.min()))try{const s=await ak(i.localStore);n.compareTo(s)>=0&&await(function(o,u){const d=o.da.Tt(u);return d.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const y=o.Ia.get(m);y&&o.Ia.set(m,y.withResumeToken(p.resumeToken,u))}})),d.targetMismatches.forEach(((p,m)=>{const y=o.Ia.get(p);if(!y)return;o.Ia.set(p,y.withResumeToken(Xt.EMPTY_BYTE_STRING,y.snapshotVersion)),ck(o,p);const k=new ts(y.target,p,m,y.sequenceNumber);Am(o,k)})),o.remoteSyncer.applyRemoteEvent(d)})(i,n)}catch(s){ue(ea,"Failed to raise snapshot:",s),await Ih(i,s)}}async function Ih(i,e,n){if(!xo(e))throw e;i.Ea.add(1),await pu(i),i.Va.set("Offline"),n||(n=()=>ak(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ue(ea,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Yh(i)}))}function dk(i,e){return e().catch((n=>Ih(i,n,e)))}async function Zh(i){const e=Te(i),n=fs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:mm;for(;EA(e);)try{const o=await nA(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,xA(e,o)}catch(o){await Ih(e,o)}fk(e)&&pk(e)}function EA(i){return la(i)&&i.Ta.length<10}function xA(i,e){i.Ta.push(e);const n=fs(i);n.O_()&&n.Y_&&n.ea(e.mutations)}function fk(i){return la(i)&&!fs(i).x_()&&i.Ta.length>0}function pk(i){fs(i).start()}async function TA(i){fs(i).ra()}async function SA(i){const e=fs(i);for(const n of i.Ta)e.ea(n.mutations)}async function _A(i,e,n){const s=i.Ta.shift(),o=Em.from(s,e,n);await dk(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Zh(i)}async function CA(i,e){e&&fs(i).Y_&&await(async function(n,s){if((function(o){return oI(o)&&o!==te.ABORTED})(s.code)){const o=n.Ta.shift();fs(n).B_(),await dk(n,(()=>n.remoteSyncer.rejectFailedWrite(o.batchId,s))),await Zh(n)}})(i,e),fk(i)&&pk(i)}async function O0(i,e){const n=Te(i);n.asyncQueue.verifyOperationInProgress(),ue(ea,"RemoteStore received new credentials");const s=la(n);n.Ea.add(3),await pu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Yh(n)}async function NA(i,e){const n=Te(i);e?(n.Ea.delete(2),await Yh(n)):e||(n.Ea.add(2),await pu(n),n.Va.set("Unknown"))}function To(i){return i.ma||(i.ma=(function(e,n,s){const o=Te(e);return o.sa(),new hA(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(i.datastore,i.asyncQueue,{Zo:vA.bind(null,i),Yo:bA.bind(null,i),t_:wA.bind(null,i),J_:kA.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),Pm(i)?Rm(i):i.Va.set("Unknown")):(await i.ma.stop(),hk(i))}))),i.ma}function fs(i){return i.fa||(i.fa=(function(e,n,s){const o=Te(e);return o.sa(),new dA(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:TA.bind(null,i),t_:CA.bind(null,i),ta:SA.bind(null,i),na:_A.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await Zh(i)):(await i.fa.stop(),i.Ta.length>0&&(ue(ea,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Dm{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const d=Date.now()+s,p=new Dm(e,n,d,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Om(i,e){if(di("AsyncQueue",`${e}: ${i}`),xo(i))return new fe(te.UNAVAILABLE,`${e}: ${i}`);throw i}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ao{static emptySet(e){return new ao(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Vl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ao)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ao;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class M0{constructor(){this.ga=new ct(ge.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class vo{constructor(e,n,s,o,u,d,p,m,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new vo(e,n,ao.emptySet(n),d,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class IA{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class AA{constructor(){this.queries=L0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,n){const s=Te(e),o=s.queries;s.queries=L0(),o.forEach(((u,d)=>{for(const p of d.ba)p.onError(n)}))})(this,new fe(te.ABORTED,"Firestore shutting down"))}}function L0(){return new aa((i=>O1(i)),Wh)}async function RA(i,e){const n=Te(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new IA,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const p=Om(d,`Initialization of query '${to(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Mm(n)}async function PA(i,e){const n=Te(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const d=u.ba.indexOf(e);d>=0&&(u.ba.splice(d,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function DA(i,e){const n=Te(i);let s=!1;for(const o of e){const u=o.query,d=n.queries.get(u);if(d){for(const p of d.ba)p.Fa(o)&&(s=!0);d.wa=o}}s&&Mm(n)}function OA(i,e,n){const s=Te(i),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function Mm(i){i.Ca.forEach((e=>{e.next()}))}var Kp,j0;(j0=Kp||(Kp={})).Ma="default",j0.Cache="cache";class MA{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new vo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Kp.Cache}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mk{constructor(e){this.key=e}}class gk{constructor(e){this.key=e}}class LA{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Le(),this.mutatedKeys=Le(),this.eu=M1(e),this.tu=new ao(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new M0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((k,E)=>{const A=o.get(k),$=Kh(this.query,E)?E:null,F=!!A&&this.mutatedKeys.has(A.key),K=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let G=!1;A&&$?A.data.isEqual($.data)?F!==K&&(s.track({type:3,doc:$}),G=!0):this.su(A,$)||(s.track({type:2,doc:$}),G=!0,(m&&this.eu($,m)>0||y&&this.eu($,y)<0)&&(p=!0)):!A&&$?(s.track({type:0,doc:$}),G=!0):A&&!$&&(s.track({type:1,doc:A}),G=!0,(m||y)&&(p=!0)),G&&($?(d=d.add($),u=K?u.add(k):u.delete(k)):(d=d.delete(k),u=u.delete(k)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const k=this.query.limitType==="F"?d.last():d.first();d=d.delete(k.key),u=u.delete(k.key),s.track({type:1,doc:k})}return{tu:d,iu:s,Ss:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((k,E)=>(function(A,$){const F=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Vt:K})}};return F(A)-F($)})(k.type,E.type)||this.eu(k.doc,E.doc))),this.ou(s),o=o??!1;const p=n&&!o?this._u():[],m=this.Ya.size===0&&this.current&&!o?1:0,y=m!==this.Xa;return this.Xa=m,d.length!==0||y?{snapshot:new vo(this.query,e.tu,u,d,e.mutatedKeys,m===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new M0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Le(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new gk(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new mk(s))})),n}cu(e){this.Za=e.ks,this.Ya=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Lm="SyncEngine";class jA{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class UA{constructor(e){this.key=e,this.hu=!1}}class VA{constructor(e,n,s,o,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new aa((p=>O1(p)),Wh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ct(ge.comparator),this.Au=new Map,this.Vu=new Sm,this.du={},this.mu=new Map,this.fu=yo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zA(i,e,n=!0){const s=Ek(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await yk(s,e,n,!0),o}async function FA(i,e){const n=Ek(i);await yk(n,e,!0,!1)}async function yk(i,e,n,s){const o=await rA(i.localStore,Rr(e)),u=o.targetId,d=i.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await BA(i,e,u,d==="current",o.resumeToken)),i.isPrimaryClient&&n&&uk(i.remoteStore,o),p}async function BA(i,e,n,s,o){i.pu=(E,A,$)=>(async function(F,K,G,ne){let re=K.view.ru(G);re.Ss&&(re=await I0(F.localStore,K.query,!1).then((({documents:ie})=>K.view.ru(ie,re))));const W=ne&&ne.targetChanges.get(K.targetId),le=ne&&ne.targetMismatches.get(K.targetId)!=null,we=K.view.applyChanges(re,F.isPrimaryClient,W,le);return V0(F,K.targetId,we.au),we.snapshot})(i,E,A,$);const u=await I0(i.localStore,e,!0),d=new LA(e,u.ks),p=d.ru(u.documents),m=fu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),y=d.applyChanges(p,i.isPrimaryClient,m);V0(i,n,y.au);const k=new jA(e,n,d);return i.Tu.set(e,k),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),y.snapshot}async function $A(i,e,n){const s=Te(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((d=>!Wh(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Hp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Im(s.remoteStore,o.targetId),Gp(s,o.targetId)})).catch(Eo)):(Gp(s,o.targetId),await Hp(s.localStore,o.targetId,!0))}async function qA(i,e){const n=Te(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Im(n.remoteStore,s.targetId))}async function HA(i,e,n){const s=YA(i);try{const o=await(function(u,d){const p=Te(u),m=it.now(),y=d.reduce(((A,$)=>A.add($.key)),Le());let k,E;return p.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let $=fi(),F=Le();return p.xs.getEntries(A,y).next((K=>{$=K,$.forEach(((G,ne)=>{ne.isValidDocument()||(F=F.add(G))}))})).next((()=>p.localDocuments.getOverlayedDocuments(A,$))).next((K=>{k=K;const G=[];for(const ne of d){const re=nI(ne,k.get(ne.key).overlayedDocument);re!=null&&G.push(new oa(ne.key,re,_1(re.value.mapValue),Pr.exists(!0)))}return p.mutationQueue.addMutationBatch(A,m,G,d)})).next((K=>{E=K;const G=K.applyToLocalDocumentSet(k,F);return p.documentOverlayCache.saveOverlays(A,K.batchId,G)}))})).then((()=>({batchId:E.batchId,changes:j1(k)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(u,d,p){let m=u.du[u.currentUser.toKey()];m||(m=new ct(Me)),m=m.insert(d,p),u.du[u.currentUser.toKey()]=m})(s,o.batchId,n),await mu(s,o.changes),await Zh(s.remoteStore)}catch(o){const u=Om(o,"Failed to persist write");n.reject(u)}}async function vk(i,e){const n=Te(i);try{const s=await eA(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const d=n.Au.get(u);d&&(qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?qe(d.hu,14607):o.removedDocuments.size>0&&(qe(d.hu,42227),d.hu=!1))})),await mu(n,s,e)}catch(s){await Eo(s)}}function U0(i,e,n){const s=Te(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(u,d){const p=Te(u);p.onlineState=d;let m=!1;p.queries.forEach(((y,k)=>{for(const E of k.ba)E.va(d)&&(m=!0)})),m&&Mm(p)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function WA(i,e,n){const s=Te(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let d=new ct(ge.comparator);d=d.insert(u,tn.newNoDocument(u,Ee.min()));const p=Le().add(u),m=new Jh(Ee.min(),new Map,new ct(Me),d,p);await vk(s,m),s.Ru=s.Ru.remove(u),s.Au.delete(e),jm(s)}else await Hp(s.localStore,e,!1).then((()=>Gp(s,e,n))).catch(Eo)}async function KA(i,e){const n=Te(i),s=e.batch.batchId;try{const o=await ZI(n.localStore,e);wk(n,s,null),bk(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await mu(n,o)}catch(o){await Eo(o)}}async function GA(i,e,n){const s=Te(i);try{const o=await(function(u,d){const p=Te(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return p.mutationQueue.lookupMutationBatch(m,d).next((k=>(qe(k!==null,37113),y=k.keys(),p.mutationQueue.removeMutationBatch(m,k)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,y,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>p.localDocuments.getDocuments(m,y)))}))})(s.localStore,e);wk(s,e,n),bk(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await mu(s,o)}catch(o){await Eo(o)}}function bk(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function wk(i,e,n){const s=Te(i);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Gp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((s=>{i.Vu.containsKey(s)||kk(i,s)}))}function kk(i,e){i.Eu.delete(e.path.canonicalString());const n=i.Ru.get(e);n!==null&&(Im(i.remoteStore,n),i.Ru=i.Ru.remove(e),i.Au.delete(n),jm(i))}function V0(i,e,n){for(const s of n)s instanceof mk?(i.Vu.addReference(s.key,e),QA(i,s)):s instanceof gk?(ue(Lm,"Document no longer in limbo: "+s.key),i.Vu.removeReference(s.key,e),i.Vu.containsKey(s.key)||kk(i,s.key)):be(19791,{wu:s})}function QA(i,e){const n=e.key,s=n.path.canonicalString();i.Ru.get(n)||i.Eu.has(s)||(ue(Lm,"New document in limbo: "+n),i.Eu.add(s),jm(i))}function jm(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ge(rt.fromString(e)),s=i.fu.next();i.Au.set(s,new UA(n)),i.Ru=i.Ru.insert(n,s),uk(i.remoteStore,new ts(Rr(D1(n.path)),s,"TargetPurposeLimboResolution",Bh.ce))}}async function mu(i,e,n){const s=Te(i),o=[],u=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,m)=>{d.push(s.pu(m,e,n).then((y=>{var k;if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:(k=n==null?void 0:n.targetChanges.get(m.targetId))==null?void 0:k.current;s.sharedClientState.updateQueryState(m.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Cm.Es(m.targetId,y);u.push(E)}})))})),await Promise.all(d),s.Pu.J_(o),await(async function(p,m){const y=Te(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(k=>ee.forEach(m,(E=>ee.forEach(E.Ts,(A=>y.persistence.referenceDelegate.addReference(k,E.targetId,A))).next((()=>ee.forEach(E.Is,(A=>y.persistence.referenceDelegate.removeReference(k,E.targetId,A)))))))))}catch(k){if(!xo(k))throw k;ue(Nm,"Failed to update sequence numbers: "+k)}for(const k of m){const E=k.targetId;if(!k.fromCache){const A=y.vs.get(E),$=A.snapshotVersion,F=A.withLastLimboFreeSnapshotVersion($);y.vs=y.vs.insert(E,F)}}})(s.localStore,u))}async function JA(i,e){const n=Te(i);if(!n.currentUser.isEqual(e)){ue(Lm,"User change. New user:",e.toKey());const s=await sk(n.localStore,e);n.currentUser=e,(function(o,u){o.mu.forEach((d=>{d.forEach((p=>{p.reject(new fe(te.CANCELLED,u))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await mu(n,s.Ns)}}function XA(i,e){const n=Te(i),s=n.Au.get(e);if(s&&s.hu)return Le().add(s.key);{let o=Le();const u=n.Iu.get(e);if(!u)return o;for(const d of u){const p=n.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function Ek(i){const e=Te(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=vk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WA.bind(null,e),e.Pu.J_=DA.bind(null,e.eventManager),e.Pu.yu=OA.bind(null,e.eventManager),e}function YA(i){const e=Te(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GA.bind(null,e),e}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return YI(this.persistence,new QI,e.initialUser,this.serializer)}Cu(e){return new ik(_m.Vi,this.serializer)}Du(e){return new sA}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class ZA extends Ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){qe(this.persistence.referenceDelegate instanceof Nh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new OI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new ik((s=>Nh.Vi(s,n)),this.serializer)}}class Qp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>U0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=JA.bind(null,this.syncEngine),await NA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new AA})()}createDatastore(e){const n=Xh(e.databaseInfo.databaseId),s=cA(e.databaseInfo);return mA(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(n,s,o,u,d){return new yA(n,s,o,u,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>U0(this.syncEngine,n,0)),(function(){return P0.v()?new P0:new aA})())}createSyncEngine(e,n){return(function(s,o,u,d,p,m,y){const k=new VA(s,o,u,d,p,m);return y&&(k.gu=!0),k})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(s){const o=Te(s);ue(ea,"RemoteStore shutting down."),o.Ea.add(5),await pu(o),o.Aa.shutdown(),o.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Qp.provider={build:()=>new Qp};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class e4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):di("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ps="FirestoreClient";class t4{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=fm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async d=>{ue(ps,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ue(ps,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Om(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function wp(i,e){i.asyncQueue.verifyOperationInProgress(),ue(ps,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await sk(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function z0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await n4(i);ue(ps,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>O0(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>O0(e.remoteStore,o))),i._onlineComponents=e}async function n4(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(ps,"Using user provided OfflineComponentProvider");try{await wp(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===te.FAILED_PRECONDITION||s.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),await wp(i,new Ah)}}else ue(ps,"Using default OfflineComponentProvider"),await wp(i,new ZA(void 0));return i._offlineComponents}async function xk(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(ps,"Using user provided OnlineComponentProvider"),await z0(i,i._uninitializedComponentsProvider._online)):(ue(ps,"Using default OnlineComponentProvider"),await z0(i,new Qp))),i._onlineComponents}function r4(i){return xk(i).then((e=>e.syncEngine))}async function i4(i){const e=await xk(i),n=e.eventManager;return n.onListen=zA.bind(null,e.syncEngine),n.onUnlisten=$A.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FA.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=qA.bind(null,e.syncEngine),n}function s4(i,e,n={}){const s=new ss;return i.asyncQueue.enqueueAndForget((async()=>(function(o,u,d,p,m){const y=new e4({next:E=>{y.Nu(),u.enqueueAndForget((()=>PA(o,k))),E.fromCache&&p.source==="server"?m.reject(new fe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),k=new MA(d,y,{includeMetadataChanges:!0,Ka:!0});return RA(o,k)})(await i4(i),i.asyncQueue,e,n,s))),s.promise}function a4(i,e){const n=new ss;return i.asyncQueue.enqueueAndForget((async()=>HA(await r4(i),e,n))),n.promise}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Tk(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const o4="ComponentProvider",F0=new Map;function l4(i,e,n,s,o){return new TN(i,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,Tk(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Sk="firestore.googleapis.com",B0=!0;class $0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Sk,this.ssl=B0}else this.host=e.host,this.ssl=e.ssl??B0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PI)throw new fe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Tk(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,s){return n.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ed{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new rN;switch(n.type){case"firstParty":return new oN(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new fe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const n=F0.get(e);n&&(ue(o4,"Removing Datastore"),F0.delete(e),n.terminate())})(this),Promise.resolve()}}function u4(i,e,n,s={}){var o;i=Jl(i,ed);const u=ms(e),d=i._getSettings(),p={...d,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;u&&(om(`https://${m}`),lm("Firestore",!0)),d.host!==Sk&&d.host!==m&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...d,host:m,ssl:u,emulatorOptions:s};if(!Xs(y,p)&&(i._setSettings(y),s.mockUserToken)){let k,E;if(typeof s.mockUserToken=="string")k=s.mockUserToken,E=en.MOCK_USER;else{k=t1(s.mockUserToken,(o=i._app)==null?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new fe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new en(A)}i._authCredentials=new iN(new p1(k,E))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class td{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new td(this.firestore,e,this._query)}}class Qt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new as(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}toJSON(){return{type:Qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(hu(n,Qt._jsonSchema))return new Qt(e,s||null,new ge(rt.fromString(n.referencePath)))}}Qt._jsonSchemaVersion="firestore/documentReference/1.0",Qt._jsonSchema={type:At("string",Qt._jsonSchemaVersion),referencePath:At("string")};class as extends td{constructor(e,n,s){super(e,n,D1(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new ge(e))}withConverter(e){return new as(this.firestore,e,this._path)}}function Jp(i,e,...n){if(i=Jt(i),m1("collection","path",e),i instanceof ed){const s=rt.fromString(e,...n);return r0(s),new as(i,null,s)}{if(!(i instanceof Qt||i instanceof as))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(rt.fromString(e,...n));return r0(s),new as(i.firestore,null,s)}}function _k(i,e,...n){if(i=Jt(i),arguments.length===1&&(e=fm.newId()),m1("doc","path",e),i instanceof ed){const s=rt.fromString(e,...n);return n0(s),new Qt(i,null,new ge(s))}{if(!(i instanceof Qt||i instanceof as))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(rt.fromString(e,...n));return n0(s),new Qt(i.firestore,i instanceof as?i.converter:null,new ge(s))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const q0="AsyncQueue";class H0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ok(this,"async_queue_retry"),this._c=()=>{const s=bp();s&&ue(q0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=bp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=bp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ss;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!xo(e))throw e;ue(q0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,di("INTERNAL UNHANDLED ERROR: ",W0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Dm.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:W0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function W0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class nd extends ed{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new H0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new H0(e),this._firestoreClient=void 0,await e}}}function c4(i,e){const n=typeof i=="object"?i:hm(),s=typeof i=="string"?i:kh,o=Fh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Yw("firestore");u&&u4(o,...u)}return o}function Ck(i){if(i._terminated)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||h4(i),i._firestoreClient}function h4(i){var e,n,s,o;const u=i._freezeSettings(),d=l4(i._databaseId,((e=i._app)==null?void 0:e.options.appId)||"",i._persistenceKey,(n=i._app)==null?void 0:n.options.apiKey,u);i._componentsProvider||(s=u.localCache)!=null&&s._offlineComponentProvider&&(o=u.localCache)!=null&&o._onlineComponentProvider&&(i._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),i._firestoreClient=new t4(i._authCredentials,i._appCheckCredentials,i._queue,d,i._componentsProvider&&(function(p){const m=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(m),_online:m}})(i._componentsProvider))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Xt.fromBase64String(e))}catch(n){throw new fe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hu(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:At("string",zn._jsonSchemaVersion),bytes:At("string")};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Nk{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ik{constructor(e){this._methodName=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Or{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Or._jsonSchemaVersion}}static fromJSON(e){if(hu(e,Or._jsonSchema))return new Or(e.latitude,e.longitude)}}Or._jsonSchemaVersion="firestore/geoPoint/1.0",Or._jsonSchema={type:At("string",Or._jsonSchemaVersion),latitude:At("number"),longitude:At("number")};/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,s){if(n.length!==s.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:rr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hu(e,rr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new rr(e.vectorValues);throw new fe(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rr._jsonSchemaVersion="firestore/vectorValue/1.0",rr._jsonSchema={type:At("string",rr._jsonSchemaVersion),vectorValues:At("object")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const d4=/^__.*__$/;class f4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new oa(e,this.data,this.fieldMask,n,this.fieldTransforms):new du(e,this.data,n,this.fieldTransforms)}}function Ak(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{dataSource:i})}}class Um{constructor(e,n,s,o,u,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Um({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var n;const s=(n=this.path)==null?void 0:n.child(e),o=this.contextWith({path:s,arrayElement:!1});return o.validatePathSegment(e),o}childContextForFieldPath(e){var n;const s=(n=this.path)==null?void 0:n.child(e),o=this.contextWith({path:s,arrayElement:!1});return o.validatePath(),o}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Rh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Ak(this.dataSource)&&d4.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class p4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Xh(e)}createContext(e,n,s,o=!1){return new Um({dataSource:e,methodName:n,targetDoc:s,path:Gt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function m4(i){const e=i._freezeSettings(),n=Xh(i._databaseId);return new p4(i._databaseId,!!e.ignoreUndefinedProperties,n)}function g4(i,e,n,s,o,u={}){const d=i.createContext(u.merge||u.mergeFields?2:0,e,n,o);Ok("Data must be an object, but it was:",d,s);const p=Pk(s,d);let m,y;if(u.merge)m=new tr(d.fieldMask),y=d.fieldTransforms;else if(u.mergeFields){const k=[];for(const E of u.mergeFields){const A=Vm(e,E,n);if(!d.contains(A))throw new fe(te.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);b4(k,A)||k.push(A)}m=new tr(k),y=d.fieldTransforms.filter((E=>m.covers(E.field)))}else m=null,y=d.fieldTransforms;return new f4(new Vn(p),m,y)}function Rk(i,e){if(Dk(i=Jt(i)))return Ok("Unsupported field value:",e,i),Pk(i,e);if(i instanceof Ik)return(function(n,s){if(!Ak(s.dataSource))throw s.createError(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(n,s){const o=[];let u=0;for(const d of n){let p=Rk(d,s.childContextForArray(u));p==null&&(p={nullValue:"NULL_VALUE"}),o.push(p),u++}return{arrayValue:{values:o}}})(i,e)}return(function(n,s){if((n=Jt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return JN(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=it.fromDate(n);return{timestampValue:Ch(s.serializer,o)}}if(n instanceof it){const o=new it(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ch(s.serializer,o)}}if(n instanceof Or)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof zn)return{bytesValue:Q1(s.serializer,n._byteString)};if(n instanceof Qt){const o=s.databaseId,u=n.firestore._databaseId;if(!u.isEqual(o))throw s.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Tm(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof rr)return(function(o,u){const d=o instanceof rr?o.toArray():o;return{mapValue:{fields:{[T1]:{stringValue:S1},[Eh]:{arrayValue:{values:d.map((p=>{if(typeof p!="number")throw u.createError("VectorValues must only contain numeric values.");return wm(u.serializer,p)}))}}}}}})(n,s);if(nk(n))return n._toProto(s.serializer);throw s.createError(`Unsupported field value: ${pm(n)}`)})(i,e)}function Pk(i,e){const n={};return v1(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sa(i,((s,o)=>{const u=Rk(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function Dk(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof it||i instanceof Or||i instanceof zn||i instanceof Qt||i instanceof Ik||i instanceof rr||nk(i))}function Ok(i,e,n){if(!Dk(n)||!g1(n)){const s=pm(n);throw s==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+s)}}function Vm(i,e,n){if((e=Jt(e))instanceof Nk)return e._internalPath;if(typeof e=="string")return v4(i,e);throw Rh("Field path arguments must be of type string or ",i,!1,void 0,n)}const y4=new RegExp("[~\\*/\\[\\]]");function v4(i,e,n){if(e.search(y4)>=0)throw Rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Nk(...e.split("."))._internalPath}catch{throw Rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Rh(i,e,n,s,o){const u=s&&!s.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(u||d)&&(m+=" (found",u&&(m+=` in field ${s}`),d&&(m+=` in document ${o}`),m+=")"),new fe(te.INVALID_ARGUMENT,p+i+m)}function b4(i,e){return i.some((n=>n.isEqual(e)))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class w4{convertValue(e,n="none"){switch(ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return sa(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)==null?void 0:n[Eh].arrayValue)==null?void 0:s.values)==null?void 0:o.map((d=>bt(d.doubleValue)));return new rr(u)}convertGeoPoint(e){return new Or(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=qh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const n=cs(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=rt.fromString(e);qe(tk(s),9688,{name:e});const o=new Zl(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||di(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class k4 extends w4{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,n)}}const K0="@firebase/firestore",G0="4.10.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Mk{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new E4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Vm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class E4 extends Mk{data(){return super.data()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function x4(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new fe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function T4(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class eh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oo extends Mk{constructor(e,n,s,o,u,d){super(e,n,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Vm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=oo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()||(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED")),n}}oo._jsonSchemaVersion="firestore/documentSnapshot/1.0",oo._jsonSchema={type:At("string",oo._jsonSchemaVersion),bundleSource:At("string","DocumentSnapshot"),bundleName:At("string"),bundle:At("string")};class hh extends oo{data(e={}){return super.data(e)}}class lo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new eh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new hh(this._firestore,this._userDataWriter,s.key,s,new eh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((d=>{const p=new hh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new eh(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>o||d.type!==3)).map((d=>{const p=new hh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new eh(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,y=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),y=u.indexOf(d.doc.key)),{type:S4(d.type),doc:p,oldIndex:m,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=lo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function S4(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:i})}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/lo._jsonSchemaVersion="firestore/querySnapshot/1.0",lo._jsonSchema={type:At("string",lo._jsonSchemaVersion),bundleSource:At("string","QuerySnapshot"),bundleName:At("string"),bundle:At("string")};function Lk(i){i=Jl(i,td);const e=Jl(i.firestore,nd),n=Ck(e),s=new k4(e);return x4(i._query),s4(n,i._query).then((o=>new lo(e,s,i,o)))}function _4(i){return jk(Jl(i.firestore,nd),[new km(i._key,Pr.none())])}function C4(i,e){const n=Jl(i.firestore,nd),s=_k(i),o=T4(i.converter,e),u=m4(i.firestore);return jk(n,[g4(u,"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Pr.exists(!1))]).then((()=>s))}function jk(i,e){const n=Ck(i);return a4(n,e)}(function(i,e=!0){nN(ia),Ys(new ls("firestore",((n,{instanceIdentifier:s,options:o})=>{const u=n.getProvider("app").getImmediate(),d=new nd(new sN(n.getProvider("auth-internal")),new lN(u,n.getProvider("app-check-internal")),SN(u,s),u);return o={useFetchStreams:e,...o},d._setSettings(o),d}),"PUBLIC").setMultipleInstances(!0)),Ar(K0,G0,i),Ar(K0,G0,"esm2020")})();var N4="firebase",I4="12.8.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/Ar(N4,I4,"app");function Uk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const A4=Uk,Vk=new uu("auth","Firebase",Uk());/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ph=new um("@firebase/auth");function R4(i,...e){Ph.logLevel<=Oe.WARN&&Ph.warn(`Auth (${ia}): ${i}`,...e)}function dh(i,...e){Ph.logLevel<=Oe.ERROR&&Ph.error(`Auth (${ia}): ${i}`,...e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function sr(i,...e){throw zm(i,...e)}function Mr(i,...e){return zm(i,...e)}function zk(i,e,n){const s={...A4(),[e]:n};return new uu("auth","Firebase",s).create(e,{appName:i.name})}function os(i){return zk(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zm(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return Vk.create(i,...e)}function ve(i,e,...n){if(!i)throw zm(e,...n)}function oi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw dh(e),new Error(e)}function pi(i,e){i||oi(e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Xp(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.href)||""}function P4(){return Q0()==="http:"||Q0()==="https:"}function Q0(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.protocol)||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function D4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(P4()||M_()||"connection"in navigator)?navigator.onLine:!0}function O4(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gu{constructor(e,n){this.shortDelay=e,this.longDelay=n,pi(n>e,"Short delay should be less than long delay!"),this.isMobile=P_()||L_()}get(){return D4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Fm(i,e){pi(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fk{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const M4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const L4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],j4=new gu(3e4,6e4);function ua(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function gs(i,e,n,s,o={}){return Bk(i,o,async()=>{let u={},d={};s&&(e==="GET"?d=s:u={body:JSON.stringify(s)});const p=cu({key:i.config.apiKey,...d}).slice(1),m=await i._getAdditionalHeaders();m["Content-Type"]="application/json",i.languageCode&&(m["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:m,...u};return O_()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&ms(i.emulatorConfig.host)&&(y.credentials="include"),Fk.fetch()(await $k(i,i.config.apiHost,n,p),y)})}async function Bk(i,e,n){i._canInitEmulator=!1;const s={...M4,...e};try{const o=new V4(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw th(i,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[m,y]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(i,"credential-already-in-use",d);if(m==="EMAIL_EXISTS")throw th(i,"email-already-in-use",d);if(m==="USER_DISABLED")throw th(i,"user-disabled",d);const k=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw zk(i,k,y);sr(i,k)}}catch(o){if(o instanceof zr)throw o;sr(i,"network-request-failed",{message:String(o)})}}async function rd(i,e,n,s,o={}){const u=await gs(i,e,n,s,o);return"mfaPendingCredential"in u&&sr(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function $k(i,e,n,s){const o=`${e}${n}?${s}`,u=i,d=u.config.emulator?Fm(i.config,o):`${i.config.apiScheme}://${o}`;return L4.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function U4(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class V4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Mr(this.auth,"network-request-failed")),j4.get())})}}function th(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Mr(i,e,s);return o.customData._tokenResponse=n,o}function J0(i){return i!==void 0&&i.enterprise!==void 0}class z4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return U4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function F4(i,e){return gs(i,"GET","/v2/recaptchaConfig",ua(i,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function B4(i,e){return gs(i,"POST","/v1/accounts:delete",e)}async function Dh(i,e){return gs(i,"POST","/v1/accounts:lookup",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Wl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $4(i,e=!1){const n=Jt(i),s=await n.getIdToken(e),o=Bm(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Wl(kp(o.auth_time)),issuedAtTime:Wl(kp(o.iat)),expirationTime:Wl(kp(o.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function kp(i){return Number(i)*1e3}function Bm(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return dh("JWT malformed, contained fewer than 3 sections"),null;try{const o=Jw(n);return o?JSON.parse(o):(dh("Failed to decode base64 JWT payload"),null)}catch(o){return dh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function X0(i){const e=Bm(i);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function ru(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof zr&&q4(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function q4({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class H4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wl(this.lastLoginAt),this.creationTime=Wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Oh(i){var e;const n=i.auth,s=await i.getIdToken(),o=await ru(i,Dh(n,{idToken:s}));ve(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const d=(e=u.providerUserInfo)!=null&&e.length?qk(u.providerUserInfo):[],p=K4(i.providerData,d),m=i.isAnonymous,y=!(i.email&&u.passwordHash)&&!(p!=null&&p.length),k=m?y:!1,E={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new Yp(u.createdAt,u.lastLoginAt),isAnonymous:k};Object.assign(i,E)}async function W4(i){const e=Jt(i);await Oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function K4(i,e){return[...i.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function qk(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function G4(i,e){const n=await Bk(i,{},async()=>{const s=cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,d=await $k(i,o,"/v1/token",`key=${u}`),p=await i._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:p,body:s};return i.emulatorConfig&&ms(i.emulatorConfig.host)&&(m.credentials="include"),Fk.fetch()(d,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Q4(i,e){return gs(i,"POST","/v2/accounts:revokeToken",ua(i,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):X0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=X0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await G4(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,d=new uo;return s&&(ve(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return oi("not implemented")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Gi(i,e){ve(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class nr{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new H4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Yp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ru(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $4(this,e)}reload(){return W4(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new nr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Oh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(os(this.auth));const e=await this.getIdToken();return await ru(this,B4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,m=n._redirectEventId??void 0,y=n.createdAt??void 0,k=n.lastLoginAt??void 0,{uid:E,emailVerified:A,isAnonymous:$,providerData:F,stsTokenManager:K}=n;ve(E&&K,e,"internal-error");const G=uo.fromJSON(this.name,K);ve(typeof E=="string",e,"internal-error"),Gi(s,e.name),Gi(o,e.name),ve(typeof A=="boolean",e,"internal-error"),ve(typeof $=="boolean",e,"internal-error"),Gi(u,e.name),Gi(d,e.name),Gi(p,e.name),Gi(m,e.name),Gi(y,e.name),Gi(k,e.name);const ne=new nr({uid:E,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:$,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:G,createdAt:y,lastLoginAt:k});return F&&Array.isArray(F)&&(ne.providerData=F.map(re=>({...re}))),m&&(ne._redirectEventId=m),ne}static async _fromIdTokenResponse(e,n,s=!1){const o=new uo;o.updateFromServerResponse(n);const u=new nr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Oh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?qk(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new uo;p.updateFromIdToken(s);const m=new nr({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Yp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,y),m}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Y0=new Map;function li(i){pi(i instanceof Function,"Expected a class definition");let e=Y0.get(i);return e?(pi(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Y0.set(i,e),e)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Hk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Hk.type="NONE";const Z0=Hk;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function fh(i,e,n){return`firebase:${i}:${e}:${n}`}class co{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=fh(this.userKey,o.apiKey,u),this.fullPersistenceKey=fh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Dh(this.auth,{idToken:e}).catch(()=>{});return n?nr._fromGetAccountInfoResponse(this.auth,n,e):null}return nr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new co(li(Z0),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||li(Z0);const d=fh(s,e.config.apiKey,e.name);let p=null;for(const y of n)try{const k=await y._get(d);if(k){let E;if(typeof k=="string"){const A=await Dh(e,{idToken:k}).catch(()=>{});if(!A)break;E=await nr._fromGetAccountInfoResponse(e,A,k)}else E=nr._fromJSON(e,k);y!==u&&(p=E),u=y;break}}catch{}const m=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new co(u,e,s):(u=m[0],p&&await u._set(d,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(d)}catch{}})),new co(u,e,s))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ew(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Qk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Wk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Xk(e))return"Blackberry";if(Yk(e))return"Webos";if(Kk(e))return"Safari";if((e.includes("chrome/")||Gk(e))&&!e.includes("edge/"))return"Chrome";if(Jk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Wk(i=nn()){return/firefox\//i.test(i)}function Kk(i=nn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Gk(i=nn()){return/crios\//i.test(i)}function Qk(i=nn()){return/iemobile/i.test(i)}function Jk(i=nn()){return/android/i.test(i)}function Xk(i=nn()){return/blackberry/i.test(i)}function Yk(i=nn()){return/webos/i.test(i)}function $m(i=nn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function J4(i=nn()){var e;return $m(i)&&!!((e=window.navigator)!=null&&e.standalone)}function X4(){return j_()&&document.documentMode===10}function Zk(i=nn()){return $m(i)||Jk(i)||Yk(i)||Xk(i)||/windows phone/i.test(i)||Qk(i)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function eE(i,e=[]){let n;switch(i){case"Browser":n=ew(nn());break;case"Worker":n=`${ew(nn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ia}/${s}`}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Y4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((d,p)=>{try{const m=e(u);d(m)}catch(m){p(m)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Z4(i,e={}){return gs(i,"GET","/v2/passwordPolicy",ua(i,e))}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const eR=6;class tR{constructor(e){var n;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=s.minPasswordLength??eR,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nR{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tw(this),this.idTokenSubscription=new tw(this),this.beforeStateQueue=new Y4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=li(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await co.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Dh(this,{idToken:e}),s=await nr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Un(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)==null?void 0:n._redirectEventId,p=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!d||d===p)&&m!=null&&m.user&&(o=m.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Oh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=O4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(os(this));const n=e?Jt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Z4(this),n=new tR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Q4(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&li(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await co.create(this,[li(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=((e=this.currentUser)==null?void 0:e.uid)??null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,o);return()=>{d=!0,m()}}else{const m=e.addObserver(n);return()=>{d=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getToken());return n!=null&&n.error&&R4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function So(i){return Jt(i)}class tw{constructor(e){this.auth=e,this.observer=null,this.addObserver=H_(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let id={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rR(i){id=i}function tE(i){return id.loadJS(i)}function iR(){return id.recaptchaEnterpriseScript}function sR(){return id.gapiScript}function aR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class oR{constructor(){this.enterprise=new lR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class lR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const uR="recaptcha-enterprise",nE="NO_RECAPTCHA";class cR{constructor(e){this.type=uR,this.auth=So(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{F4(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new z4(m);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,d(y.siteKey)}}).catch(m=>{p(m)})})}function o(u,d,p){const m=window.grecaptcha;J0(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(y=>{d(y)}).catch(()=>{d(nE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oR().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{s(this.auth).then(p=>{if(!n&&J0(window.grecaptcha))o(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let m=iR();m.length!==0&&(m+=p),tE(m).then(()=>{o(p,u,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function nw(i,e,n,s=!1,o=!1){const u=new cR(i);let d;if(o)d=nE;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const m=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const m=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function rw(i,e,n,s,o){var u;if((u=i._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await nw(i,e,n,n==="getOobCode");return s(i,d)}else return s(i,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await nw(i,e,n,n==="getOobCode");return s(i,p)}else return Promise.reject(d)})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function hR(i,e){const n=Fh(i,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Xs(o,e??{}))return s;sr(s,"already-initialized")}return n.initialize({options:e})}function dR(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(li);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function fR(i,e,n){const s=So(i);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=rE(e),{host:d,port:p}=pR(e),m=p===null?"":`:${p}`,y={url:`${u}//${d}${m}/`},k=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(Xs(y,s.config.emulator)&&Xs(k,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=k,s.settings.appVerificationDisabledForTesting=!0,ms(d)?(om(`${u}//${d}${m}`),lm("Auth",!0)):mR()}function rE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function pR(i){const e=rE(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:iw(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:iw(d)}}}function iw(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function mR(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return oi("not implemented")}_getIdTokenResponse(e){return oi("not implemented")}_linkToIdToken(e,n){return oi("not implemented")}_getReauthenticationResolver(e){return oi("not implemented")}}async function gR(i,e){return gs(i,"POST","/v1/accounts:signUp",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function yR(i,e){return rd(i,"POST","/v1/accounts:signInWithPassword",ua(i,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function vR(i,e){return rd(i,"POST","/v1/accounts:signInWithEmailLink",ua(i,e))}async function bR(i,e){return rd(i,"POST","/v1/accounts:signInWithEmailLink",ua(i,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class iu extends qm{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new iu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new iu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&n!=null&&n.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rw(e,n,"signInWithPassword",yR);case"emailLink":return vR(e,{email:this._email,oobCode:this._password});default:sr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rw(e,s,"signUpPassword",gR);case"emailLink":return bR(e,{idToken:n,email:this._email,oobCode:this._password});default:sr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function ho(i,e){return rd(i,"POST","/v1/accounts:signInWithIdp",ua(i,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const wR="http://localhost";class ta extends qm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):sr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const d=new ta(s,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return ho(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ho(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ho(e,n)}buildRequest(){const e={requestUri:wR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cu(n)}return e}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function kR(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ER(i){const e=Ll(jl(i)).link,n=e?Ll(jl(e)).deep_link_id:null,s=Ll(jl(i)).deep_link_id;return(s?Ll(jl(s)).link:null)||s||n||e||i}class Hm{constructor(e){const n=Ll(jl(e)),s=n.apiKey??null,o=n.oobCode??null,u=kR(n.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=ER(e);try{return new Hm(n)}catch{return null}}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _o{constructor(){this.providerId=_o.PROVIDER_ID}static credential(e,n){return iu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Hm.parseLink(n);return ve(s,"argument-error"),iu._fromEmailAndCode(e,s.code,s.tenantId)}}_o.PROVIDER_ID="password";_o.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_o.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class iE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class yu extends iE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ji extends yu{constructor(){super("facebook.com")}static credential(e){return ta._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ji.credential(e.oauthAccessToken)}catch{return null}}}Ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ji.PROVIDER_ID="facebook.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xi extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ta._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Xi.credential(n,s)}catch{return null}}}Xi.GOOGLE_SIGN_IN_METHOD="google.com";Xi.PROVIDER_ID="google.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yi extends yu{constructor(){super("github.com")}static credential(e){return ta._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yi.credential(e.oauthAccessToken)}catch{return null}}}Yi.GITHUB_SIGN_IN_METHOD="github.com";Yi.PROVIDER_ID="github.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zi extends yu{constructor(){super("twitter.com")}static credential(e,n){return ta._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Zi.credential(n,s)}catch{return null}}}Zi.TWITTER_SIGN_IN_METHOD="twitter.com";Zi.PROVIDER_ID="twitter.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await nr._fromIdTokenResponse(e,s,o),d=sw(s);return new bo({user:u,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=sw(s);return new bo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function sw(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Mh extends zr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Mh(e,n,s,o)}}function sE(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Mh._fromErrorAndOperation(i,o,e,s):o})}async function xR(i,e,n=!1){const s=await ru(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return bo._forOperation(i,"link",s)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function TR(i,e,n=!1){const{auth:s}=i;if(Un(s.app))return Promise.reject(os(s));const o="reauthenticate";try{const u=await ru(i,sE(s,o,e,i),n);ve(u.idToken,s,"internal-error");const d=Bm(u.idToken);ve(d,s,"internal-error");const{sub:p}=d;return ve(i.uid===p,s,"user-mismatch"),bo._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&sr(s,"user-mismatch"),u}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function aE(i,e,n=!1){if(Un(i.app))return Promise.reject(os(i));const s="signIn",o=await sE(i,s,e),u=await bo._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function SR(i,e){return aE(So(i),e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function _R(i){const e=So(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function CR(i,e,n){return Un(i.app)?Promise.reject(os(i)):SR(Jt(i),_o.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&_R(i),s})}function NR(i,e,n,s){return Jt(i).onIdTokenChanged(e,n,s)}function IR(i,e,n){return Jt(i).beforeAuthStateChanged(e,n)}function AR(i){return Jt(i).signOut()}const Lh="__sak";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class oE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lh,"1"),this.storage.removeItem(Lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const RR=1e3,PR=10;class lE extends oE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Zk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,m)=>{this.notifyListeners(d,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);X4()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,PR):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},RR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lE.type="LOCAL";const DR=lE;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uE extends oE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}uE.type="SESSION";const cE=uE;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function OR(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new sd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(d).map(async y=>y(n.origin,u)),m=await OR(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sd.receivers=[];/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Wm(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class MR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((p,m)=>{const y=Wm("",20);o.port1.start();const k=setTimeout(()=>{m(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(E){const A=E;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(k),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(A.data.response);break;default:clearTimeout(k),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Lr(){return window}function LR(i){Lr().location.href=i}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function hE(){return typeof Lr().WorkerGlobalScope<"u"&&typeof Lr().importScripts=="function"}async function jR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UR(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)==null?void 0:i.controller)||null}function VR(){return hE()?self:null}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const dE="firebaseLocalStorageDb",zR=1,jh="firebaseLocalStorage",fE="fbase_key";class vu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ad(i,e){return i.transaction([jh],e?"readwrite":"readonly").objectStore(jh)}function FR(){const i=indexedDB.deleteDatabase(dE);return new vu(i).toPromise()}function Zp(){const i=indexedDB.open(dE,zR);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(jh,{keyPath:fE})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(jh)?e(s):(s.close(),await FR(),e(await Zp()))})})}async function aw(i,e,n){const s=ad(i,!0).put({[fE]:e,value:n});return new vu(s).toPromise()}async function BR(i,e){const n=ad(i,!1).get(e),s=await new vu(n).toPromise();return s===void 0?null:s.value}function ow(i,e){const n=ad(i,!0).delete(e);return new vu(n).toPromise()}const $R=800,qR=3;class pE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>qR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sd._getInstance(VR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await jR(),!this.activeServiceWorker)return;this.sender=new MR(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&(e=s[0])!=null&&e.fulfilled&&(n=s[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zp();return await aw(e,Lh,"1"),await ow(e,Lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>aw(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>BR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ow(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=ad(o,!1).getAll();return new vu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$R)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pE.type="LOCAL";const HR=pE;new gu(3e4,6e4);/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function WR(i,e){return e?li(e):(ve(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Km extends qm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function KR(i){return aE(i.auth,new Km(i),i.bypassAuthState)}function GR(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),TR(n,new Km(i),i.bypassAuthState)}async function QR(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),xR(n,new Km(i),i.bypassAuthState)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mE{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KR;case"linkViaPopup":case"linkViaRedirect":return QR;case"reauthViaPopup":case"reauthViaRedirect":return GR;default:sr(this.auth,"internal-error")}}resolve(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const JR=new gu(2e3,1e4);class io extends mE{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){pi(this.filter.length===1,"Popup operations only handle one event");const e=Wm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JR.get())};e()}}io.currentPopupAction=null;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const XR="pendingRedirect",ph=new Map;class YR extends mE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const n=await ZR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(n){e=()=>Promise.reject(n)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZR(i,e){const n=nP(e),s=tP(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function eP(i,e){ph.set(i._key(),e)}function tP(i){return li(i._redirectPersistence)}function nP(i){return fh(XR,i.config.apiKey,i.name)}async function rP(i,e,n=!1){if(Un(i.app))return Promise.reject(os(i));const s=So(i),o=WR(s,e),u=await new YR(s,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const iP=600*1e3;class sP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!gE(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Mr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iP&&this.cachedEventUids.clear(),this.cachedEventUids.has(lw(e))}saveEventToCache(e){this.cachedEventUids.add(lw(e)),this.lastProcessedEventTime=Date.now()}}function lw(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function gE({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function aP(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gE(i);default:return!1}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function oP(i,e={}){return gs(i,"GET","/v1/projects",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const lP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uP=/^https?/;async function cP(i){if(i.config.emulator)return;const{authorizedDomains:e}=await oP(i);for(const n of e)try{if(hP(n))return}catch{}sr(i,"unauthorized-domain")}function hP(i){const e=Xp(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const u=new URL(i);return u.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!uP.test(n))return!1;if(lP.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const dP=new gu(3e4,6e4);function uw(){const i=Lr().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function fP(i){return new Promise((e,n)=>{var s,o,u;function d(){uw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uw(),n(Mr(i,"network-request-failed"))},timeout:dP.get()})}if((o=(s=Lr().gapi)==null?void 0:s.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((u=Lr().gapi)!=null&&u.load)d();else{const p=aR("iframefcb");return Lr()[p]=()=>{gapi.load?d():n(Mr(i,"network-request-failed"))},tE(`${sR()}?onload=${p}`).catch(m=>n(m))}}).catch(e=>{throw mh=null,e})}let mh=null;function pP(i){return mh=mh||fP(i),mh}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const mP=new gu(5e3,15e3),gP="__/auth/iframe",yP="emulator/auth/iframe",vP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wP(i){const e=i.config;ve(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Fm(e,yP):`https://${i.config.authDomain}/${gP}`,s={apiKey:e.apiKey,appName:i.name,v:ia},o=bP.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${cu(s).slice(1)}`}async function kP(i){const e=await pP(i),n=Lr().gapi;return ve(n,i,"internal-error"),e.open({where:document.body,url:wP(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vP,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const d=Mr(i,"network-request-failed"),p=Lr().setTimeout(()=>{u(d)},mP.get());function m(){Lr().clearTimeout(p),o(s)}s.ping(m).then(m,()=>{u(d)})}))}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const EP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xP=500,TP=600,SP="_blank",_P="http://localhost";class cw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CP(i,e,n,s=xP,o=TP){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const m={...EP,width:s.toString(),height:o.toString(),top:u,left:d},y=nn().toLowerCase();n&&(p=Gk(y)?SP:n),Wk(y)&&(e=e||_P,m.scrollbars="yes");const k=Object.entries(m).reduce((A,[$,F])=>`${A}${$}=${F},`,"");if(J4(y)&&p!=="_self")return NP(e||"",p),new cw(null);const E=window.open(e||"",p,k);ve(E,i,"popup-blocked");try{E.focus()}catch{}return new cw(E)}function NP(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const IP="__/auth/handler",AP="emulator/auth/handler",RP=encodeURIComponent("fac");async function hw(i,e,n,s,o,u){ve(i.config.authDomain,i,"auth-domain-config-required"),ve(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:ia,eventId:o};if(e instanceof iE){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",q_(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[k,E]of Object.entries({}))d[k]=E}if(e instanceof yu){const k=e.getScopes().filter(E=>E!=="");k.length>0&&(d.scopes=k.join(","))}i.tenantId&&(d.tid=i.tenantId);const p=d;for(const k of Object.keys(p))p[k]===void 0&&delete p[k];const m=await i._getAppCheckToken(),y=m?`#${RP}=${encodeURIComponent(m)}`:"";return`${PP(i)}?${cu(p).slice(1)}${y}`}function PP({config:i}){return i.emulator?Fm(i,AP):`https://${i.authDomain}/${IP}`}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ep="webStorageSupport";class DP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cE,this._completeRedirectFn=rP,this._overrideRedirectResult=eP}async _openPopup(e,n,s,o){var u;pi((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const d=await hw(e,n,s,Xp(),o);return CP(e,d,Wm())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await hw(e,n,s,Xp(),o);return LR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(pi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await kP(e),s=new sP(e);return n.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ep,{type:Ep},s=>{var o;const u=(o=s==null?void 0:s[0])==null?void 0:o[Ep];u!==void 0&&n(!!u),sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Zk()||Kk()||$m()}}const OP=DP;var dw="@firebase/auth",fw="1.12.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class MP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function LP(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jP(i){Ys(new ls("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;ve(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:d,authDomain:p,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eE(i)},y=new nR(s,o,u,m);return dR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ys(new ls("auth-internal",e=>{const n=So(e.getProvider("auth").getImmediate());return(s=>new MP(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ar(dw,fw,LP(i)),Ar(dw,fw,"esm2020")}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const UP=300,VP=e1("authIdTokenMaxAge")||UP;let pw=null;const zP=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>VP)return;const o=n==null?void 0:n.token;pw!==o&&(pw=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function FP(i=hm()){const e=Fh(i,"auth");if(e.isInitialized())return e.getImmediate();const n=hR(i,{popupRedirectResolver:OP,persistence:[HR,DR,cE]}),s=e1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=zP(u.toString());IR(n,d,()=>d(n.currentUser)),NR(n,p=>d(p))}}const o=Xw("auth");return o&&fR(n,`http://${o}`),n}function BP(){var i;return((i=document.getElementsByTagName("head"))==null?void 0:i[0])??document}rR({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Mr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",BP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jP("Browser");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yE="firebasestorage.googleapis.com",vE="storageBucket",$P=120*1e3,qP=600*1e3;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pt extends zr{constructor(e,n,s=0){super(xp(e),`Firebase Storage: ${n} (${xp(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return xp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ft;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ft||(ft={}));function xp(i){return"storage/"+i}function Gm(){const i="An unknown error occurred, please check the error payload for server response.";return new pt(ft.UNKNOWN,i)}function HP(i){return new pt(ft.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function WP(i){return new pt(ft.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function KP(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new pt(ft.UNAUTHENTICATED,i)}function GP(){return new pt(ft.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function QP(i){return new pt(ft.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function JP(){return new pt(ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function XP(){return new pt(ft.CANCELED,"User canceled the upload/download.")}function YP(i){return new pt(ft.INVALID_URL,"Invalid URL '"+i+"'.")}function ZP(i){return new pt(ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function e6(){return new pt(ft.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+vE+"' property when initializing the app?")}function t6(){return new pt(ft.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function n6(){return new pt(ft.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function r6(i){return new pt(ft.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function em(i){return new pt(ft.INVALID_ARGUMENT,i)}function bE(){return new pt(ft.APP_DELETED,"The Firebase app was deleted.")}function i6(i){return new pt(ft.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Kl(i,e){return new pt(ft.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Ml(i){throw new pt(ft.INTERNAL_ERROR,"Internal error: "+i)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Sn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Sn.makeFromUrl(e,n)}catch{return new Sn(e,"")}if(s.path==="")return s;throw ZP(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(W){W.path.charAt(W.path.length-1)==="/"&&(W.path_=W.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+o+d,"i"),m={bucket:1,path:3};function y(W){W.path_=decodeURIComponent(W.path)}const k="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",$=new RegExp(`^https?://${E}/${k}/b/${o}/o${A}`,"i"),F={bucket:1,path:3},K=n===yE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,G="([^?#]*)",ne=new RegExp(`^https?://${K}/${o}/${G}`,"i"),re=[{regex:p,indices:m,postModify:u},{regex:$,indices:F,postModify:y},{regex:ne,indices:{bucket:1,path:2},postModify:y}];for(let W=0;W<re.length;W++){const le=re[W],we=le.regex.exec(e);if(we){const ie=we[le.indices.bucket];let _=we[le.indices.path];_||(_=""),s=new Sn(ie,_),le.postModify(s);break}}if(s==null)throw YP(e);return s}}class s6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function a6(i,e,n){let s=1,o=null,u=null,d=!1,p=0;function m(){return p===2}let y=!1;function k(...G){y||(y=!0,e.apply(null,G))}function E(G){o=setTimeout(()=>{o=null,i($,m())},G)}function A(){u&&clearTimeout(u)}function $(G,...ne){if(y){A();return}if(G){A(),k.call(null,G,...ne);return}if(m()||d){A(),k.call(null,G,...ne);return}s<64&&(s*=2);let re;p===1?(p=2,re=0):re=(s+Math.random())*1e3,E(re)}let F=!1;function K(G){F||(F=!0,A(),!y&&(o!==null?(G||(p=2),clearTimeout(o),E(0)):G||(p=1)))}return E(0),u=setTimeout(()=>{d=!0,K(!0)},n),K}function o6(i){i(!1)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function l6(i){return i!==void 0}function u6(i){return typeof i=="object"&&!Array.isArray(i)}function Qm(i){return typeof i=="string"||i instanceof String}function mw(i){return Jm()&&i instanceof Blob}function Jm(){return typeof Blob<"u"}function gw(i,e,n,s){if(s<e)throw em(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw em(`Invalid value for '${i}'. Expected ${n} or less.`)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Xm(i,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${i}`}function wE(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Js;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Js||(Js={}));/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function c6(i,e){const n=i>=500&&i<600,s=[408,429].indexOf(i)!==-1,o=e.indexOf(i)!==-1;return n||s||o}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class h6{constructor(e,n,s,o,u,d,p,m,y,k,E,A=!0,$=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=m,this.timeout_=y,this.progressCallback_=k,this.connectionFactory_=E,this.retry=A,this.isUsingEmulator=$,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((F,K)=>{this.resolve_=F,this.reject_=K,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new nh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const d=p=>{const m=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,y)};this.progressCallback_!==null&&u.addUploadProgressListener(d),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(d),this.pendingConnection_=null;const p=u.getErrorCode()===Js.NO_ERROR,m=u.getStatus();if(!p||c6(m,this.additionalRetryCodes_)&&this.retry){const k=u.getErrorCode()===Js.ABORT;s(!1,new nh(!1,null,k));return}const y=this.successCodes_.indexOf(m)!==-1;s(!0,new nh(y,u))})},n=(s,o)=>{const u=this.resolve_,d=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(p,p.getResponse());l6(m)?u(m):u()}catch(m){d(m)}else if(p!==null){const m=Gm();m.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,m)):d(m)}else if(o.canceled){const m=this.appDelete_?bE():XP();d(m)}else{const m=JP();d(m)}};this.canceled_?n(!1,new nh(!1,null,!0)):this.backoffId_=a6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&o6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class nh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function d6(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function f6(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function p6(i,e){e&&(i["X-Firebase-GMPID"]=e)}function m6(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function g6(i,e,n,s,o,u,d=!0,p=!1){const m=wE(i.urlParams),y=i.url+m,k=Object.assign({},i.headers);return p6(k,e),d6(k,n),f6(k,u),m6(k,s),new h6(y,i.method,k,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,d,p)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function y6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function v6(...i){const e=y6();if(e!==void 0){const n=new e;for(let s=0;s<i.length;s++)n.append(i[s]);return n.getBlob()}else{if(Jm())return new Blob(i);throw new pt(ft.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function b6(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function w6(i){if(typeof atob>"u")throw r6("base-64");return atob(i)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ir={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Tp{constructor(e,n){this.data=e,this.contentType=n||null}}function k6(i,e){switch(i){case Ir.RAW:return new Tp(kE(e));case Ir.BASE64:case Ir.BASE64URL:return new Tp(EE(i,e));case Ir.DATA_URL:return new Tp(x6(e),T6(e))}throw Gm()}function kE(i){const e=[];for(let n=0;n<i.length;n++){let s=i.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=s,u=i.charCodeAt(++n);s=65536|(o&1023)<<10|u&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function E6(i){let e;try{e=decodeURIComponent(i)}catch{throw Kl(Ir.DATA_URL,"Malformed data URL.")}return kE(e)}function EE(i,e){switch(i){case Ir.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw Kl(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ir.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw Kl(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=w6(e)}catch(o){throw o.message.includes("polyfill")?o:Kl(i,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class xE{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Kl(Ir.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=S6(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function x6(i){const e=new xE(i);return e.base64?EE(Ir.BASE64,e.rest):E6(e.rest)}function T6(i){return new xE(i).contentType}function S6(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class es{constructor(e,n){let s=0,o="";mw(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(mw(this.data_)){const s=this.data_,o=b6(s,e,n);return o===null?null:new es(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new es(s,!0)}}static getBlob(...e){if(Jm()){const n=e.map(s=>s instanceof es?s.data_:s);return new es(v6.apply(null,n))}else{const n=e.map(d=>Qm(d)?k6(Ir.RAW,d).data:d.data_);let s=0;n.forEach(d=>{s+=d.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(d=>{for(let p=0;p<d.length;p++)o[u++]=d[p]}),new es(o,!0)}}uploadData(){return this.data_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function TE(i){let e;try{e=JSON.parse(i)}catch{return null}return u6(e)?e:null}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _6(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function C6(i,e){const n=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?n:i+"/"+n}function SE(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function N6(i,e){return e}class on{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||N6}}let rh=null;function I6(i){return!Qm(i)||i.length<2?i:SE(i)}function _E(){if(rh)return rh;const i=[];i.push(new on("bucket")),i.push(new on("generation")),i.push(new on("metageneration")),i.push(new on("name","fullPath",!0));function e(u,d){return I6(d)}const n=new on("name");n.xform=e,i.push(n);function s(u,d){return d!==void 0?Number(d):d}const o=new on("size");return o.xform=s,i.push(o),i.push(new on("timeCreated")),i.push(new on("updated")),i.push(new on("md5Hash",null,!0)),i.push(new on("cacheControl",null,!0)),i.push(new on("contentDisposition",null,!0)),i.push(new on("contentEncoding",null,!0)),i.push(new on("contentLanguage",null,!0)),i.push(new on("contentType",null,!0)),i.push(new on("metadata","customMetadata",!0)),rh=i,rh}function A6(i,e){function n(){const s=i.bucket,o=i.fullPath,u=new Sn(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:n})}function R6(i,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const d=n[u];s[d.local]=d.xform(s,e[d.server])}return A6(s,i),s}function CE(i,e,n){const s=TE(e);return s===null?null:R6(i,s,n)}function P6(i,e,n,s){const o=TE(e);if(o===null||!Qm(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const d=encodeURIComponent;return u.split(",").map(p=>{const m=i.bucket,y=i.fullPath,k="/b/"+d(m)+"/o/"+d(y),E=Xm(k,n,s),A=wE({alt:"media",token:p});return E+A})[0]}function D6(i,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=i[u.local])}return JSON.stringify(n)}class NE{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function IE(i){if(!i)throw Gm()}function O6(i,e){function n(s,o){const u=CE(i,o,e);return IE(u!==null),u}return n}function M6(i,e){function n(s,o){const u=CE(i,o,e);return IE(u!==null),P6(u,o,i.host,i._protocol)}return n}function AE(i){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=GP():o=KP():n.getStatus()===402?o=WP(i.bucket):n.getStatus()===403?o=QP(i.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function L6(i){const e=AE(i);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=HP(i.path)),u.serverResponse=o.serverResponse,u}return n}function j6(i,e,n){const s=e.fullServerUrl(),o=Xm(s,i.host,i._protocol),u="GET",d=i.maxOperationRetryTime,p=new NE(o,u,M6(i,n),d);return p.errorHandler=L6(e),p}function U6(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function V6(i,e,n){const s=Object.assign({},n);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=U6(null,e)),s}function z6(i,e,n,s,o){const u=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function p(){let W="";for(let le=0;le<2;le++)W=W+Math.random().toString().slice(2);return W}const m=p();d["Content-Type"]="multipart/related; boundary="+m;const y=V6(e,s,o),k=D6(y,n),E="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+k+`\r
--`+m+`\r
Content-Type: `+y.contentType+`\r
\r
`,A=`\r
--`+m+"--",$=es.getBlob(E,s,A);if($===null)throw t6();const F={name:y.fullPath},K=Xm(u,i.host,i._protocol),G="POST",ne=i.maxUploadRetryTime,re=new NE(K,G,O6(i,n),ne);return re.urlParams=F,re.headers=d,re.body=$.uploadData(),re.errorHandler=AE(e),re}class F6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Js.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Js.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Js.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,u){if(this.sent_)throw Ml("cannot .send() more than once");if(ms(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const d in u)u.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,u[d].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ml("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ml("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ml("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ml("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class B6 extends F6{initXhr(){this.xhr_.responseType="text"}}function RE(){return new B6}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class na{constructor(e,n){this._service=e,n instanceof Sn?this._location=n:this._location=Sn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new na(e,n)}get root(){const e=new Sn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return SE(this._location.path)}get storage(){return this._service}get parent(){const e=_6(this._location.path);if(e===null)return null;const n=new Sn(this._location.bucket,e);return new na(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw i6(e)}}function $6(i,e,n){i._throwIfRoot("uploadBytes");const s=z6(i.storage,i._location,_E(),new es(e,!0),n);return i.storage.makeRequestWithTokens(s,RE).then(o=>({metadata:o,ref:i}))}function q6(i){i._throwIfRoot("getDownloadURL");const e=j6(i.storage,i._location,_E());return i.storage.makeRequestWithTokens(e,RE).then(n=>{if(n===null)throw n6();return n})}function H6(i,e){const n=C6(i._location.path,e),s=new Sn(i._location.bucket,n);return new na(i.storage,s)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function W6(i){return/^[A-Za-z]+:\/\//.test(i)}function K6(i,e){return new na(i,e)}function PE(i,e){if(i instanceof Ym){const n=i;if(n._bucket==null)throw e6();const s=new na(n,n._bucket);return e!=null?PE(s,e):s}else return e!==void 0?H6(i,e):i}function G6(i,e){if(e&&W6(e)){if(i instanceof Ym)return K6(i,e);throw em("To use ref(service, url), the first argument must be a Storage instance.")}else return PE(i,e)}function yw(i,e){const n=e==null?void 0:e[vE];return n==null?null:Sn.makeFromBucketSpec(n,i)}function Q6(i,e,n,s={}){i.host=`${e}:${n}`;const o=ms(e);o&&(om(`https://${i.host}/b`),lm("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:t1(u,i.app.options.projectId))}class Ym{constructor(e,n,s,o,u,d=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=d,this._bucket=null,this._host=yE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=$P,this._maxUploadRetryTime=qP,this._requests=new Set,o!=null?this._bucket=Sn.makeFromBucketSpec(o,this._host):this._bucket=yw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Sn.makeFromBucketSpec(this._url,e):this._bucket=yw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new na(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new s6(bE());{const d=g6(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const vw="@firebase/storage",bw="0.14.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const DE="storage";function J6(i,e,n){return i=Jt(i),$6(i,e,n)}function X6(i){return i=Jt(i),q6(i)}function Y6(i,e){return i=Jt(i),G6(i,e)}function Z6(i=hm(),e){i=Jt(i);const n=Fh(i,DE).getImmediate({identifier:e}),s=Yw("storage");return s&&e3(n,...s),n}function e3(i,e,n,s={}){Q6(i,e,n,s)}function t3(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new Ym(n,s,o,e,ia)}function n3(){Ys(new ls(DE,t3,"PUBLIC").setMultipleInstances(!0)),Ar(vw,bw,""),Ar(vw,bw,"esm2020")}n3();const r3={apiKey:"YOUR_API_KEY_HERE",authDomain:"nmstudio-b4105.firebaseapp.com",projectId:"nmstudio-b4105",storageBucket:"nmstudio-b4105.firebasestorage.app",messagingSenderId:"",appId:""},Zm=i1(r3),Sp=FP(Zm),gh=c4(Zm),i3=Z6(Zm),s3=({heroImages:i})=>{const[e,n]=z.useState(0),s=z.useCallback(()=>{n(u=>u===(i||[]).length-1?0:u+1)},[i]),o=z.useCallback(()=>{n(u=>u===0?(i||[]).length-1:u-1)},[i]);return z.useEffect(()=>{const u=setInterval(s,6e3);return()=>clearInterval(u)},[s]),w.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[(i||[]).map((u,d)=>w.jsxs("div",{className:`absolute inset-0 transition-opacity duration-1000 ease-in-out ${d===e?"opacity-100":"opacity-0"}`,children:[w.jsx("div",{className:"absolute inset-0 animate-breathe",children:w.jsx("img",{src:u,className:"w-full h-full object-cover",alt:`Hero ${d+1}`})}),w.jsx("div",{className:"absolute inset-0 bg-black/45 animate-pulse-brightness"})]},d)),w.jsx("button",{onClick:o,className:"absolute left-6 top-1/2 -translate-y-1/2 z-20 p-4 border border-white/20 text-white rounded-full hover:bg-brand-primary hover:border-brand-primary transition-all group",children:w.jsx(yS,{className:"w-10 h-10 group-hover:scale-110 transition-transform"})}),w.jsx("button",{onClick:s,className:"absolute right-6 top-1/2 -translate-y-1/2 z-20 p-4 border border-white/20 text-white rounded-full hover:bg-brand-primary hover:border-brand-primary transition-all group",children:w.jsx(bS,{className:"w-10 h-10 group-hover:scale-110 transition-transform"})}),w.jsx("div",{className:"absolute bottom-12 left-1/2 -translate-x-1/2 z-20 flex gap-3",children:(i||[]).map((u,d)=>w.jsx("button",{onClick:()=>n(d),className:`transition-all duration-500 rounded-full h-1.5 ${d===e?"w-12 bg-brand-primary":"w-4 bg-white/30 hover:bg-white/50"}`},d))})]})},a3=({target:i,duration:e=1e3,suffix:n="+"})=>{const[s,o]=z.useState(0),u=z.useRef(null),[d,p]=z.useState(!1);return z.useEffect(()=>{const m=new IntersectionObserver(([y])=>{y.isIntersecting&&!d&&p(!0)},{threshold:.5});return u.current&&m.observe(u.current),()=>m.disconnect()},[d]),z.useEffect(()=>{if(!d)return;let m=null;const y=k=>{m||(m=k);const E=k-m,A=Math.min(Math.floor(E/e*i),i);o(A),E<e&&requestAnimationFrame(y)};requestAnimationFrame(y)},[d,i,e]),w.jsxs("div",{ref:u,className:"text-4xl font-heading font-bold text-[#705d3f] transition-colors duration-300",style:{filter:"drop-shadow(0 2px 2px rgba(0,0,0,0.1))"},children:[s,n]})},o3={nav_items:[{label:"V CHNG TI",href:"#story",view:"about"},{label:"DCH V",href:"#services",view:"services"},{label:"D N",href:"#projects",view:"home"},{label:"CM NANG",href:"#blog",view:"handbook"},{label:"LIN H",href:"#contact",view:"contact"}],hero_images:["https://images.unsplash.com/photo-1600607686527-6fb886090705?auto=format&fit=crop&q=80&w=2000"],project_categories:[{id:"all",label:"Tt c",header:"TT C D N"},{id:"arch",label:"Thit k kin trc",header:"THIT K KIN TRC"},{id:"interior",label:"Thit k ni tht",header:"THIT K NI THT"},{id:"construction",label:"Thi Cng",header:"THI CNG HON THIN"},{id:"cgi",label:"Din ha CGI",header:"DIN HA CGI"},{id:"ai",label:"Dch V AI",header:"SNG TO BNG AI"}],projects:[]},OE=[{title:"THIT K KIN TRC",icon:w.jsx(Hw,{className:"w-5 h-5"}),img:"https://images.unsplash.com/photo-1600607687920-4e2a09cf159d?auto=format&fit=crop&q=80&w=600"},{title:"THIT K NI THT",icon:w.jsx(qw,{className:"w-5 h-5"}),img:"https://images.unsplash.com/photo-1618221195710-dd6b41faaea6?auto=format&fit=crop&q=80&w=600"},{title:"THI CNG HON THIN",icon:w.jsx(Bw,{className:"w-5 h-5"}),img:"https://images.unsplash.com/photo-1503387762-592dee58c460?auto=format&fit=crop&q=80&w=600"},{title:"T VN GIM ST",icon:w.jsx($w,{className:"w-5 h-5"}),img:"https://images.unsplash.com/photo-1541888946425-d81bb19480c5?auto=format&fit=crop&q=80&w=600"},{title:"DIN HO CGI",icon:w.jsx(Fw,{className:"w-5 h-5"}),img:"https://images.unsplash.com/photo-1600566753376-12c8ab7fb75b?auto=format&fit=crop&q=80&w=600"},{title:"SNG TO BNG AI",icon:w.jsx(Kw,{className:"w-5 h-5"}),img:"https://images.unsplash.com/photo-1677442136019-21780ecad995?auto=format&fit=crop&q=80&w=600"}],_p={arch:{label:"QUY TRNH THIT K KIN TRC",stages:[{title:"G 1",subtitle:"TIP NHN THNG TIN & KHO ST",desc:"Tip nhn yu cu, kho st hin trng t/cng trnh v kho st nhu cu chi tit ca gia ch.",icon:w.jsx(r_,{className:"w-8 h-8"})},{title:"G 2",subtitle:"BO GI & HP NG",desc:"Lp bo gi chi tit, cht tin  v k kt hp ng thit k chnh thc.",pay:" 50% Ph thit k",icon:w.jsx(IS,{className:"w-8 h-8"})},{title:"G 3",subtitle:"PHC THO & CONCEPT",desc:"Mt bng cng nng (2D) v gii gii php hnh khi kin trc (3D). iu chnh ti a 3 ln.",pay:" 30% Ph thit k",icon:w.jsx(Hw,{className:"w-8 h-8"})},{title:"G 4",subtitle:"H S K THUT THI CNG",desc:"Trin khai h s k thut chi tit phc v xin php v thi cng hon thin.",pay:" 20% Bn giao h s",icon:w.jsx(qw,{className:"w-8 h-8"})}]},interior:{label:"QUY TRNH THIT K NI THT",stages:[{title:"G 1",subtitle:"KHO ST & PHN TCH",desc:"Kho st hin trng mt bng, o c v phn tch thi quen sinh hot gia ch.",icon:w.jsx(s_,{className:"w-8 h-8"})},{title:"G 2",subtitle:"BO GI & HP NG",desc:" xut phng n hp tc v k kt hp ng thit k ni tht.",pay:" 50% Ph thit k",icon:w.jsx(dS,{className:"w-8 h-8"})},{title:"G 3",subtitle:"PHC THO & CONCEPT",desc:"Mt bng 2D, Concept Moodboard vt liu v dng phi cnh 3D ni tht.",pay:" 30% Ph thit k",icon:w.jsx(MS,{className:"w-8 h-8"})},{title:"G 4",subtitle:"H S K THUT",desc:"Thit k h s k thut thi cng, sn xut ni tht chi tit v bn giao.",pay:" 20% Bn giao h s",icon:w.jsx(Fb,{className:"w-8 h-8"})}]},construction:{label:"THI CNG HON THIN NI THT",stages:[{title:"G 1",subtitle:"CHUN B",desc:"Kho st o c thc t, lp d ton chi tit v k hp ng thi cng.",pay:" 50% Tm ng thi cng",icon:w.jsx(xS,{className:"w-8 h-8"})},{title:"G 2",subtitle:"TRIN KHAI THI CNG",desc:"Sn xut ni tht ti xng, thi cng lp t ti cng trnh theo tin .",pay:" 30% Theo tin ",icon:w.jsx(Bw,{className:"w-8 h-8"})},{title:"G 3",subtitle:"HON THIN & BN GIAO",desc:"Nghim thu thm m, bn giao cng trnh v kch hot bo hnh.",pay:" 20% Khi bn giao",icon:w.jsx(cS,{className:"w-8 h-8"})}]},supervision:{label:"T VN GIM ST",stages:[{title:"G 1",subtitle:"TIP NHN & THNG NHT",desc:"Tip nhn h s thit k, xc nh phm vi v lp k hoch gim st.",pay:" 40% Tm ng",icon:w.jsx(Fb,{className:"w-8 h-8"})},{title:"G 2",subtitle:"GIM ST THI CNG",desc:"Kim tra thi cng theo h s, ghi nhn bo co v kin ngh iu chnh k thut.",pay:" 40% Theo tin ",icon:w.jsx($w,{className:"w-8 h-8"})},{title:"G 3",subtitle:"NGHIM THU & BN GIAO",desc:"Tham gia nghim thu hon thin v bo co nh gi kt qu gim st.",pay:" 20% Kt thc H",icon:w.jsx(kS,{className:"w-8 h-8"})}]},cgi:{label:"QUY TRNH DIN HO CGI",stages:[{title:"G 1",subtitle:"TIP NHN BRIEF",desc:"Nhn bn v concept, thng nht s lng nh v mc  chi tit th hin.",pay:" 50% Tm ng",icon:w.jsx(RS,{className:"w-8 h-8"})},{title:"G 2",subtitle:"DNG HNH & NH SNG",desc:"Dng Model 3D khng gian, thit lp vt liu, nh sng v gc my.",icon:w.jsx(VS,{className:"w-8 h-8"})},{title:"G 3",subtitle:"RENDER & HIU CHNH",desc:"Render nh cht lng cao v hiu chnh theo phn hi ca khch hng.",pay:" 40% Sau Render",icon:w.jsx(Fw,{className:"w-8 h-8"})},{title:"G 4",subtitle:"BN GIAO",desc:"Bn giao sn phm Final cht lng cao phc v truyn thng.",pay:" 10% Quyt ton",icon:w.jsx(h_,{className:"w-8 h-8"})}]},ai:{label:"SNG TO BNG AI",stages:[{title:"G 1",subtitle:"TIP NHN & NH HNG",desc:"Nhn Brief mc tiu s dng,  xut hng concept AI ph hp.",pay:" 50% Tm ng",icon:w.jsx(Kw,{className:"w-8 h-8"})},{title:"G 2",subtitle:"TRIN KHAI PHNG N AI",desc:"To concept & hnh nh bng AI chuyn su, th nghim nhiu bin th nhanh.",icon:w.jsx(lS,{className:"w-8 h-8"})},{title:"G 3",subtitle:"TINH CHNH & HON THIN",desc:"Lc chn phng n tt nht v tinh chnh chi tit theo phn hi.",pay:" 40% Cht phng n",icon:w.jsx(u_,{className:"w-8 h-8"})},{title:"G 4",subtitle:"BN GIAO",desc:"Bn giao sn phm Final v hng dn h tr s dng cho gia ch.",pay:" 10% Quyt ton",icon:w.jsx(QS,{className:"w-8 h-8"})}]}},l3=({content:i})=>{var e;const n=ou(),s=ar(),o=z.useRef(null),[u,d]=z.useState("arch"),[p,m]=z.useState("all"),[y,k]=z.useState(!1),{hero_images:E,project_categories:A,projects:$}=i,[F,K]=z.useState([]);z.useEffect(()=>{K($||[]),(async()=>{try{const W=(await Lk(Jp(gh,"projects"))).docs.map(le=>({id:le.id,...le.data()}));K(le=>[...W,...le])}catch(W){console.error("Failed to fetch dynamic projects:",W)}})()},[$]),z.useEffect(()=>{var W;((W=s.state)==null?void 0:W.scrollTo)==="projects"&&setTimeout(()=>{var le;(le=o.current)==null||le.scrollIntoView({behavior:"smooth"})},100)},[s]);const G=p==="all"?F:F.filter(W=>W.category===p),ne=y?G:G.slice(0,3),re=((e=(A||[]).find(W=>W.id===p))==null?void 0:e.header)||"TT C D N";return w.jsxs(w.Fragment,{children:[w.jsxs("section",{className:"relative h-screen flex items-center justify-center text-white overflow-hidden",children:[w.jsx(s3,{heroImages:E}),w.jsxs("div",{className:"relative z-10 text-center px-6 max-w-4xl",children:[w.jsx("h1",{className:"text-5xl md:text-7xl font-heading font-bold mb-4 leading-tight",children:"Gii php khng gian t  tng n hon thin"}),w.jsx("p",{className:"text-sm md:text-base text-gray-200 mb-10 max-w-2xl mx-auto font-light leading-relaxed",children:"Thit k, thi cng, din ho v sng to bng AI"}),w.jsx("div",{className:"flex flex-col md:flex-row gap-4 justify-center",children:w.jsx("a",{href:"#projects",onClick:W=>{var le;W.preventDefault(),(le=o.current)==null||le.scrollIntoView({behavior:"smooth"})},className:"bg-brand-primary py-4 px-10 font-bold uppercase tracking-widest hover:bg-white hover:text-black transition-all",children:"XEM CNG TRNH THC T"})})]})]}),w.jsx("section",{className:"bg-white py-20 border-b border-gray-100",children:w.jsx("div",{className:"container mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-8 text-center relative",children:[{v:15,l:"NM KINH NGHIM"},{v:250,l:"CNG TRNH HON THIN"},{v:10,l:"TNH THNH / QUC GIA"}].map((W,le)=>w.jsxs("div",{className:"group cursor-default flex flex-col items-center",children:[w.jsx(a3,{target:W.v}),w.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400 mt-2 font-bold",children:W.l})]},le))})}),w.jsx("section",{id:"services",className:"py-24 bg-white border-b border-gray-50 overflow-hidden",children:w.jsxs("div",{className:"container mx-auto px-6",children:[w.jsxs("div",{className:"text-center mb-16",children:[w.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold uppercase tracking-widest",children:"DCH V CUNG CP"}),w.jsx("div",{className:"w-20 h-1 bg-brand-primary mx-auto mt-6"})]}),w.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:OE.map((W,le)=>w.jsxs("div",{onClick:()=>n("/services"),className:"group relative overflow-hidden h-[350px] cursor-pointer shadow-lg rounded-sm",children:[w.jsx("img",{src:W.img,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",alt:W.title}),w.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent flex flex-col justify-end p-6",children:[w.jsx("div",{className:"text-brand-primary mb-3 transition-transform group-hover:-translate-y-1",children:W.icon}),w.jsx("h3",{className:"text-[10px] md:text-xs font-bold text-white uppercase tracking-[0.15em] leading-tight",children:W.title})]})]},le))})]})}),w.jsx("section",{className:"py-16 bg-[#e0ddd2] text-gray-900 overflow-hidden",children:w.jsxs("div",{className:"container mx-auto px-6",children:[w.jsx("div",{className:"flex justify-center mb-16 overflow-x-auto scrollbar-hide pb-4",children:w.jsx("div",{className:"inline-flex bg-white/50 p-1 rounded-sm border border-black/5 whitespace-nowrap shadow-sm",children:Object.keys(_p).map(W=>w.jsx("button",{onClick:()=>d(W),className:`px-5 py-3 text-[9px] md:text-[10px] font-bold uppercase tracking-[0.2em] transition-all ${u===W?"bg-brand-primary text-white shadow-lg":"text-gray-500 hover:text-brand-primary"}`,children:_p[W].label},W))})}),w.jsx("div",{className:"max-w-7xl mx-auto relative px-4",children:w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:_p[u].stages.map((W,le)=>w.jsxs("div",{className:"relative group animate-fadeIn flex flex-col items-center text-center",children:[w.jsx("div",{className:"w-12 h-12 rounded-full bg-white border border-gray-200 flex items-center justify-center z-10 group-hover:border-brand-primary transition-all shadow-md mb-6",children:w.jsx("div",{className:"text-gray-400 group-hover:text-brand-primary transition-all scale-75",children:W.icon})}),w.jsxs("div",{className:"bg-white/70 backdrop-blur-sm p-6 rounded-sm border border-black/5 group-hover:border-brand-primary/20 transition-all flex flex-col items-center w-full h-full shadow-sm hover:shadow-xl group-hover:bg-white",children:[w.jsx("h5",{className:"text-[10px] font-bold text-brand-primary uppercase tracking-[0.3em] mb-2",children:W.title}),w.jsx("h4",{className:"text-sm md:text-base font-bold mb-4 uppercase tracking-widest min-h-[40px] flex items-center justify-center text-gray-800",children:W.subtitle}),w.jsx("p",{className:"text-gray-600 text-[11px] font-medium tracking-widest leading-relaxed mb-6",children:W.desc}),W.pay&&w.jsxs("div",{className:"mt-auto flex items-center gap-2 bg-brand-primary/10 py-2 px-4 rounded-sm border border-brand-primary/10 w-fit",children:[w.jsx(SS,{className:"w-3 h-3 text-brand-primary"}),w.jsxs("span",{className:"text-[9px] font-bold text-brand-primary uppercase tracking-widest leading-none",children:["THNG TON: ",W.pay.replace("","").trim()]})]})]})]},le))})})]})}),w.jsx("section",{id:"projects",ref:o,className:"py-24 bg-gray-50 overflow-hidden",children:w.jsxs("div",{className:"container mx-auto px-6",children:[w.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-16 gap-6",children:[w.jsxs("div",{className:"w-full md:w-1/2",children:[w.jsx("h4",{className:"text-brand-primary font-bold text-xs uppercase tracking-[0.3em] mb-4 uppercase",children:"D N"}),w.jsx("h2",{className:"text-4xl font-heading font-bold uppercase tracking-widest transition-all animate-fadeIn",children:re})]}),w.jsx("div",{className:"w-full md:w-1/2 flex justify-end",children:w.jsx("div",{className:"flex flex-wrap gap-2 justify-end bg-white/50 p-2 border border-gray-100 rounded-sm",children:(A||[]).map(W=>w.jsx("button",{onClick:()=>{m(W.id),k(!1)},className:`px-4 py-2 text-[10px] font-bold uppercase tracking-widest transition-all ${p===W.id?"bg-brand-primary text-white shadow-sm":"text-gray-400 hover:text-brand-primary"}`,children:W.label},W.id))})})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:ne.length>0?ne.map(W=>w.jsxs("div",{onClick:()=>n(`/project/${W.id}`),className:"group cursor-pointer bg-white overflow-hidden shadow-md hover:shadow-2xl transition-all duration-500 rounded-sm",children:[w.jsxs("div",{className:"relative overflow-hidden aspect-[4/3]",children:[w.jsx("img",{src:W.gallery[0]||"placeholder.jpg",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-1000",alt:W.title}),w.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors"})]}),w.jsx("div",{className:"p-8 flex justify-between items-center text-center",children:w.jsxs("div",{className:"w-full",children:[w.jsx("h3",{className:"text-xl font-bold mb-2 group-hover:text-brand-primary transition-colors uppercase",children:W.title}),w.jsxs("p",{className:"text-[10px] text-gray-500 uppercase tracking-widest font-bold",children:[W.floors,"  ",W.area,"  ",W.style]})]})})]},W.id)):w.jsx("div",{className:"col-span-full py-20 text-center opacity-40",children:w.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest",children:"ang cp nht thm d n trong mc ny..."})})}),!y&&G.length>3&&w.jsx("div",{className:"flex justify-center mt-16 animate-fadeIn",children:w.jsxs("button",{onClick:()=>k(!0),className:"border-2 border-[#705d3f] text-[#705d3f] px-12 py-4 text-[12px] font-bold uppercase tracking-[0.3em] hover:bg-[#705d3f] hover:text-white transition-all rounded-sm shadow-md flex items-center gap-4 group",children:["TI THM ",w.jsx(Ww,{className:"w-4 h-4 group-hover:rotate-90 transition-transform"})]})})]})})]})},u3=()=>w.jsxs("div",{className:"pt-24 min-h-screen bg-[#e0ddd2] flex flex-col lg:flex-row animate-fadeIn",children:[w.jsxs("div",{className:"w-full lg:w-1/2 px-8 lg:px-24 py-16 flex flex-col justify-center",children:[w.jsx("h4",{className:"text-brand-primary font-bold text-xs uppercase tracking-[0.4em] mb-6",children:"GII THIU"}),w.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-bold mb-10 text-brand-secondary leading-tight uppercase",children:"V NM Studio"}),w.jsxs("div",{className:"space-y-6 text-gray-700 leading-relaxed text-sm md:text-base font-light",children:[w.jsx("p",{children:"NM Studio l n v hot ng trong lnh vc thit k kin trc  ni tht, thi cng hon thin v din ho khng gian, vi hn 15 nm kinh nghim trong ngnh."}),w.jsx("p",{children:"Thnh lp t nm 2007, NM Studio khi u vi cc d n thit k nh , bit th v tham gia din ho kin trc  ni tht cho nhiu cng ty thit k trong v ngoi nc."})]}),w.jsx("div",{className:"mt-12",children:w.jsx("div",{className:"w-20 h-1 bg-brand-primary"})})]}),w.jsx("div",{className:"w-full lg:w-1/2 min-h-[500px] lg:min-h-0 relative overflow-hidden",children:w.jsx("img",{src:"https://images.unsplash.com/photo-1600607687920-4e2a09cf159d?auto=format&fit=crop&q=80&w=2000",className:"w-full h-full object-cover grayscale hover:grayscale-0 transition-all duration-1000",alt:"Studio View"})})]}),c3=()=>w.jsxs("div",{className:"pt-24 min-h-screen bg-[#f4f1ea] animate-fadeIn",children:[w.jsxs("div",{className:"container mx-auto px-6 py-16 text-center max-w-4xl",children:[w.jsx("h4",{className:"text-brand-primary font-bold text-xs uppercase tracking-[0.4em] mb-6",children:"GII PHP TON DIN"}),w.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-bold mb-8 text-brand-secondary uppercase tracking-widest",children:"DCH V  NM STUDIO"}),w.jsx("p",{className:"text-gray-600 leading-relaxed text-sm md:text-base font-light mb-12",children:"NM Studio cung cp h sinh thi dch v ton din, p ng trn vn nhu cu t  tng n trin khai cho d n ca bn."}),w.jsx("div",{className:"w-20 h-1 bg-brand-primary mx-auto"})]}),w.jsx("div",{className:"container mx-auto px-6 pb-24 grid md:grid-cols-2 gap-16 items-center",children:OE.map((i,e)=>w.jsxs("div",{className:"group relative overflow-hidden h-[400px] shadow-xl",children:[w.jsx("img",{src:i.img,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700",alt:i.title}),w.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/20 to-transparent flex flex-col justify-end p-8",children:[w.jsx("div",{className:"text-brand-primary mb-4",children:i.icon}),w.jsx("h3",{className:"text-xl font-bold text-white uppercase tracking-widest",children:i.title})]})]},e))})]}),h3=()=>w.jsxs("div",{className:"pt-24 min-h-screen bg-white animate-fadeIn",children:[w.jsxs("div",{className:"h-[60vh] relative overflow-hidden flex items-center justify-center text-center",children:[w.jsx("img",{src:"https://images.unsplash.com/photo-1497366216548-37526070297c?auto=format&fit=crop&q=80&w=2000",className:"absolute inset-0 w-full h-full object-cover grayscale opacity-20",alt:"Blog BG"}),w.jsxs("div",{className:"relative z-10 px-6 max-w-4xl",children:[w.jsx("h4",{className:"text-brand-primary font-bold text-xs uppercase tracking-[0.5em] mb-6",children:"KIN THC CHUYN NGNH"}),w.jsx("h1",{className:"text-5xl md:text-7xl font-heading font-bold text-gray-900 mb-8 uppercase tracking-widest",children:"Cm Nang NM Studio"}),w.jsx("p",{className:"text-gray-500 font-light text-sm md:text-base leading-relaxed max-w-2xl mx-auto",children:"Chia s kinh nghim thc t trong thit k, thi cng v qun l d n xy dng t i ng 15 nm kinh nghim."})]})]}),w.jsx("div",{className:"container mx-auto px-6 py-20",children:w.jsx("div",{className:"max-w-4xl mx-auto space-y-24",children:w.jsxs("article",{className:"prose prose-brand max-w-none",children:[w.jsxs("div",{className:"flex items-center gap-4 mb-10 text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:[w.jsxs("span",{className:"flex items-center gap-2",children:[w.jsx(pS,{className:"w-3 h-3"})," 24 Thng 05, 2024"]}),w.jsx("span",{className:"w-1 h-1 bg-gray-300 rounded-full"}),w.jsx("span",{className:"text-brand-primary",children:"Kin trc & K thut"})]}),w.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-gray-900 mb-8 uppercase tracking-wide leading-snug",children:"La chn phong cch kin trc: Cn hiu ng  trnh lng ph v hi tic"}),w.jsxs("div",{className:"text-sm md:text-base text-gray-600 font-light leading-relaxed space-y-8",children:[w.jsxs("p",{children:[w.jsx("strong",{children:"1. M bi:"})," Trong hn 15 nm tham gia t vn v thi cng, chng ti nhn thy mt sai lm ph bin ca nhiu ch u t..."]}),w.jsx("h3",{className:"text-xl font-bold text-gray-800 uppercase tracking-widest mt-12 border-l-4 border-brand-primary pl-4",children:"2. Gii thch khi nim"}),w.jsx("p",{children:'Phong cch kin trc khng ch l "ci v" bn ngoi ca ngi nh...'}),w.jsx("div",{className:"mt-20 pt-10 border-t border-gray-100 italic text-gray-400 text-sm text-center",children:"Vic hiu ng v la chn phong cch kin trc s gip ch u t hn ch ri ro v pht sinh khng cn thit trong qu trnh thit k  thi cng. Nu cn t vn c th cho d n ca mnh, bn c th trao i thm vi NM Studio."})]})]})})})]}),d3=()=>w.jsxs("div",{className:"pt-24 min-h-screen bg-[#111] animate-fadeIn",children:[w.jsxs("div",{className:"py-20 text-center px-6",children:[w.jsx("h4",{className:"text-brand-primary font-bold text-[10px] uppercase tracking-[0.5em] mb-4",children:"CONTACT US"}),w.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-bold text-white uppercase tracking-widest mb-6",children:"Lin H / Nhn T Vn"}),w.jsx("div",{className:"w-16 h-1 bg-brand-primary mx-auto"})]}),w.jsx("div",{className:"container mx-auto px-6 pb-24",children:w.jsx("div",{className:"max-w-4xl mx-auto bg-[#1a1a1a] p-8 md:p-12 border border-white/5 shadow-2xl rounded-sm",children:w.jsxs("form",{id:"nm-contact",className:"space-y-10",children:[w.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Tn (bt buc)"}),w.jsx("input",{name:"firstName",required:!0,placeholder:"Tn",className:"w-full bg-[#111] border border-white/10 p-4 text-xs text-white focus:border-brand-primary outline-none transition-all"})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"H (bt buc)"}),w.jsx("input",{name:"lastName",required:!0,placeholder:"H",className:"w-full bg-[#111] border border-white/10 p-4 text-xs text-white focus:border-brand-primary outline-none transition-all"})]})]}),w.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Email (bt buc)"}),w.jsx("input",{type:"email",name:"email",required:!0,placeholder:"example@email.com",className:"w-full bg-[#111] border border-white/10 p-4 text-xs text-white focus:border-brand-primary outline-none transition-all"})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"in thoi (bt buc)"}),w.jsx("input",{name:"phone",required:!0,placeholder:"09xx xxx xxx",className:"w-full bg-[#111] border border-white/10 p-4 text-xs text-white focus:border-brand-primary outline-none transition-all"})]})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("legend",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Loi d n (bt buc  chn nhiu)"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:["Cng trnh mi","Ci to / nng cp","Ni tht","Kin trc","Thng mi / Vn phng / Dch v","Khc"].map(i=>w.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[w.jsx("input",{type:"checkbox",name:"projectTypes",value:i,className:"w-4 h-4 accent-brand-primary"}),w.jsx("span",{className:"text-[11px] text-gray-400 group-hover:text-white transition-colors",children:i})]},i))})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("legend",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Dch v quan tm (bt buc  chn nhiu)"}),w.jsx("div",{className:"space-y-3",children:["Design  Thit k kin trc / ni tht","Build  Thi cng hon thin ni tht","Visualization (CGI)  Din ho kin trc / ni tht","AI  Din ho nhanh & concept","AI Creative  Logo / Website /  ho / Truyn thng","Cha xc nh  cn t vn"].map(i=>w.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[w.jsx("input",{type:"checkbox",name:"services",value:i,className:"w-4 h-4 accent-brand-primary"}),w.jsx("span",{className:"text-[11px] text-gray-400 group-hover:text-white transition-colors",children:i})]},i))})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"V tr d n"}),w.jsx("input",{name:"location",placeholder:"Qun / Thnh ph / Tnh",className:"w-full bg-[#111] border border-white/10 p-4 text-xs text-white focus:border-brand-primary outline-none transition-all"})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("legend",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Phm vi mong mun (chn nhiu)"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["T vn nh hng ban u","Thit k concept","Thit k chi tit k thut","Thi cng trn gi","Din ho thuyt trnh / marketing","ng dng AI  ln  tng nhanh"].map(i=>w.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[w.jsx("input",{type:"checkbox",name:"scope",value:i,className:"w-4 h-4 accent-brand-primary"}),w.jsx("span",{className:"text-[11px] text-gray-400 group-hover:text-white transition-colors",children:i})]},i))})]}),w.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Thi gian d kin"}),w.jsxs("select",{name:"timeline",className:"w-full bg-[#111] border border-white/10 p-4 text-xs text-white focus:border-brand-primary outline-none transition-all appearance-none",children:[w.jsx("option",{value:"",children:"Chn"}),w.jsx("option",{children:"Ngay"}),w.jsx("option",{children:"Trong 13 thng"}),w.jsx("option",{children:"Trong 36 thng"}),w.jsx("option",{children:"Cha xc nh"})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Ngn sch d kin"}),w.jsxs("select",{name:"budget",className:"w-full bg-[#111] border border-white/10 p-4 text-xs text-white focus:border-brand-primary outline-none transition-all appearance-none",children:[w.jsx("option",{value:"",children:"Chn"}),w.jsx("option",{children:"Di 500 triu"}),w.jsx("option",{children:"500 triu  1 t"}),w.jsx("option",{children:"1  3 t"}),w.jsx("option",{children:"Trn 3 t"}),w.jsx("option",{children:"Cha xc nh / mun t vn"})]})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Hy cho chng ti bit thm v d n ca bn (bt buc)"}),w.jsx("p",{className:"text-[9px] text-gray-500 uppercase italic mb-2 tracking-widest",children:"Gi : Loi cng trnh, din tch, tnh trng hin ti, phong cch mong mun..."}),w.jsx("textarea",{name:"message",required:!0,rows:6,placeholder:"V d: Cn h 85m2, cn thit k ni tht theo phong cch hin i...",className:"w-full bg-[#111] border border-white/10 p-4 text-xs text-white focus:border-brand-primary outline-none transition-all resize-none"})]}),w.jsxs("div",{className:"text-center space-y-4",children:[w.jsxs("button",{type:"submit",className:"bg-[#D49910] hover:bg-[#B3800D] text-black font-bold uppercase tracking-[0.3em] px-12 py-5 text-sm transition-all shadow-xl rounded-sm active:scale-95 flex items-center gap-4 mx-auto",children:["Np / Send ",w.jsx(o_,{className:"w-4 h-4"})]}),w.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-widest opacity-75",children:"NM Studio s lin h li trong 2448 gi lm vic."})]})]})})})]}),f3=({projects:i})=>{const{id:e}=sT(),n=ou(),s=i.find(d=>String(d.id)===e),[o,u]=z.useState("");return z.useEffect(()=>{s&&s.gallery&&s.gallery.length>0&&u(s.gallery[0])},[s]),s?w.jsx("div",{className:"pt-24 min-h-screen bg-white animate-fadeIn",children:w.jsxs("div",{className:"container mx-auto px-6 py-12",children:[w.jsxs("button",{onClick:()=>n("/"),className:"flex items-center gap-2 text-gray-400 hover:text-brand-primary text-xs font-bold uppercase tracking-widest mb-12 transition-all group",children:[w.jsx(aS,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})," Quay li trang ch"]}),w.jsxs("div",{className:"flex flex-col lg:flex-row gap-16",children:[w.jsxs("div",{className:"w-full lg:w-1/3 space-y-10",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-bold text-gray-900 leading-tight mb-4 uppercase",children:s.title}),w.jsx("div",{className:"w-16 h-1 bg-brand-primary"})]}),w.jsx("div",{className:"grid grid-cols-2 gap-y-8 gap-x-4",children:[{label:"V tr",val:s.location},{label:"Nm thc hin",val:s.year},{label:"Phong cch",val:s.style},{label:"Quy m",val:s.floors},{label:"Din tch",val:s.area},{label:"Loi hnh",val:s.type}].map((d,p)=>w.jsxs("div",{children:[w.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest mb-1",children:d.label}),w.jsx("p",{className:"text-sm font-bold text-gray-800 uppercase",children:d.val})]},p))}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest mb-1",children:"M t d n"}),w.jsx("p",{className:"text-sm text-gray-600 leading-relaxed font-light",children:s.description})]}),w.jsx("button",{onClick:()=>n("/contact"),className:"w-full bg-brand-primary text-white py-4 px-10 text-[11px] font-bold uppercase tracking-widest hover:bg-brand-secondary transition-all shadow-lg",children:"LIN H NGAY"})]}),w.jsxs("div",{className:"w-full lg:w-2/3 space-y-6",children:[w.jsx("div",{className:"aspect-video w-full overflow-hidden shadow-2xl bg-gray-100",children:w.jsx("img",{src:o,className:"w-full h-full object-cover animate-fadeIn",alt:s.title})}),w.jsx("div",{className:"grid grid-cols-4 md:grid-cols-6 gap-4",children:s.gallery.map((d,p)=>w.jsx("div",{onClick:()=>u(d),className:`aspect-square overflow-hidden cursor-pointer border-2 transition-all ${o===d?"border-brand-primary opacity-100 scale-95":"border-transparent opacity-60 hover:opacity-100"}`,children:w.jsx("img",{src:d,className:"w-full h-full object-cover",alt:`Thumb ${p}`})},p))})]})]})]})}):w.jsxs("div",{className:"pt-32 text-center",children:[w.jsx("p",{children:"Khng tm thy d n hoc ang ti..."}),w.jsx("button",{onClick:()=>n("/"),className:"text-brand-primary mt-4 underline",children:"Quay v trang ch"})]})},p3=()=>{z.useEffect(()=>{console.log("!!! ADMIN COMPONENT MOUNTED !!!")},[]);const[i,e]=z.useState(null),[n,s]=z.useState(""),[o,u]=z.useState(""),[d,p]=z.useState(""),[m,y]=z.useState([]),[k,E]=z.useState(!1),[A,$]=z.useState(!1),[F,K]=z.useState({title:"",category:"arch",location:"",year:new Date().getFullYear().toString(),style:"",floors:"",area:"",type:"",description:"",gallery:[]});z.useEffect(()=>Sp.onAuthStateChanged(ie=>{e(ie),ie&&G()}),[]);const G=async()=>{try{const ie=(await Lk(Jp(gh,"projects"))).docs.map(_=>({id:_.id,..._.data()}));y(ie)}catch(ie){console.error("Error fetching posts:",ie)}},ne=async ie=>{ie.preventDefault(),p("");try{await CR(Sp,n,o)}catch(_){p("Login failed. Check your email/password."),console.error(_)}},re=async ie=>{if(ie.preventDefault(),!F.title)return alert("Title is required");try{$(!0),await C4(Jp(gh,"projects"),{...F,createdAt:new Date().toISOString()}),alert("Project created successfully!"),K({title:"",category:"arch",location:"",year:new Date().getFullYear().toString(),style:"",floors:"",area:"",type:"",description:"",gallery:[]}),E(!1),G()}catch(_){console.error("Error adding document: ",_),alert("Error saving post")}finally{$(!1)}},W=async ie=>{if(!ie.target.files)return;$(!0);const _=Array.from(ie.target.files);try{const S=_.map(async O=>{const R=Y6(i3,`uploads/${Date.now()}_${O.name}`);return await J6(R,O),await X6(R)}),C=await Promise.all(S);K(O=>({...O,gallery:[...O.gallery,...C]}))}catch(S){console.error("Upload failed",S),alert("Upload failed. Check console.")}finally{$(!1)}},le=async ie=>{if(confirm("Are you sure you want to delete this project?"))try{await _4(_k(gh,"projects",ie)),G()}catch(_){console.error("Error deleting doc:",_)}},we=ie=>{K(_=>({..._,gallery:_.gallery.filter((S,C)=>C!==ie)}))};return i?w.jsx("div",{className:"pt-24 pb-24 min-h-screen bg-gray-50 text-gray-800",children:w.jsxs("div",{className:"container mx-auto px-6",children:[w.jsxs("div",{className:"flex justify-between items-center mb-8",children:[w.jsx("h1",{className:"text-3xl font-heading font-bold text-brand-secondary",children:"Admin Dashboard"}),w.jsxs("div",{className:"flex gap-4",children:[w.jsxs("button",{onClick:()=>E(!k),className:"flex items-center gap-2 bg-brand-primary text-white px-4 py-2 rounded shadow hover:bg-brand-secondary transition",children:[w.jsx(Ww,{className:"w-4 h-4"})," ",k?"Cancel":"New Project"]}),w.jsx("button",{onClick:()=>AR(Sp),className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 transition",children:"Sign Out"})]})]}),k&&w.jsxs("div",{className:"bg-white p-8 rounded shadow-xl mb-10 animate-fadeIn border border-gray-200",children:[w.jsx("h2",{className:"text-xl font-bold mb-6 uppercase tracking-widest text-brand-primary",children:"Create New Project"}),w.jsxs("form",{onSubmit:re,className:"space-y-6",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 mb-1 block",children:"Tn D n"}),w.jsx("input",{className:"w-full border p-2 rounded",placeholder:"e.g. Villa Riverside",value:F.title,onChange:ie=>K({...F,title:ie.target.value})})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 mb-1 block",children:"Danh Mc"}),w.jsxs("select",{className:"w-full border p-2 rounded",value:F.category,onChange:ie=>K({...F,category:ie.target.value}),children:[w.jsx("option",{value:"arch",children:"Kin Trc"}),w.jsx("option",{value:"interior",children:"Ni Tht"}),w.jsx("option",{value:"construction",children:"Thi Cng"}),w.jsx("option",{value:"cgi",children:"CGI"}),w.jsx("option",{value:"ai",children:"AI Creative"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 mb-1 block",children:"V Tr"}),w.jsx("input",{className:"w-full border p-2 rounded",placeholder:"H Ni",value:F.location,onChange:ie=>K({...F,location:ie.target.value})})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 mb-1 block",children:"Nm"}),w.jsx("input",{className:"w-full border p-2 rounded",placeholder:"2024",value:F.year,onChange:ie=>K({...F,year:ie.target.value})})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 mb-1 block",children:"Din Tch"}),w.jsx("input",{className:"w-full border p-2 rounded",placeholder:"350m2",value:F.area,onChange:ie=>K({...F,area:ie.target.value})})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 mb-1 block",children:"S Tng / Quy M"}),w.jsx("input",{className:"w-full border p-2 rounded",placeholder:"3 tng",value:F.floors,onChange:ie=>K({...F,floors:ie.target.value})})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 mb-1 block",children:"Phong Cch"}),w.jsx("input",{className:"w-full border p-2 rounded",placeholder:"Hin i / Indochine",value:F.style,onChange:ie=>K({...F,style:ie.target.value})})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 mb-1 block",children:"Loi Hnh"}),w.jsx("input",{className:"w-full border p-2 rounded",placeholder:"Bit th / Nh ph",value:F.type,onChange:ie=>K({...F,type:ie.target.value})})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 mb-1 block",children:"M t"}),w.jsx("textarea",{className:"w-full border p-2 rounded h-32",placeholder:"M t chi tit d n...",value:F.description,onChange:ie=>K({...F,description:ie.target.value})})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 mb-2 block",children:"Hnh nh (Gallery)"}),w.jsx("div",{className:"border-2 border-dashed border-gray-300 p-8 text-center rounded bg-gray-50 hover:bg-gray-100 transition relative",children:A?w.jsx("p",{className:"text-brand-primary animate-pulse",children:"Uploading..."}):w.jsxs(w.Fragment,{children:[w.jsx(m_,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),w.jsx("p",{className:"text-sm text-gray-500",children:"Click to upload images"}),w.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:W,className:"absolute inset-0 opacity-0 cursor-pointer"})]})}),F.gallery.length>0&&w.jsx("div",{className:"grid grid-cols-6 gap-2 mt-4",children:F.gallery.map((ie,_)=>w.jsxs("div",{className:"relative group aspect-square",children:[w.jsx("img",{src:ie,className:"w-full h-full object-cover rounded shadow-sm",alt:"Preview"}),w.jsx("button",{type:"button",onClick:()=>we(_),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition",children:w.jsx(y_,{className:"w-3 h-3"})})]},_))})]}),w.jsx("div",{className:"flex justify-end pt-4",children:w.jsx("button",{type:"submit",disabled:A,className:"bg-brand-primary text-white px-8 py-3 rounded font-bold uppercase tracking-widest hover:bg-brand-secondary transition disabled:opacity-50",children:A?"Processing...":"Publish Project"})})]})]}),w.jsxs("div",{className:"bg-white rounded shadow-sm border border-gray-100 overflow-hidden",children:[w.jsx("div",{className:"p-6 border-b border-gray-100 bg-gray-50",children:w.jsxs("h3",{className:"font-bold uppercase text-sm text-gray-500 tracking-widest",children:["Existing Projects (",m.length,")"]})}),m.length===0?w.jsx("div",{className:"p-8 text-center text-gray-400",children:"No projects found. Create one!"}):w.jsx("div",{className:"divide-y divide-gray-100",children:m.map(ie=>{var _;return w.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-gray-50 transition",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded overflow-hidden",children:((_=ie.gallery)==null?void 0:_[0])&&w.jsx("img",{src:ie.gallery[0],className:"w-full h-full object-cover",alt:"Thumb"})}),w.jsxs("div",{children:[w.jsx("h4",{className:"font-bold text-brand-secondary",children:ie.title}),w.jsxs("p",{className:"text-xs text-gray-500",children:[ie.category,"  ",ie.year]})]})]}),w.jsx("div",{className:"flex gap-2",children:w.jsx("button",{onClick:()=>le(ie.id),className:"p-2 text-red-400 hover:text-red-600",children:w.jsx(f_,{className:"w-5 h-5"})})})]},ie.id)})})]})]})}):w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 py-32",children:w.jsxs("div",{className:"bg-white p-10 rounded-xl shadow-2xl w-full max-w-md border-t-8 border-brand-primary animate-fadeIn",children:[w.jsxs("div",{className:"text-center mb-10",children:[w.jsx("h2",{className:"text-3xl font-heading font-black text-brand-secondary uppercase tracking-tighter",children:"H THNG QUN TR"}),w.jsx("p",{className:"text-xs text-gray-400 mt-2 font-bold uppercase tracking-widest",children:"N&M Studio Control Panel"})]}),d&&w.jsx("p",{className:"bg-red-50 text-red-500 text-xs p-3 rounded mb-6 border border-red-100 font-medium",children:d}),w.jsxs("form",{onSubmit:ne,className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),w.jsx("input",{type:"email",required:!0,className:"mt-1 block w-full border border-gray-300 rounded p-2",value:n,onChange:ie=>s(ie.target.value)})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),w.jsx("input",{type:"password",required:!0,className:"mt-1 block w-full border border-gray-300 rounded p-2",value:o,onChange:ie=>u(ie.target.value)})]}),w.jsx("button",{type:"submit",className:"w-full bg-brand-primary text-white py-2 rounded hover:bg-brand-secondary transition font-bold",children:"LOGIN"})]})]})})},m3=()=>{const i=ar(),[e,n]=z.useState(o3),[s,o]=z.useState(!0);return z.useEffect(()=>{console.log("Current Path:",i.pathname)},[i]),z.useEffect(()=>{fetch("/content.json").then(u=>u.json()).then(u=>{n(u),o(!1)}).catch(u=>{console.error("Failed to load content:",u),o(!1)})},[]),s?w.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-[#111]",children:w.jsx("div",{className:"animate-pulse text-brand-primary font-heading font-bold tracking-widest uppercase text-xl",children:"NM Studio Loading..."})}):w.jsxs("div",{className:"font-sans text-gray-900 selection:bg-brand-primary selection:text-white",children:[w.jsx(b_,{navItems:e.nav_items}),w.jsxs(wT,{children:[w.jsx(Qi,{path:"/admin",element:w.jsx(p3,{})}),w.jsx(Qi,{path:"/about",element:w.jsx(u3,{})}),w.jsx(Qi,{path:"/services",element:w.jsx(c3,{})}),w.jsx(Qi,{path:"/handbook",element:w.jsx(h3,{})}),w.jsx(Qi,{path:"/contact",element:w.jsx(d3,{})}),w.jsx(Qi,{path:"/project/:id",element:w.jsx(f3,{projects:e.projects||[]})}),w.jsx(Qi,{path:"/",element:w.jsx(l3,{content:e})})]}),w.jsx(w_,{})]})},g3=Ex.createRoot(document.getElementById("root"));g3.render(w.jsx(mx.StrictMode,{children:w.jsx(qT,{children:w.jsx(m3,{})})}));
